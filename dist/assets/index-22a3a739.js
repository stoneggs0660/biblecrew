function Ny(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ay(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xp={exports:{}},Gl={},Jp={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ao=Symbol.for("react.element"),Dy=Symbol.for("react.portal"),Py=Symbol.for("react.fragment"),Fy=Symbol.for("react.strict_mode"),My=Symbol.for("react.profiler"),Oy=Symbol.for("react.provider"),By=Symbol.for("react.context"),Ly=Symbol.for("react.forward_ref"),zy=Symbol.for("react.suspense"),$y=Symbol.for("react.memo"),Wy=Symbol.for("react.lazy"),Nf=Symbol.iterator;function Uy(t){return t===null||typeof t!="object"?null:(t=Nf&&t[Nf]||t["@@iterator"],typeof t=="function"?t:null)}var Zp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},em=Object.assign,tm={};function Mi(t,e,n){this.props=t,this.context=e,this.refs=tm,this.updater=n||Zp}Mi.prototype.isReactComponent={};Mi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Mi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nm(){}nm.prototype=Mi.prototype;function Bu(t,e,n){this.props=t,this.context=e,this.refs=tm,this.updater=n||Zp}var Lu=Bu.prototype=new nm;Lu.constructor=Bu;em(Lu,Mi.prototype);Lu.isPureReactComponent=!0;var Af=Array.isArray,rm=Object.prototype.hasOwnProperty,zu={current:null},im={key:!0,ref:!0,__self:!0,__source:!0};function sm(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)rm.call(e,r)&&!im.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ao,type:t,key:s,ref:o,props:i,_owner:zu.current}}function Hy(t,e){return{$$typeof:ao,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $u(t){return typeof t=="object"&&t!==null&&t.$$typeof===ao}function Vy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Df=/\/+/g;function Da(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Vy(""+t.key):e.toString(36)}function Go(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ao:case Dy:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Da(o,0):r,Af(i)?(n="",t!=null&&(n=t.replace(Df,"$&/")+"/"),Go(i,e,n,"",function(u){return u})):i!=null&&($u(i)&&(i=Hy(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Df,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Af(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+Da(s,l);o+=Go(s,e,n,c,i)}else if(c=Uy(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+Da(s,l++),o+=Go(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ro(t,e,n){if(t==null)return t;var r=[],i=0;return Go(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Yy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mt={current:null},Qo={transition:null},Gy={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:Qo,ReactCurrentOwner:zu};function om(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Ro,forEach:function(t,e,n){Ro(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ro(t,function(){e++}),e},toArray:function(t){return Ro(t,function(e){return e})||[]},only:function(t){if(!$u(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=Mi;re.Fragment=Py;re.Profiler=My;re.PureComponent=Bu;re.StrictMode=Fy;re.Suspense=zy;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gy;re.act=om;re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=em({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=zu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)rm.call(e,c)&&!im.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ao,type:t.type,key:i,ref:s,props:r,_owner:o}};re.createContext=function(t){return t={$$typeof:By,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Oy,_context:t},t.Consumer=t};re.createElement=sm;re.createFactory=function(t){var e=sm.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:Ly,render:t}};re.isValidElement=$u;re.lazy=function(t){return{$$typeof:Wy,_payload:{_status:-1,_result:t},_init:Yy}};re.memo=function(t,e){return{$$typeof:$y,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=Qo.transition;Qo.transition={};try{t()}finally{Qo.transition=e}};re.unstable_act=om;re.useCallback=function(t,e){return mt.current.useCallback(t,e)};re.useContext=function(t){return mt.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return mt.current.useDeferredValue(t)};re.useEffect=function(t,e){return mt.current.useEffect(t,e)};re.useId=function(){return mt.current.useId()};re.useImperativeHandle=function(t,e,n){return mt.current.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return mt.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return mt.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return mt.current.useMemo(t,e)};re.useReducer=function(t,e,n){return mt.current.useReducer(t,e,n)};re.useRef=function(t){return mt.current.useRef(t)};re.useState=function(t){return mt.current.useState(t)};re.useSyncExternalStore=function(t,e,n){return mt.current.useSyncExternalStore(t,e,n)};re.useTransition=function(){return mt.current.useTransition()};re.version="18.3.1";Jp.exports=re;var b=Jp.exports;const lm=Ay(b),Qy=Ny({__proto__:null,default:lm},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky=b,qy=Symbol.for("react.element"),Xy=Symbol.for("react.fragment"),Jy=Object.prototype.hasOwnProperty,Zy=Ky.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ev={key:!0,ref:!0,__self:!0,__source:!0};function am(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Jy.call(e,r)&&!ev.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:qy,type:t,key:s,ref:o,props:i,_owner:Zy.current}}Gl.Fragment=Xy;Gl.jsx=am;Gl.jsxs=am;Xp.exports=Gl;var a=Xp.exports;var cm={exports:{}},It={},um={exports:{}},dm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,O){var z=I.length;I.push(O);e:for(;0<z;){var Q=z-1>>>1,ie=I[Q];if(0<i(ie,O))I[Q]=O,I[z]=ie,z=Q;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var O=I[0],z=I.pop();if(z!==O){I[0]=z;e:for(var Q=0,ie=I.length,je=ie>>>1;Q<je;){var Fe=2*(Q+1)-1,nt=I[Fe],Ct=Fe+1,Ve=I[Ct];if(0>i(nt,z))Ct<ie&&0>i(Ve,nt)?(I[Q]=Ve,I[Ct]=z,Q=Ct):(I[Q]=nt,I[Fe]=z,Q=Fe);else if(Ct<ie&&0>i(Ve,z))I[Q]=Ve,I[Ct]=z,Q=Ct;else break e}}return O}function i(I,O){var z=I.sortIndex-O.sortIndex;return z!==0?z:I.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,d=null,h=3,x=!1,v=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(I){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=I)r(u),O.sortIndex=O.expirationTime,e(c,O);else break;O=n(u)}}function _(I){if(w=!1,y(I),!v)if(n(c)!==null)v=!0,L(S);else{var O=n(u);O!==null&&V(_,O.startTime-I)}}function S(I,O){v=!1,w&&(w=!1,m(P),P=-1),x=!0;var z=h;try{for(y(O),d=n(c);d!==null&&(!(d.expirationTime>O)||I&&!$());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,h=d.priorityLevel;var ie=Q(d.expirationTime<=O);O=t.unstable_now(),typeof ie=="function"?d.callback=ie:d===n(c)&&r(c),y(O)}else r(c);d=n(c)}if(d!==null)var je=!0;else{var Fe=n(u);Fe!==null&&V(_,Fe.startTime-O),je=!1}return je}finally{d=null,h=z,x=!1}}var R=!1,k=null,P=-1,A=5,N=-1;function $(){return!(t.unstable_now()-N<A)}function H(){if(k!==null){var I=t.unstable_now();N=I;var O=!0;try{O=k(!0,I)}finally{O?q():(R=!1,k=null)}}else R=!1}var q;if(typeof p=="function")q=function(){p(H)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,pe=_e.port2;_e.port1.onmessage=H,q=function(){pe.postMessage(null)}}else q=function(){C(H,0)};function L(I){k=I,R||(R=!0,q())}function V(I,O){P=C(function(){I(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){v||x||(v=!0,L(S))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(I){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var z=h;h=O;try{return I()}finally{h=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,O){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var z=h;h=I;try{return O()}finally{h=z}},t.unstable_scheduleCallback=function(I,O,z){var Q=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Q+z:Q):z=Q,I){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=z+ie,I={id:f++,callback:O,priorityLevel:I,startTime:z,expirationTime:ie,sortIndex:-1},z>Q?(I.sortIndex=z,e(u,I),n(c)===null&&I===n(u)&&(w?(m(P),P=-1):w=!0,V(_,z-Q))):(I.sortIndex=ie,e(c,I),v||x||(v=!0,L(S))),I},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(I){var O=h;return function(){var z=h;h=O;try{return I.apply(this,arguments)}finally{h=z}}}})(dm);um.exports=dm;var tv=um.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv=b,jt=tv;function M(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fm=new Set,Ds={};function zr(t,e){bi(t,e),bi(t+"Capture",e)}function bi(t,e){for(Ds[t]=e,t=0;t<e.length;t++)fm.add(e[t])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sc=Object.prototype.hasOwnProperty,rv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pf={},Ff={};function iv(t){return Sc.call(Ff,t)?!0:Sc.call(Pf,t)?!1:rv.test(t)?Ff[t]=!0:(Pf[t]=!0,!1)}function sv(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ov(t,e,n,r){if(e===null||typeof e>"u"||sv(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){et[t]=new gt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];et[e]=new gt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){et[t]=new gt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){et[t]=new gt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){et[t]=new gt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){et[t]=new gt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){et[t]=new gt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){et[t]=new gt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){et[t]=new gt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wu=/[\-:]([a-z])/g;function Uu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wu,Uu);et[e]=new gt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wu,Uu);et[e]=new gt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wu,Uu);et[e]=new gt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){et[t]=new gt(t,1,!1,t.toLowerCase(),null,!1,!1)});et.xlinkHref=new gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){et[t]=new gt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hu(t,e,n,r){var i=et.hasOwnProperty(e)?et[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ov(e,n,i,r)&&(n=null),r||i===null?iv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var In=nv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jo=Symbol.for("react.element"),Jr=Symbol.for("react.portal"),Zr=Symbol.for("react.fragment"),Vu=Symbol.for("react.strict_mode"),wc=Symbol.for("react.profiler"),hm=Symbol.for("react.provider"),pm=Symbol.for("react.context"),Yu=Symbol.for("react.forward_ref"),Cc=Symbol.for("react.suspense"),Ec=Symbol.for("react.suspense_list"),Gu=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),mm=Symbol.for("react.offscreen"),Mf=Symbol.iterator;function is(t){return t===null||typeof t!="object"?null:(t=Mf&&t[Mf]||t["@@iterator"],typeof t=="function"?t:null)}var Re=Object.assign,Pa;function gs(t){if(Pa===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pa=e&&e[1]||""}return`
`+Pa+t}var Fa=!1;function Ma(t,e){if(!t||Fa)return"";Fa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Fa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?gs(t):""}function lv(t){switch(t.tag){case 5:return gs(t.type);case 16:return gs("Lazy");case 13:return gs("Suspense");case 19:return gs("SuspenseList");case 0:case 2:case 15:return t=Ma(t.type,!1),t;case 11:return t=Ma(t.type.render,!1),t;case 1:return t=Ma(t.type,!0),t;default:return""}}function kc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zr:return"Fragment";case Jr:return"Portal";case wc:return"Profiler";case Vu:return"StrictMode";case Cc:return"Suspense";case Ec:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pm:return(t.displayName||"Context")+".Consumer";case hm:return(t._context.displayName||"Context")+".Provider";case Yu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gu:return e=t.displayName||null,e!==null?e:kc(t.type)||"Memo";case On:e=t._payload,t=t._init;try{return kc(t(e))}catch{}}return null}function av(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kc(e);case 8:return e===Vu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ir(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cv(t){var e=gm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Io(t){t._valueTracker||(t._valueTracker=cv(t))}function ym(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tc(t,e){var n=e.checked;return Re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Of(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ir(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vm(t,e){e=e.checked,e!=null&&Hu(t,"checked",e,!1)}function Rc(t,e){vm(t,e);var n=ir(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jc(t,e.type,n):e.hasOwnProperty("defaultValue")&&jc(t,e.type,ir(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Bf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jc(t,e,n){(e!=="number"||sl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ys=Array.isArray;function di(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ir(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ic(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(M(91));return Re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(M(92));if(ys(n)){if(1<n.length)throw Error(M(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ir(n)}}function _m(t,e){var n=ir(e.value),r=ir(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var No,bm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(No=No||document.createElement("div"),No.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=No.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ps(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uv=["Webkit","ms","Moz","O"];Object.keys(xs).forEach(function(t){uv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xs[e]=xs[t]})});function Sm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xs.hasOwnProperty(t)&&xs[t]?(""+e).trim():e+"px"}function wm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Sm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var dv=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ac(t,e){if(e){if(dv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(M(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(M(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(M(61))}if(e.style!=null&&typeof e.style!="object")throw Error(M(62))}}function Dc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pc=null;function Qu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fc=null,fi=null,hi=null;function $f(t){if(t=fo(t)){if(typeof Fc!="function")throw Error(M(280));var e=t.stateNode;e&&(e=Jl(e),Fc(t.stateNode,t.type,e))}}function Cm(t){fi?hi?hi.push(t):hi=[t]:fi=t}function Em(){if(fi){var t=fi,e=hi;if(hi=fi=null,$f(t),e)for(t=0;t<e.length;t++)$f(e[t])}}function km(t,e){return t(e)}function Tm(){}var Oa=!1;function Rm(t,e,n){if(Oa)return t(e,n);Oa=!0;try{return km(t,e,n)}finally{Oa=!1,(fi!==null||hi!==null)&&(Tm(),Em())}}function Fs(t,e){var n=t.stateNode;if(n===null)return null;var r=Jl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(M(231,e,typeof n));return n}var Mc=!1;if(Cn)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Mc=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Mc=!1}function fv(t,e,n,r,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var bs=!1,ol=null,ll=!1,Oc=null,hv={onError:function(t){bs=!0,ol=t}};function pv(t,e,n,r,i,s,o,l,c){bs=!1,ol=null,fv.apply(hv,arguments)}function mv(t,e,n,r,i,s,o,l,c){if(pv.apply(this,arguments),bs){if(bs){var u=ol;bs=!1,ol=null}else throw Error(M(198));ll||(ll=!0,Oc=u)}}function $r(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wf(t){if($r(t)!==t)throw Error(M(188))}function gv(t){var e=t.alternate;if(!e){if(e=$r(t),e===null)throw Error(M(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Wf(i),t;if(s===r)return Wf(i),e;s=s.sibling}throw Error(M(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?t:e}function Im(t){return t=gv(t),t!==null?Nm(t):null}function Nm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Nm(t);if(e!==null)return e;t=t.sibling}return null}var Am=jt.unstable_scheduleCallback,Uf=jt.unstable_cancelCallback,yv=jt.unstable_shouldYield,vv=jt.unstable_requestPaint,Pe=jt.unstable_now,_v=jt.unstable_getCurrentPriorityLevel,Ku=jt.unstable_ImmediatePriority,Dm=jt.unstable_UserBlockingPriority,al=jt.unstable_NormalPriority,xv=jt.unstable_LowPriority,Pm=jt.unstable_IdlePriority,Ql=null,un=null;function bv(t){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Ql,t,void 0,(t.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:Cv,Sv=Math.log,wv=Math.LN2;function Cv(t){return t>>>=0,t===0?32:31-(Sv(t)/wv|0)|0}var Ao=64,Do=4194304;function vs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=vs(l):(s&=o,s!==0&&(r=vs(s)))}else o=n&~i,o!==0?r=vs(o):s!==0&&(r=vs(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zt(e),i=1<<n,r|=t[n],e&=~i;return r}function Ev(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Zt(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=Ev(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function Bc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Fm(){var t=Ao;return Ao<<=1,!(Ao&4194240)&&(Ao=64),t}function Ba(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function co(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zt(e),t[e]=n}function Tv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Zt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function qu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var fe=0;function Mm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Om,Xu,Bm,Lm,zm,Lc=!1,Po=[],Yn=null,Gn=null,Qn=null,Ms=new Map,Os=new Map,Ln=[],Rv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hf(t,e){switch(t){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":Ms.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Os.delete(e.pointerId)}}function os(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=fo(e),e!==null&&Xu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function jv(t,e,n,r,i){switch(e){case"focusin":return Yn=os(Yn,t,e,n,r,i),!0;case"dragenter":return Gn=os(Gn,t,e,n,r,i),!0;case"mouseover":return Qn=os(Qn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ms.set(s,os(Ms.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Os.set(s,os(Os.get(s)||null,t,e,n,r,i)),!0}return!1}function $m(t){var e=Cr(t.target);if(e!==null){var n=$r(e);if(n!==null){if(e=n.tag,e===13){if(e=jm(n),e!==null){t.blockedOn=e,zm(t.priority,function(){Bm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ko(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Pc=r,n.target.dispatchEvent(r),Pc=null}else return e=fo(n),e!==null&&Xu(e),t.blockedOn=n,!1;e.shift()}return!0}function Vf(t,e,n){Ko(t)&&n.delete(e)}function Iv(){Lc=!1,Yn!==null&&Ko(Yn)&&(Yn=null),Gn!==null&&Ko(Gn)&&(Gn=null),Qn!==null&&Ko(Qn)&&(Qn=null),Ms.forEach(Vf),Os.forEach(Vf)}function ls(t,e){t.blockedOn===e&&(t.blockedOn=null,Lc||(Lc=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,Iv)))}function Bs(t){function e(i){return ls(i,t)}if(0<Po.length){ls(Po[0],t);for(var n=1;n<Po.length;n++){var r=Po[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yn!==null&&ls(Yn,t),Gn!==null&&ls(Gn,t),Qn!==null&&ls(Qn,t),Ms.forEach(e),Os.forEach(e),n=0;n<Ln.length;n++)r=Ln[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ln.length&&(n=Ln[0],n.blockedOn===null);)$m(n),n.blockedOn===null&&Ln.shift()}var pi=In.ReactCurrentBatchConfig,ul=!0;function Nv(t,e,n,r){var i=fe,s=pi.transition;pi.transition=null;try{fe=1,Ju(t,e,n,r)}finally{fe=i,pi.transition=s}}function Av(t,e,n,r){var i=fe,s=pi.transition;pi.transition=null;try{fe=4,Ju(t,e,n,r)}finally{fe=i,pi.transition=s}}function Ju(t,e,n,r){if(ul){var i=zc(t,e,n,r);if(i===null)Qa(t,e,r,dl,n),Hf(t,r);else if(jv(i,t,e,n,r))r.stopPropagation();else if(Hf(t,r),e&4&&-1<Rv.indexOf(t)){for(;i!==null;){var s=fo(i);if(s!==null&&Om(s),s=zc(t,e,n,r),s===null&&Qa(t,e,r,dl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Qa(t,e,r,null,n)}}var dl=null;function zc(t,e,n,r){if(dl=null,t=Qu(r),t=Cr(t),t!==null)if(e=$r(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return dl=t,null}function Wm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_v()){case Ku:return 1;case Dm:return 4;case al:case xv:return 16;case Pm:return 536870912;default:return 16}default:return 16}}var $n=null,Zu=null,qo=null;function Um(){if(qo)return qo;var t,e=Zu,n=e.length,r,i="value"in $n?$n.value:$n.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return qo=i.slice(t,1<r?1-r:void 0)}function Xo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fo(){return!0}function Yf(){return!1}function Nt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Fo:Yf,this.isPropagationStopped=Yf,this}return Re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fo)},persist:function(){},isPersistent:Fo}),e}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ed=Nt(Oi),uo=Re({},Oi,{view:0,detail:0}),Dv=Nt(uo),La,za,as,Kl=Re({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:td,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==as&&(as&&t.type==="mousemove"?(La=t.screenX-as.screenX,za=t.screenY-as.screenY):za=La=0,as=t),La)},movementY:function(t){return"movementY"in t?t.movementY:za}}),Gf=Nt(Kl),Pv=Re({},Kl,{dataTransfer:0}),Fv=Nt(Pv),Mv=Re({},uo,{relatedTarget:0}),$a=Nt(Mv),Ov=Re({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Bv=Nt(Ov),Lv=Re({},Oi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zv=Nt(Lv),$v=Re({},Oi,{data:0}),Qf=Nt($v),Wv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Hv[t])?!!e[t]:!1}function td(){return Vv}var Yv=Re({},uo,{key:function(t){if(t.key){var e=Wv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:td,charCode:function(t){return t.type==="keypress"?Xo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gv=Nt(Yv),Qv=Re({},Kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kf=Nt(Qv),Kv=Re({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:td}),qv=Nt(Kv),Xv=Re({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jv=Nt(Xv),Zv=Re({},Kl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),e_=Nt(Zv),t_=[9,13,27,32],nd=Cn&&"CompositionEvent"in window,Ss=null;Cn&&"documentMode"in document&&(Ss=document.documentMode);var n_=Cn&&"TextEvent"in window&&!Ss,Hm=Cn&&(!nd||Ss&&8<Ss&&11>=Ss),qf=String.fromCharCode(32),Xf=!1;function Vm(t,e){switch(t){case"keyup":return t_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ym(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ei=!1;function r_(t,e){switch(t){case"compositionend":return Ym(e);case"keypress":return e.which!==32?null:(Xf=!0,qf);case"textInput":return t=e.data,t===qf&&Xf?null:t;default:return null}}function i_(t,e){if(ei)return t==="compositionend"||!nd&&Vm(t,e)?(t=Um(),qo=Zu=$n=null,ei=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Hm&&e.locale!=="ko"?null:e.data;default:return null}}var s_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!s_[t.type]:e==="textarea"}function Gm(t,e,n,r){Cm(r),e=fl(e,"onChange"),0<e.length&&(n=new ed("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ws=null,Ls=null;function o_(t){ig(t,0)}function ql(t){var e=ri(t);if(ym(e))return t}function l_(t,e){if(t==="change")return e}var Qm=!1;if(Cn){var Wa;if(Cn){var Ua="oninput"in document;if(!Ua){var Zf=document.createElement("div");Zf.setAttribute("oninput","return;"),Ua=typeof Zf.oninput=="function"}Wa=Ua}else Wa=!1;Qm=Wa&&(!document.documentMode||9<document.documentMode)}function eh(){ws&&(ws.detachEvent("onpropertychange",Km),Ls=ws=null)}function Km(t){if(t.propertyName==="value"&&ql(Ls)){var e=[];Gm(e,Ls,t,Qu(t)),Rm(o_,e)}}function a_(t,e,n){t==="focusin"?(eh(),ws=e,Ls=n,ws.attachEvent("onpropertychange",Km)):t==="focusout"&&eh()}function c_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ql(Ls)}function u_(t,e){if(t==="click")return ql(e)}function d_(t,e){if(t==="input"||t==="change")return ql(e)}function f_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nn=typeof Object.is=="function"?Object.is:f_;function zs(t,e){if(nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Sc.call(e,i)||!nn(t[i],e[i]))return!1}return!0}function th(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nh(t,e){var n=th(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=th(n)}}function qm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Xm(){for(var t=window,e=sl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sl(t.document)}return e}function rd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function h_(t){var e=Xm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qm(n.ownerDocument.documentElement,n)){if(r!==null&&rd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=nh(n,s);var o=nh(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var p_=Cn&&"documentMode"in document&&11>=document.documentMode,ti=null,$c=null,Cs=null,Wc=!1;function rh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wc||ti==null||ti!==sl(r)||(r=ti,"selectionStart"in r&&rd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cs&&zs(Cs,r)||(Cs=r,r=fl($c,"onSelect"),0<r.length&&(e=new ed("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ti)))}function Mo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ni={animationend:Mo("Animation","AnimationEnd"),animationiteration:Mo("Animation","AnimationIteration"),animationstart:Mo("Animation","AnimationStart"),transitionend:Mo("Transition","TransitionEnd")},Ha={},Jm={};Cn&&(Jm=document.createElement("div").style,"AnimationEvent"in window||(delete ni.animationend.animation,delete ni.animationiteration.animation,delete ni.animationstart.animation),"TransitionEvent"in window||delete ni.transitionend.transition);function Xl(t){if(Ha[t])return Ha[t];if(!ni[t])return t;var e=ni[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Jm)return Ha[t]=e[n];return t}var Zm=Xl("animationend"),eg=Xl("animationiteration"),tg=Xl("animationstart"),ng=Xl("transitionend"),rg=new Map,ih="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ur(t,e){rg.set(t,e),zr(e,[t])}for(var Va=0;Va<ih.length;Va++){var Ya=ih[Va],m_=Ya.toLowerCase(),g_=Ya[0].toUpperCase()+Ya.slice(1);ur(m_,"on"+g_)}ur(Zm,"onAnimationEnd");ur(eg,"onAnimationIteration");ur(tg,"onAnimationStart");ur("dblclick","onDoubleClick");ur("focusin","onFocus");ur("focusout","onBlur");ur(ng,"onTransitionEnd");bi("onMouseEnter",["mouseout","mouseover"]);bi("onMouseLeave",["mouseout","mouseover"]);bi("onPointerEnter",["pointerout","pointerover"]);bi("onPointerLeave",["pointerout","pointerover"]);zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zr("onBeforeInput",["compositionend","keypress","textInput","paste"]);zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y_=new Set("cancel close invalid load scroll toggle".split(" ").concat(_s));function sh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mv(r,e,void 0,t),t.currentTarget=null}function ig(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;sh(i,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;sh(i,l,u),s=c}}}if(ll)throw t=Oc,ll=!1,Oc=null,t}function Se(t,e){var n=e[Gc];n===void 0&&(n=e[Gc]=new Set);var r=t+"__bubble";n.has(r)||(sg(e,t,2,!1),n.add(r))}function Ga(t,e,n){var r=0;e&&(r|=4),sg(n,t,r,e)}var Oo="_reactListening"+Math.random().toString(36).slice(2);function $s(t){if(!t[Oo]){t[Oo]=!0,fm.forEach(function(n){n!=="selectionchange"&&(y_.has(n)||Ga(n,!1,t),Ga(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oo]||(e[Oo]=!0,Ga("selectionchange",!1,e))}}function sg(t,e,n,r){switch(Wm(e)){case 1:var i=Nv;break;case 4:i=Av;break;default:i=Ju}n=i.bind(null,e,n,t),i=void 0,!Mc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Qa(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Cr(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Rm(function(){var u=s,f=Qu(n),d=[];e:{var h=rg.get(t);if(h!==void 0){var x=ed,v=t;switch(t){case"keypress":if(Xo(n)===0)break e;case"keydown":case"keyup":x=Gv;break;case"focusin":v="focus",x=$a;break;case"focusout":v="blur",x=$a;break;case"beforeblur":case"afterblur":x=$a;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Gf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Fv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=qv;break;case Zm:case eg:case tg:x=Bv;break;case ng:x=Jv;break;case"scroll":x=Dv;break;case"wheel":x=e_;break;case"copy":case"cut":case"paste":x=zv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Kf}var w=(e&4)!==0,C=!w&&t==="scroll",m=w?h!==null?h+"Capture":null:h;w=[];for(var p=u,y;p!==null;){y=p;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,m!==null&&(_=Fs(p,m),_!=null&&w.push(Ws(p,_,y)))),C)break;p=p.return}0<w.length&&(h=new x(h,v,null,n,f),d.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",h&&n!==Pc&&(v=n.relatedTarget||n.fromElement)&&(Cr(v)||v[En]))break e;if((x||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,x?(v=n.relatedTarget||n.toElement,x=u,v=v?Cr(v):null,v!==null&&(C=$r(v),v!==C||v.tag!==5&&v.tag!==6)&&(v=null)):(x=null,v=u),x!==v)){if(w=Gf,_="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=Kf,_="onPointerLeave",m="onPointerEnter",p="pointer"),C=x==null?h:ri(x),y=v==null?h:ri(v),h=new w(_,p+"leave",x,n,f),h.target=C,h.relatedTarget=y,_=null,Cr(f)===u&&(w=new w(m,p+"enter",v,n,f),w.target=y,w.relatedTarget=C,_=w),C=_,x&&v)t:{for(w=x,m=v,p=0,y=w;y;y=Kr(y))p++;for(y=0,_=m;_;_=Kr(_))y++;for(;0<p-y;)w=Kr(w),p--;for(;0<y-p;)m=Kr(m),y--;for(;p--;){if(w===m||m!==null&&w===m.alternate)break t;w=Kr(w),m=Kr(m)}w=null}else w=null;x!==null&&oh(d,h,x,w,!1),v!==null&&C!==null&&oh(d,C,v,w,!0)}}e:{if(h=u?ri(u):window,x=h.nodeName&&h.nodeName.toLowerCase(),x==="select"||x==="input"&&h.type==="file")var S=l_;else if(Jf(h))if(Qm)S=d_;else{S=c_;var R=a_}else(x=h.nodeName)&&x.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=u_);if(S&&(S=S(t,u))){Gm(d,S,n,f);break e}R&&R(t,h,u),t==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&jc(h,"number",h.value)}switch(R=u?ri(u):window,t){case"focusin":(Jf(R)||R.contentEditable==="true")&&(ti=R,$c=u,Cs=null);break;case"focusout":Cs=$c=ti=null;break;case"mousedown":Wc=!0;break;case"contextmenu":case"mouseup":case"dragend":Wc=!1,rh(d,n,f);break;case"selectionchange":if(p_)break;case"keydown":case"keyup":rh(d,n,f)}var k;if(nd)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ei?Vm(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Hm&&n.locale!=="ko"&&(ei||P!=="onCompositionStart"?P==="onCompositionEnd"&&ei&&(k=Um()):($n=f,Zu="value"in $n?$n.value:$n.textContent,ei=!0)),R=fl(u,P),0<R.length&&(P=new Qf(P,t,null,n,f),d.push({event:P,listeners:R}),k?P.data=k:(k=Ym(n),k!==null&&(P.data=k)))),(k=n_?r_(t,n):i_(t,n))&&(u=fl(u,"onBeforeInput"),0<u.length&&(f=new Qf("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=k))}ig(d,e)})}function Ws(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Fs(t,n),s!=null&&r.unshift(Ws(t,s,i)),s=Fs(t,e),s!=null&&r.push(Ws(t,s,i))),t=t.return}return r}function Kr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function oh(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Fs(n,s),c!=null&&o.unshift(Ws(n,c,l))):i||(c=Fs(n,s),c!=null&&o.push(Ws(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var v_=/\r\n?/g,__=/\u0000|\uFFFD/g;function lh(t){return(typeof t=="string"?t:""+t).replace(v_,`
`).replace(__,"")}function Bo(t,e,n){if(e=lh(e),lh(t)!==e&&n)throw Error(M(425))}function hl(){}var Uc=null,Hc=null;function Vc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yc=typeof setTimeout=="function"?setTimeout:void 0,x_=typeof clearTimeout=="function"?clearTimeout:void 0,ah=typeof Promise=="function"?Promise:void 0,b_=typeof queueMicrotask=="function"?queueMicrotask:typeof ah<"u"?function(t){return ah.resolve(null).then(t).catch(S_)}:Yc;function S_(t){setTimeout(function(){throw t})}function Ka(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Bs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Bs(e)}function Kn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ch(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bi=Math.random().toString(36).slice(2),cn="__reactFiber$"+Bi,Us="__reactProps$"+Bi,En="__reactContainer$"+Bi,Gc="__reactEvents$"+Bi,w_="__reactListeners$"+Bi,C_="__reactHandles$"+Bi;function Cr(t){var e=t[cn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[En]||n[cn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ch(t);t!==null;){if(n=t[cn])return n;t=ch(t)}return e}t=n,n=t.parentNode}return null}function fo(t){return t=t[cn]||t[En],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ri(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(M(33))}function Jl(t){return t[Us]||null}var Qc=[],ii=-1;function dr(t){return{current:t}}function we(t){0>ii||(t.current=Qc[ii],Qc[ii]=null,ii--)}function ve(t,e){ii++,Qc[ii]=t.current,t.current=e}var sr={},ct=dr(sr),bt=dr(!1),Ar=sr;function Si(t,e){var n=t.type.contextTypes;if(!n)return sr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function St(t){return t=t.childContextTypes,t!=null}function pl(){we(bt),we(ct)}function uh(t,e,n){if(ct.current!==sr)throw Error(M(168));ve(ct,e),ve(bt,n)}function og(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(M(108,av(t)||"Unknown",i));return Re({},n,r)}function ml(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sr,Ar=ct.current,ve(ct,t),ve(bt,bt.current),!0}function dh(t,e,n){var r=t.stateNode;if(!r)throw Error(M(169));n?(t=og(t,e,Ar),r.__reactInternalMemoizedMergedChildContext=t,we(bt),we(ct),ve(ct,t)):we(bt),ve(bt,n)}var vn=null,Zl=!1,qa=!1;function lg(t){vn===null?vn=[t]:vn.push(t)}function E_(t){Zl=!0,lg(t)}function fr(){if(!qa&&vn!==null){qa=!0;var t=0,e=fe;try{var n=vn;for(fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vn=null,Zl=!1}catch(i){throw vn!==null&&(vn=vn.slice(t+1)),Am(Ku,fr),i}finally{fe=e,qa=!1}}return null}var si=[],oi=0,gl=null,yl=0,Ot=[],Bt=0,Dr=null,_n=1,xn="";function xr(t,e){si[oi++]=yl,si[oi++]=gl,gl=t,yl=e}function ag(t,e,n){Ot[Bt++]=_n,Ot[Bt++]=xn,Ot[Bt++]=Dr,Dr=t;var r=_n;t=xn;var i=32-Zt(r)-1;r&=~(1<<i),n+=1;var s=32-Zt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,_n=1<<32-Zt(e)+i|n<<i|r,xn=s+t}else _n=1<<s|n<<i|r,xn=t}function id(t){t.return!==null&&(xr(t,1),ag(t,1,0))}function sd(t){for(;t===gl;)gl=si[--oi],si[oi]=null,yl=si[--oi],si[oi]=null;for(;t===Dr;)Dr=Ot[--Bt],Ot[Bt]=null,xn=Ot[--Bt],Ot[Bt]=null,_n=Ot[--Bt],Ot[Bt]=null}var Rt=null,Tt=null,Ee=!1,qt=null;function cg(t,e){var n=Lt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rt=t,Tt=Kn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rt=t,Tt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Dr!==null?{id:_n,overflow:xn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Lt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Rt=t,Tt=null,!0):!1;default:return!1}}function Kc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qc(t){if(Ee){var e=Tt;if(e){var n=e;if(!fh(t,e)){if(Kc(t))throw Error(M(418));e=Kn(n.nextSibling);var r=Rt;e&&fh(t,e)?cg(r,n):(t.flags=t.flags&-4097|2,Ee=!1,Rt=t)}}else{if(Kc(t))throw Error(M(418));t.flags=t.flags&-4097|2,Ee=!1,Rt=t}}}function hh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rt=t}function Lo(t){if(t!==Rt)return!1;if(!Ee)return hh(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vc(t.type,t.memoizedProps)),e&&(e=Tt)){if(Kc(t))throw ug(),Error(M(418));for(;e;)cg(t,e),e=Kn(e.nextSibling)}if(hh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(M(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tt=Kn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tt=null}}else Tt=Rt?Kn(t.stateNode.nextSibling):null;return!0}function ug(){for(var t=Tt;t;)t=Kn(t.nextSibling)}function wi(){Tt=Rt=null,Ee=!1}function od(t){qt===null?qt=[t]:qt.push(t)}var k_=In.ReactCurrentBatchConfig;function cs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,t))}return t}function zo(t,e){throw t=Object.prototype.toString.call(e),Error(M(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ph(t){var e=t._init;return e(t._payload)}function dg(t){function e(m,p){if(t){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Zn(m,p),m.index=0,m.sibling=null,m}function s(m,p,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,p,y,_){return p===null||p.tag!==6?(p=rc(y,m.mode,_),p.return=m,p):(p=i(p,y),p.return=m,p)}function c(m,p,y,_){var S=y.type;return S===Zr?f(m,p,y.props.children,_,y.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===On&&ph(S)===p.type)?(_=i(p,y.props),_.ref=cs(m,p,y),_.return=m,_):(_=il(y.type,y.key,y.props,null,m.mode,_),_.ref=cs(m,p,y),_.return=m,_)}function u(m,p,y,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=ic(y,m.mode,_),p.return=m,p):(p=i(p,y.children||[]),p.return=m,p)}function f(m,p,y,_,S){return p===null||p.tag!==7?(p=jr(y,m.mode,_,S),p.return=m,p):(p=i(p,y),p.return=m,p)}function d(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=rc(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case jo:return y=il(p.type,p.key,p.props,null,m.mode,y),y.ref=cs(m,null,p),y.return=m,y;case Jr:return p=ic(p,m.mode,y),p.return=m,p;case On:var _=p._init;return d(m,_(p._payload),y)}if(ys(p)||is(p))return p=jr(p,m.mode,y,null),p.return=m,p;zo(m,p)}return null}function h(m,p,y,_){var S=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:l(m,p,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case jo:return y.key===S?c(m,p,y,_):null;case Jr:return y.key===S?u(m,p,y,_):null;case On:return S=y._init,h(m,p,S(y._payload),_)}if(ys(y)||is(y))return S!==null?null:f(m,p,y,_,null);zo(m,y)}return null}function x(m,p,y,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(y)||null,l(p,m,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case jo:return m=m.get(_.key===null?y:_.key)||null,c(p,m,_,S);case Jr:return m=m.get(_.key===null?y:_.key)||null,u(p,m,_,S);case On:var R=_._init;return x(m,p,y,R(_._payload),S)}if(ys(_)||is(_))return m=m.get(y)||null,f(p,m,_,S,null);zo(p,_)}return null}function v(m,p,y,_){for(var S=null,R=null,k=p,P=p=0,A=null;k!==null&&P<y.length;P++){k.index>P?(A=k,k=null):A=k.sibling;var N=h(m,k,y[P],_);if(N===null){k===null&&(k=A);break}t&&k&&N.alternate===null&&e(m,k),p=s(N,p,P),R===null?S=N:R.sibling=N,R=N,k=A}if(P===y.length)return n(m,k),Ee&&xr(m,P),S;if(k===null){for(;P<y.length;P++)k=d(m,y[P],_),k!==null&&(p=s(k,p,P),R===null?S=k:R.sibling=k,R=k);return Ee&&xr(m,P),S}for(k=r(m,k);P<y.length;P++)A=x(k,m,P,y[P],_),A!==null&&(t&&A.alternate!==null&&k.delete(A.key===null?P:A.key),p=s(A,p,P),R===null?S=A:R.sibling=A,R=A);return t&&k.forEach(function($){return e(m,$)}),Ee&&xr(m,P),S}function w(m,p,y,_){var S=is(y);if(typeof S!="function")throw Error(M(150));if(y=S.call(y),y==null)throw Error(M(151));for(var R=S=null,k=p,P=p=0,A=null,N=y.next();k!==null&&!N.done;P++,N=y.next()){k.index>P?(A=k,k=null):A=k.sibling;var $=h(m,k,N.value,_);if($===null){k===null&&(k=A);break}t&&k&&$.alternate===null&&e(m,k),p=s($,p,P),R===null?S=$:R.sibling=$,R=$,k=A}if(N.done)return n(m,k),Ee&&xr(m,P),S;if(k===null){for(;!N.done;P++,N=y.next())N=d(m,N.value,_),N!==null&&(p=s(N,p,P),R===null?S=N:R.sibling=N,R=N);return Ee&&xr(m,P),S}for(k=r(m,k);!N.done;P++,N=y.next())N=x(k,m,P,N.value,_),N!==null&&(t&&N.alternate!==null&&k.delete(N.key===null?P:N.key),p=s(N,p,P),R===null?S=N:R.sibling=N,R=N);return t&&k.forEach(function(H){return e(m,H)}),Ee&&xr(m,P),S}function C(m,p,y,_){if(typeof y=="object"&&y!==null&&y.type===Zr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case jo:e:{for(var S=y.key,R=p;R!==null;){if(R.key===S){if(S=y.type,S===Zr){if(R.tag===7){n(m,R.sibling),p=i(R,y.props.children),p.return=m,m=p;break e}}else if(R.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===On&&ph(S)===R.type){n(m,R.sibling),p=i(R,y.props),p.ref=cs(m,R,y),p.return=m,m=p;break e}n(m,R);break}else e(m,R);R=R.sibling}y.type===Zr?(p=jr(y.props.children,m.mode,_,y.key),p.return=m,m=p):(_=il(y.type,y.key,y.props,null,m.mode,_),_.ref=cs(m,p,y),_.return=m,m=_)}return o(m);case Jr:e:{for(R=y.key;p!==null;){if(p.key===R)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(m,p.sibling),p=i(p,y.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=ic(y,m.mode,_),p.return=m,m=p}return o(m);case On:return R=y._init,C(m,p,R(y._payload),_)}if(ys(y))return v(m,p,y,_);if(is(y))return w(m,p,y,_);zo(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,y),p.return=m,m=p):(n(m,p),p=rc(y,m.mode,_),p.return=m,m=p),o(m)):n(m,p)}return C}var Ci=dg(!0),fg=dg(!1),vl=dr(null),_l=null,li=null,ld=null;function ad(){ld=li=_l=null}function cd(t){var e=vl.current;we(vl),t._currentValue=e}function Xc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function mi(t,e){_l=t,ld=li=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_t=!0),t.firstContext=null)}function Wt(t){var e=t._currentValue;if(ld!==t)if(t={context:t,memoizedValue:e,next:null},li===null){if(_l===null)throw Error(M(308));li=t,_l.dependencies={lanes:0,firstContext:t}}else li=li.next=t;return e}var Er=null;function ud(t){Er===null?Er=[t]:Er.push(t)}function hg(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ud(e)):(n.next=i.next,i.next=n),e.interleaved=n,kn(t,r)}function kn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Bn=!1;function dd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,kn(t,n)}return i=r.interleaved,i===null?(e.next=e,ud(r)):(e.next=i.next,i.next=e),r.interleaved=e,kn(t,n)}function Jo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qu(t,n)}}function mh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xl(t,e,n,r){var i=t.updateQueue;Bn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(s!==null){var d=i.baseState;o=0,f=u=c=null,l=s;do{var h=l.lane,x=l.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,w=l;switch(h=e,x=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){d=v.call(x,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,h=typeof v=="function"?v.call(x,d,h):v,h==null)break e;d=Re({},d,h);break e;case 2:Bn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else x={eventTime:x,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=x,c=d):f=f.next=x,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(f===null&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Fr|=o,t.lanes=o,t.memoizedState=d}}function gh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(M(191,i));i.call(r)}}}var ho={},dn=dr(ho),Hs=dr(ho),Vs=dr(ho);function kr(t){if(t===ho)throw Error(M(174));return t}function fd(t,e){switch(ve(Vs,e),ve(Hs,t),ve(dn,ho),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nc(e,t)}we(dn),ve(dn,e)}function Ei(){we(dn),we(Hs),we(Vs)}function mg(t){kr(Vs.current);var e=kr(dn.current),n=Nc(e,t.type);e!==n&&(ve(Hs,t),ve(dn,n))}function hd(t){Hs.current===t&&(we(dn),we(Hs))}var ke=dr(0);function bl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xa=[];function pd(){for(var t=0;t<Xa.length;t++)Xa[t]._workInProgressVersionPrimary=null;Xa.length=0}var Zo=In.ReactCurrentDispatcher,Ja=In.ReactCurrentBatchConfig,Pr=0,Te=null,ze=null,Qe=null,Sl=!1,Es=!1,Ys=0,T_=0;function ot(){throw Error(M(321))}function md(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!nn(t[n],e[n]))return!1;return!0}function gd(t,e,n,r,i,s){if(Pr=s,Te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zo.current=t===null||t.memoizedState===null?N_:A_,t=n(r,i),Es){s=0;do{if(Es=!1,Ys=0,25<=s)throw Error(M(301));s+=1,Qe=ze=null,e.updateQueue=null,Zo.current=D_,t=n(r,i)}while(Es)}if(Zo.current=wl,e=ze!==null&&ze.next!==null,Pr=0,Qe=ze=Te=null,Sl=!1,e)throw Error(M(300));return t}function yd(){var t=Ys!==0;return Ys=0,t}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Te.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function Ut(){if(ze===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=Qe===null?Te.memoizedState:Qe.next;if(e!==null)Qe=e,ze=t;else{if(t===null)throw Error(M(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Qe===null?Te.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function Gs(t,e){return typeof e=="function"?e(t):e}function Za(t){var e=Ut(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var r=ze,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var f=u.lane;if((Pr&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=r):c=c.next=d,Te.lanes|=f,Fr|=f}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,nn(r,e.memoizedState)||(_t=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Te.lanes|=s,Fr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ec(t){var e=Ut(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);nn(s,e.memoizedState)||(_t=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function gg(){}function yg(t,e){var n=Te,r=Ut(),i=e(),s=!nn(r.memoizedState,i);if(s&&(r.memoizedState=i,_t=!0),r=r.queue,vd(xg.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,Qs(9,_g.bind(null,n,r,i,e),void 0,null),qe===null)throw Error(M(349));Pr&30||vg(n,e,i)}return i}function vg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _g(t,e,n,r){e.value=n,e.getSnapshot=r,bg(e)&&Sg(t)}function xg(t,e,n){return n(function(){bg(e)&&Sg(t)})}function bg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nn(t,n)}catch{return!0}}function Sg(t){var e=kn(t,1);e!==null&&en(e,t,1,-1)}function yh(t){var e=an();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:t},e.queue=t,t=t.dispatch=I_.bind(null,Te,t),[e.memoizedState,t]}function Qs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function wg(){return Ut().memoizedState}function el(t,e,n,r){var i=an();Te.flags|=t,i.memoizedState=Qs(1|e,n,void 0,r===void 0?null:r)}function ea(t,e,n,r){var i=Ut();r=r===void 0?null:r;var s=void 0;if(ze!==null){var o=ze.memoizedState;if(s=o.destroy,r!==null&&md(r,o.deps)){i.memoizedState=Qs(e,n,s,r);return}}Te.flags|=t,i.memoizedState=Qs(1|e,n,s,r)}function vh(t,e){return el(8390656,8,t,e)}function vd(t,e){return ea(2048,8,t,e)}function Cg(t,e){return ea(4,2,t,e)}function Eg(t,e){return ea(4,4,t,e)}function kg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Tg(t,e,n){return n=n!=null?n.concat([t]):null,ea(4,4,kg.bind(null,e,t),n)}function _d(){}function Rg(t,e){var n=Ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&md(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jg(t,e){var n=Ut();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&md(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ig(t,e,n){return Pr&21?(nn(n,e)||(n=Fm(),Te.lanes|=n,Fr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_t=!0),t.memoizedState=n)}function R_(t,e){var n=fe;fe=n!==0&&4>n?n:4,t(!0);var r=Ja.transition;Ja.transition={};try{t(!1),e()}finally{fe=n,Ja.transition=r}}function Ng(){return Ut().memoizedState}function j_(t,e,n){var r=Jn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ag(t))Dg(e,n);else if(n=hg(t,e,n,r),n!==null){var i=ht();en(n,t,r,i),Pg(n,e,r)}}function I_(t,e,n){var r=Jn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ag(t))Dg(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,nn(l,o)){var c=e.interleaved;c===null?(i.next=i,ud(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=hg(t,e,i,r),n!==null&&(i=ht(),en(n,t,r,i),Pg(n,e,r))}}function Ag(t){var e=t.alternate;return t===Te||e!==null&&e===Te}function Dg(t,e){Es=Sl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Pg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qu(t,n)}}var wl={readContext:Wt,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},N_={readContext:Wt,useCallback:function(t,e){return an().memoizedState=[t,e===void 0?null:e],t},useContext:Wt,useEffect:vh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,el(4194308,4,kg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return el(4194308,4,t,e)},useInsertionEffect:function(t,e){return el(4,2,t,e)},useMemo:function(t,e){var n=an();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=an();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=j_.bind(null,Te,t),[r.memoizedState,t]},useRef:function(t){var e=an();return t={current:t},e.memoizedState=t},useState:yh,useDebugValue:_d,useDeferredValue:function(t){return an().memoizedState=t},useTransition:function(){var t=yh(!1),e=t[0];return t=R_.bind(null,t[1]),an().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Te,i=an();if(Ee){if(n===void 0)throw Error(M(407));n=n()}else{if(n=e(),qe===null)throw Error(M(349));Pr&30||vg(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,vh(xg.bind(null,r,s,t),[t]),r.flags|=2048,Qs(9,_g.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=an(),e=qe.identifierPrefix;if(Ee){var n=xn,r=_n;n=(r&~(1<<32-Zt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ys++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=T_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},A_={readContext:Wt,useCallback:Rg,useContext:Wt,useEffect:vd,useImperativeHandle:Tg,useInsertionEffect:Cg,useLayoutEffect:Eg,useMemo:jg,useReducer:Za,useRef:wg,useState:function(){return Za(Gs)},useDebugValue:_d,useDeferredValue:function(t){var e=Ut();return Ig(e,ze.memoizedState,t)},useTransition:function(){var t=Za(Gs)[0],e=Ut().memoizedState;return[t,e]},useMutableSource:gg,useSyncExternalStore:yg,useId:Ng,unstable_isNewReconciler:!1},D_={readContext:Wt,useCallback:Rg,useContext:Wt,useEffect:vd,useImperativeHandle:Tg,useInsertionEffect:Cg,useLayoutEffect:Eg,useMemo:jg,useReducer:ec,useRef:wg,useState:function(){return ec(Gs)},useDebugValue:_d,useDeferredValue:function(t){var e=Ut();return ze===null?e.memoizedState=t:Ig(e,ze.memoizedState,t)},useTransition:function(){var t=ec(Gs)[0],e=Ut().memoizedState;return[t,e]},useMutableSource:gg,useSyncExternalStore:yg,useId:Ng,unstable_isNewReconciler:!1};function Qt(t,e){if(t&&t.defaultProps){e=Re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Jc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ta={isMounted:function(t){return(t=t._reactInternals)?$r(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ht(),i=Jn(t),s=Sn(r,i);s.payload=e,n!=null&&(s.callback=n),e=qn(t,s,i),e!==null&&(en(e,t,i,r),Jo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ht(),i=Jn(t),s=Sn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=qn(t,s,i),e!==null&&(en(e,t,i,r),Jo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ht(),r=Jn(t),i=Sn(n,r);i.tag=2,e!=null&&(i.callback=e),e=qn(t,i,r),e!==null&&(en(e,t,r,n),Jo(e,t,r))}};function _h(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!zs(n,r)||!zs(i,s):!0}function Fg(t,e,n){var r=!1,i=sr,s=e.contextType;return typeof s=="object"&&s!==null?s=Wt(s):(i=St(e)?Ar:ct.current,r=e.contextTypes,s=(r=r!=null)?Si(t,i):sr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ta,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function xh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ta.enqueueReplaceState(e,e.state,null)}function Zc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},dd(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Wt(s):(s=St(e)?Ar:ct.current,i.context=Si(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Jc(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ta.enqueueReplaceState(i,i.state,null),xl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ki(t,e){try{var n="",r=e;do n+=lv(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function tc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function eu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var P_=typeof WeakMap=="function"?WeakMap:Map;function Mg(t,e,n){n=Sn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){El||(El=!0,uu=r),eu(t,e)},n}function Og(t,e,n){n=Sn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){eu(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){eu(t,e),typeof r!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function bh(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new P_;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Q_.bind(null,t,e,n),e.then(t,t))}function Sh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wh(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sn(-1,1),e.tag=2,qn(n,e,1))),n.lanes|=1),t)}var F_=In.ReactCurrentOwner,_t=!1;function dt(t,e,n,r){e.child=t===null?fg(e,null,n,r):Ci(e,t.child,n,r)}function Ch(t,e,n,r,i){n=n.render;var s=e.ref;return mi(e,i),r=gd(t,e,n,r,s,i),n=yd(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tn(t,e,i)):(Ee&&n&&id(e),e.flags|=1,dt(t,e,r,i),e.child)}function Eh(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Td(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Bg(t,e,s,r,i)):(t=il(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:zs,n(o,r)&&t.ref===e.ref)return Tn(t,e,i)}return e.flags|=1,t=Zn(s,r),t.ref=e.ref,t.return=e,e.child=t}function Bg(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(zs(s,r)&&t.ref===e.ref)if(_t=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(_t=!0);else return e.lanes=t.lanes,Tn(t,e,i)}return tu(t,e,n,r,i)}function Lg(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(ci,kt),kt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ve(ci,kt),kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ve(ci,kt),kt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ve(ci,kt),kt|=r;return dt(t,e,i,n),e.child}function zg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tu(t,e,n,r,i){var s=St(n)?Ar:ct.current;return s=Si(e,s),mi(e,i),n=gd(t,e,n,r,s,i),r=yd(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Tn(t,e,i)):(Ee&&r&&id(e),e.flags|=1,dt(t,e,n,i),e.child)}function kh(t,e,n,r,i){if(St(n)){var s=!0;ml(e)}else s=!1;if(mi(e,i),e.stateNode===null)tl(t,e),Fg(e,n,r),Zc(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wt(u):(u=St(n)?Ar:ct.current,u=Si(e,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&xh(e,o,r,u),Bn=!1;var h=e.memoizedState;o.state=h,xl(e,r,o,i),c=e.memoizedState,l!==r||h!==c||bt.current||Bn?(typeof f=="function"&&(Jc(e,n,f,r),c=e.memoizedState),(l=Bn||_h(e,n,l,r,h,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,pg(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Qt(e.type,l),o.props=u,d=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Wt(c):(c=St(n)?Ar:ct.current,c=Si(e,c));var x=n.getDerivedStateFromProps;(f=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==c)&&xh(e,o,r,c),Bn=!1,h=e.memoizedState,o.state=h,xl(e,r,o,i);var v=e.memoizedState;l!==d||h!==v||bt.current||Bn?(typeof x=="function"&&(Jc(e,n,x,r),v=e.memoizedState),(u=Bn||_h(e,n,u,r,h,v,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return nu(t,e,n,r,s,i)}function nu(t,e,n,r,i,s){zg(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&dh(e,n,!1),Tn(t,e,s);r=e.stateNode,F_.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ci(e,t.child,null,s),e.child=Ci(e,null,l,s)):dt(t,e,l,s),e.memoizedState=r.state,i&&dh(e,n,!0),e.child}function $g(t){var e=t.stateNode;e.pendingContext?uh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&uh(t,e.context,!1),fd(t,e.containerInfo)}function Th(t,e,n,r,i){return wi(),od(i),e.flags|=256,dt(t,e,n,r),e.child}var ru={dehydrated:null,treeContext:null,retryLane:0};function iu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Wg(t,e,n){var r=e.pendingProps,i=ke.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ve(ke,i&1),t===null)return qc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ia(o,r,0,null),t=jr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=iu(n),e.memoizedState=ru,t):xd(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return M_(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Zn(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Zn(l,s):(s=jr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?iu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ru,r}return s=t.child,t=s.sibling,r=Zn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xd(t,e){return e=ia({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $o(t,e,n,r){return r!==null&&od(r),Ci(e,t.child,null,n),t=xd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function M_(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=tc(Error(M(422))),$o(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ia({mode:"visible",children:r.children},i,0,null),s=jr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ci(e,t.child,null,o),e.child.memoizedState=iu(o),e.memoizedState=ru,s);if(!(e.mode&1))return $o(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(M(419)),r=tc(s,r,void 0),$o(t,e,o,r)}if(l=(o&t.childLanes)!==0,_t||l){if(r=qe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,kn(t,i),en(r,t,i,-1))}return kd(),r=tc(Error(M(421))),$o(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=K_.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Tt=Kn(i.nextSibling),Rt=e,Ee=!0,qt=null,t!==null&&(Ot[Bt++]=_n,Ot[Bt++]=xn,Ot[Bt++]=Dr,_n=t.id,xn=t.overflow,Dr=e),e=xd(e,r.children),e.flags|=4096,e)}function Rh(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xc(t.return,e,n)}function nc(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ug(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(dt(t,e,r.children,n),r=ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rh(t,n,e);else if(t.tag===19)Rh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ve(ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&bl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),nc(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}nc(e,!0,n,null,s);break;case"together":nc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Tn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(M(153));if(e.child!==null){for(t=e.child,n=Zn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function O_(t,e,n){switch(e.tag){case 3:$g(e),wi();break;case 5:mg(e);break;case 1:St(e.type)&&ml(e);break;case 4:fd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ve(vl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ve(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?Wg(t,e,n):(ve(ke,ke.current&1),t=Tn(t,e,n),t!==null?t.sibling:null);ve(ke,ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ug(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ve(ke,ke.current),r)break;return null;case 22:case 23:return e.lanes=0,Lg(t,e,n)}return Tn(t,e,n)}var Hg,su,Vg,Yg;Hg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};su=function(){};Vg=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,kr(dn.current);var s=null;switch(n){case"input":i=Tc(t,i),r=Tc(t,r),s=[];break;case"select":i=Re({},i,{value:void 0}),r=Re({},r,{value:void 0}),s=[];break;case"textarea":i=Ic(t,i),r=Ic(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hl)}Ac(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ds.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ds.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Se("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Yg=function(t,e,n,r){n!==r&&(e.flags|=4)};function us(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function B_(t,e,n){var r=e.pendingProps;switch(sd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(e),null;case 1:return St(e.type)&&pl(),lt(e),null;case 3:return r=e.stateNode,Ei(),we(bt),we(ct),pd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Lo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qt!==null&&(hu(qt),qt=null))),su(t,e),lt(e),null;case 5:hd(e);var i=kr(Vs.current);if(n=e.type,t!==null&&e.stateNode!=null)Vg(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(M(166));return lt(e),null}if(t=kr(dn.current),Lo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[cn]=e,r[Us]=s,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(i=0;i<_s.length;i++)Se(_s[i],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":Of(r,s),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Se("invalid",r);break;case"textarea":Lf(r,s),Se("invalid",r)}Ac(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Bo(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Bo(r.textContent,l,t),i=["children",""+l]):Ds.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":Io(r),Bf(r,s,!0);break;case"textarea":Io(r),zf(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=hl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[cn]=e,t[Us]=r,Hg(t,e,!1,!1),e.stateNode=t;e:{switch(o=Dc(n,r),n){case"dialog":Se("cancel",t),Se("close",t),i=r;break;case"iframe":case"object":case"embed":Se("load",t),i=r;break;case"video":case"audio":for(i=0;i<_s.length;i++)Se(_s[i],t);i=r;break;case"source":Se("error",t),i=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),i=r;break;case"details":Se("toggle",t),i=r;break;case"input":Of(t,r),i=Tc(t,r),Se("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Re({},r,{value:void 0}),Se("invalid",t);break;case"textarea":Lf(t,r),i=Ic(t,r),Se("invalid",t);break;default:i=r}Ac(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?wm(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&bm(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ps(t,c):typeof c=="number"&&Ps(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ds.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Se("scroll",t):c!=null&&Hu(t,s,c,o))}switch(n){case"input":Io(t),Bf(t,r,!1);break;case"textarea":Io(t),zf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ir(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?di(t,!!r.multiple,s,!1):r.defaultValue!=null&&di(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lt(e),null;case 6:if(t&&e.stateNode!=null)Yg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(M(166));if(n=kr(Vs.current),kr(dn.current),Lo(e)){if(r=e.stateNode,n=e.memoizedProps,r[cn]=e,(s=r.nodeValue!==n)&&(t=Rt,t!==null))switch(t.tag){case 3:Bo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bo(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cn]=e,e.stateNode=r}return lt(e),null;case 13:if(we(ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&Tt!==null&&e.mode&1&&!(e.flags&128))ug(),wi(),e.flags|=98560,s=!1;else if(s=Lo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(M(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(M(317));s[cn]=e}else wi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lt(e),s=!1}else qt!==null&&(hu(qt),qt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?Ue===0&&(Ue=3):kd())),e.updateQueue!==null&&(e.flags|=4),lt(e),null);case 4:return Ei(),su(t,e),t===null&&$s(e.stateNode.containerInfo),lt(e),null;case 10:return cd(e.type._context),lt(e),null;case 17:return St(e.type)&&pl(),lt(e),null;case 19:if(we(ke),s=e.memoizedState,s===null)return lt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)us(s,!1);else{if(Ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bl(t),o!==null){for(e.flags|=128,us(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ve(ke,ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&Pe()>Ti&&(e.flags|=128,r=!0,us(s,!1),e.lanes=4194304)}else{if(!r)if(t=bl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),us(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ee)return lt(e),null}else 2*Pe()-s.renderingStartTime>Ti&&n!==1073741824&&(e.flags|=128,r=!0,us(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pe(),e.sibling=null,n=ke.current,ve(ke,r?n&1|2:n&1),e):(lt(e),null);case 22:case 23:return Ed(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kt&1073741824&&(lt(e),e.subtreeFlags&6&&(e.flags|=8192)):lt(e),null;case 24:return null;case 25:return null}throw Error(M(156,e.tag))}function L_(t,e){switch(sd(e),e.tag){case 1:return St(e.type)&&pl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ei(),we(bt),we(ct),pd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hd(e),null;case 13:if(we(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(M(340));wi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return we(ke),null;case 4:return Ei(),null;case 10:return cd(e.type._context),null;case 22:case 23:return Ed(),null;case 24:return null;default:return null}}var Wo=!1,at=!1,z_=typeof WeakSet=="function"?WeakSet:Set,W=null;function ai(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(t,e,r)}else n.current=null}function ou(t,e,n){try{n()}catch(r){Ie(t,e,r)}}var jh=!1;function $_(t,e){if(Uc=ul,t=Xm(),rd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,f=0,d=t,h=null;t:for(;;){for(var x;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(x=d.firstChild)!==null;)h=d,d=x;for(;;){if(d===t)break t;if(h===n&&++u===i&&(l=o),h===s&&++f===r&&(c=o),(x=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hc={focusedElem:t,selectionRange:n},ul=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,C=v.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:Qt(e.type,w),C);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(_){Ie(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return v=jh,jh=!1,v}function ks(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ou(e,n,s)}i=i.next}while(i!==r)}}function na(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Gg(t){var e=t.alternate;e!==null&&(t.alternate=null,Gg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cn],delete e[Us],delete e[Gc],delete e[w_],delete e[C_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Qg(t){return t.tag===5||t.tag===3||t.tag===4}function Ih(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function au(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hl));else if(r!==4&&(t=t.child,t!==null))for(au(t,e,n),t=t.sibling;t!==null;)au(t,e,n),t=t.sibling}function cu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cu(t,e,n),t=t.sibling;t!==null;)cu(t,e,n),t=t.sibling}var Xe=null,Kt=!1;function Pn(t,e,n){for(n=n.child;n!==null;)Kg(t,e,n),n=n.sibling}function Kg(t,e,n){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Ql,n)}catch{}switch(n.tag){case 5:at||ai(n,e);case 6:var r=Xe,i=Kt;Xe=null,Pn(t,e,n),Xe=r,Kt=i,Xe!==null&&(Kt?(t=Xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(Kt?(t=Xe,n=n.stateNode,t.nodeType===8?Ka(t.parentNode,n):t.nodeType===1&&Ka(t,n),Bs(t)):Ka(Xe,n.stateNode));break;case 4:r=Xe,i=Kt,Xe=n.stateNode.containerInfo,Kt=!0,Pn(t,e,n),Xe=r,Kt=i;break;case 0:case 11:case 14:case 15:if(!at&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ou(n,e,o),i=i.next}while(i!==r)}Pn(t,e,n);break;case 1:if(!at&&(ai(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ie(n,e,l)}Pn(t,e,n);break;case 21:Pn(t,e,n);break;case 22:n.mode&1?(at=(r=at)||n.memoizedState!==null,Pn(t,e,n),at=r):Pn(t,e,n);break;default:Pn(t,e,n)}}function Nh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new z_),e.forEach(function(r){var i=q_.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Gt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Xe=l.stateNode,Kt=!1;break e;case 3:Xe=l.stateNode.containerInfo,Kt=!0;break e;case 4:Xe=l.stateNode.containerInfo,Kt=!0;break e}l=l.return}if(Xe===null)throw Error(M(160));Kg(s,o,i),Xe=null,Kt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Ie(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qg(e,t),e=e.sibling}function qg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gt(e,t),ln(t),r&4){try{ks(3,t,t.return),na(3,t)}catch(w){Ie(t,t.return,w)}try{ks(5,t,t.return)}catch(w){Ie(t,t.return,w)}}break;case 1:Gt(e,t),ln(t),r&512&&n!==null&&ai(n,n.return);break;case 5:if(Gt(e,t),ln(t),r&512&&n!==null&&ai(n,n.return),t.flags&32){var i=t.stateNode;try{Ps(i,"")}catch(w){Ie(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&vm(i,s),Dc(l,o);var u=Dc(l,s);for(o=0;o<c.length;o+=2){var f=c[o],d=c[o+1];f==="style"?wm(i,d):f==="dangerouslySetInnerHTML"?bm(i,d):f==="children"?Ps(i,d):Hu(i,f,d,u)}switch(l){case"input":Rc(i,s);break;case"textarea":_m(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var x=s.value;x!=null?di(i,!!s.multiple,x,!1):h!==!!s.multiple&&(s.defaultValue!=null?di(i,!!s.multiple,s.defaultValue,!0):di(i,!!s.multiple,s.multiple?[]:"",!1))}i[Us]=s}catch(w){Ie(t,t.return,w)}}break;case 6:if(Gt(e,t),ln(t),r&4){if(t.stateNode===null)throw Error(M(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Ie(t,t.return,w)}}break;case 3:if(Gt(e,t),ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bs(e.containerInfo)}catch(w){Ie(t,t.return,w)}break;case 4:Gt(e,t),ln(t);break;case 13:Gt(e,t),ln(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(wd=Pe())),r&4&&Nh(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(at=(u=at)||f,Gt(e,t),at=u):Gt(e,t),ln(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(W=t,f=t.child;f!==null;){for(d=W=f;W!==null;){switch(h=W,x=h.child,h.tag){case 0:case 11:case 14:case 15:ks(4,h,h.return);break;case 1:ai(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){Ie(r,n,w)}}break;case 5:ai(h,h.return);break;case 22:if(h.memoizedState!==null){Dh(d);continue}}x!==null?(x.return=h,W=x):Dh(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Sm("display",o))}catch(w){Ie(t,t.return,w)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){Ie(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Gt(e,t),ln(t),r&4&&Nh(t);break;case 21:break;default:Gt(e,t),ln(t)}}function ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Qg(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ps(i,""),r.flags&=-33);var s=Ih(t);cu(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Ih(t);au(t,l,o);break;default:throw Error(M(161))}}catch(c){Ie(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function W_(t,e,n){W=t,Xg(t)}function Xg(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Wo;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||at;l=Wo;var u=at;if(Wo=o,(at=c)&&!u)for(W=i;W!==null;)o=W,c=o.child,o.tag===22&&o.memoizedState!==null?Ph(i):c!==null?(c.return=o,W=c):Ph(i);for(;s!==null;)W=s,Xg(s),s=s.sibling;W=i,Wo=l,at=u}Ah(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):Ah(t)}}function Ah(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:at||na(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!at)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Qt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&gh(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gh(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Bs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}at||e.flags&512&&lu(e)}catch(h){Ie(e,e.return,h)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function Dh(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function Ph(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{na(4,e)}catch(c){Ie(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Ie(e,i,c)}}var s=e.return;try{lu(e)}catch(c){Ie(e,s,c)}break;case 5:var o=e.return;try{lu(e)}catch(c){Ie(e,o,c)}}}catch(c){Ie(e,e.return,c)}if(e===t){W=null;break}var l=e.sibling;if(l!==null){l.return=e.return,W=l;break}W=e.return}}var U_=Math.ceil,Cl=In.ReactCurrentDispatcher,bd=In.ReactCurrentOwner,$t=In.ReactCurrentBatchConfig,oe=0,qe=null,Be=null,Ze=0,kt=0,ci=dr(0),Ue=0,Ks=null,Fr=0,ra=0,Sd=0,Ts=null,vt=null,wd=0,Ti=1/0,yn=null,El=!1,uu=null,Xn=null,Uo=!1,Wn=null,kl=0,Rs=0,du=null,nl=-1,rl=0;function ht(){return oe&6?Pe():nl!==-1?nl:nl=Pe()}function Jn(t){return t.mode&1?oe&2&&Ze!==0?Ze&-Ze:k_.transition!==null?(rl===0&&(rl=Fm()),rl):(t=fe,t!==0||(t=window.event,t=t===void 0?16:Wm(t.type)),t):1}function en(t,e,n,r){if(50<Rs)throw Rs=0,du=null,Error(M(185));co(t,n,r),(!(oe&2)||t!==qe)&&(t===qe&&(!(oe&2)&&(ra|=n),Ue===4&&zn(t,Ze)),wt(t,r),n===1&&oe===0&&!(e.mode&1)&&(Ti=Pe()+500,Zl&&fr()))}function wt(t,e){var n=t.callbackNode;kv(t,e);var r=cl(t,t===qe?Ze:0);if(r===0)n!==null&&Uf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Uf(n),e===1)t.tag===0?E_(Fh.bind(null,t)):lg(Fh.bind(null,t)),b_(function(){!(oe&6)&&fr()}),n=null;else{switch(Mm(r)){case 1:n=Ku;break;case 4:n=Dm;break;case 16:n=al;break;case 536870912:n=Pm;break;default:n=al}n=s1(n,Jg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Jg(t,e){if(nl=-1,rl=0,oe&6)throw Error(M(327));var n=t.callbackNode;if(gi()&&t.callbackNode!==n)return null;var r=cl(t,t===qe?Ze:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Tl(t,r);else{e=r;var i=oe;oe|=2;var s=e1();(qe!==t||Ze!==e)&&(yn=null,Ti=Pe()+500,Rr(t,e));do try{Y_();break}catch(l){Zg(t,l)}while(1);ad(),Cl.current=s,oe=i,Be!==null?e=0:(qe=null,Ze=0,e=Ue)}if(e!==0){if(e===2&&(i=Bc(t),i!==0&&(r=i,e=fu(t,i))),e===1)throw n=Ks,Rr(t,0),zn(t,r),wt(t,Pe()),n;if(e===6)zn(t,r);else{if(i=t.current.alternate,!(r&30)&&!H_(i)&&(e=Tl(t,r),e===2&&(s=Bc(t),s!==0&&(r=s,e=fu(t,s))),e===1))throw n=Ks,Rr(t,0),zn(t,r),wt(t,Pe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(M(345));case 2:br(t,vt,yn);break;case 3:if(zn(t,r),(r&130023424)===r&&(e=wd+500-Pe(),10<e)){if(cl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ht(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Yc(br.bind(null,t,vt,yn),e);break}br(t,vt,yn);break;case 4:if(zn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Zt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*U_(r/1960))-r,10<r){t.timeoutHandle=Yc(br.bind(null,t,vt,yn),r);break}br(t,vt,yn);break;case 5:br(t,vt,yn);break;default:throw Error(M(329))}}}return wt(t,Pe()),t.callbackNode===n?Jg.bind(null,t):null}function fu(t,e){var n=Ts;return t.current.memoizedState.isDehydrated&&(Rr(t,e).flags|=256),t=Tl(t,e),t!==2&&(e=vt,vt=n,e!==null&&hu(e)),t}function hu(t){vt===null?vt=t:vt.push.apply(vt,t)}function H_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!nn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zn(t,e){for(e&=~Sd,e&=~ra,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zt(e),r=1<<n;t[n]=-1,e&=~r}}function Fh(t){if(oe&6)throw Error(M(327));gi();var e=cl(t,0);if(!(e&1))return wt(t,Pe()),null;var n=Tl(t,e);if(t.tag!==0&&n===2){var r=Bc(t);r!==0&&(e=r,n=fu(t,r))}if(n===1)throw n=Ks,Rr(t,0),zn(t,e),wt(t,Pe()),n;if(n===6)throw Error(M(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,br(t,vt,yn),wt(t,Pe()),null}function Cd(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(Ti=Pe()+500,Zl&&fr())}}function Mr(t){Wn!==null&&Wn.tag===0&&!(oe&6)&&gi();var e=oe;oe|=1;var n=$t.transition,r=fe;try{if($t.transition=null,fe=1,t)return t()}finally{fe=r,$t.transition=n,oe=e,!(oe&6)&&fr()}}function Ed(){kt=ci.current,we(ci)}function Rr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,x_(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(sd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pl();break;case 3:Ei(),we(bt),we(ct),pd();break;case 5:hd(r);break;case 4:Ei();break;case 13:we(ke);break;case 19:we(ke);break;case 10:cd(r.type._context);break;case 22:case 23:Ed()}n=n.return}if(qe=t,Be=t=Zn(t.current,null),Ze=kt=e,Ue=0,Ks=null,Sd=ra=Fr=0,vt=Ts=null,Er!==null){for(e=0;e<Er.length;e++)if(n=Er[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Er=null}return t}function Zg(t,e){do{var n=Be;try{if(ad(),Zo.current=wl,Sl){for(var r=Te.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sl=!1}if(Pr=0,Qe=ze=Te=null,Es=!1,Ys=0,bd.current=null,n===null||n.return===null){Ue=1,Ks=e,Be=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=Ze,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var x=Sh(o);if(x!==null){x.flags&=-257,wh(x,o,l,s,e),x.mode&1&&bh(s,u,e),e=x,c=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(c),e.updateQueue=w}else v.add(c);break e}else{if(!(e&1)){bh(s,u,e),kd();break e}c=Error(M(426))}}else if(Ee&&l.mode&1){var C=Sh(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),wh(C,o,l,s,e),od(ki(c,l));break e}}s=c=ki(c,l),Ue!==4&&(Ue=2),Ts===null?Ts=[s]:Ts.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=Mg(s,c,e);mh(s,m);break e;case 1:l=c;var p=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Xn===null||!Xn.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=Og(s,l,e);mh(s,_);break e}}s=s.return}while(s!==null)}n1(n)}catch(S){e=S,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(1)}function e1(){var t=Cl.current;return Cl.current=wl,t===null?wl:t}function kd(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),qe===null||!(Fr&268435455)&&!(ra&268435455)||zn(qe,Ze)}function Tl(t,e){var n=oe;oe|=2;var r=e1();(qe!==t||Ze!==e)&&(yn=null,Rr(t,e));do try{V_();break}catch(i){Zg(t,i)}while(1);if(ad(),oe=n,Cl.current=r,Be!==null)throw Error(M(261));return qe=null,Ze=0,Ue}function V_(){for(;Be!==null;)t1(Be)}function Y_(){for(;Be!==null&&!yv();)t1(Be)}function t1(t){var e=i1(t.alternate,t,kt);t.memoizedProps=t.pendingProps,e===null?n1(t):Be=e,bd.current=null}function n1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=L_(n,e),n!==null){n.flags&=32767,Be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ue=6,Be=null;return}}else if(n=B_(n,e,kt),n!==null){Be=n;return}if(e=e.sibling,e!==null){Be=e;return}Be=e=t}while(e!==null);Ue===0&&(Ue=5)}function br(t,e,n){var r=fe,i=$t.transition;try{$t.transition=null,fe=1,G_(t,e,n,r)}finally{$t.transition=i,fe=r}return null}function G_(t,e,n,r){do gi();while(Wn!==null);if(oe&6)throw Error(M(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(M(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Tv(t,s),t===qe&&(Be=qe=null,Ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uo||(Uo=!0,s1(al,function(){return gi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=$t.transition,$t.transition=null;var o=fe;fe=1;var l=oe;oe|=4,bd.current=null,$_(t,n),qg(n,t),h_(Hc),ul=!!Uc,Hc=Uc=null,t.current=n,W_(n),vv(),oe=l,fe=o,$t.transition=s}else t.current=n;if(Uo&&(Uo=!1,Wn=t,kl=i),s=t.pendingLanes,s===0&&(Xn=null),bv(n.stateNode),wt(t,Pe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(El)throw El=!1,t=uu,uu=null,t;return kl&1&&t.tag!==0&&gi(),s=t.pendingLanes,s&1?t===du?Rs++:(Rs=0,du=t):Rs=0,fr(),null}function gi(){if(Wn!==null){var t=Mm(kl),e=$t.transition,n=fe;try{if($t.transition=null,fe=16>t?16:t,Wn===null)var r=!1;else{if(t=Wn,Wn=null,kl=0,oe&6)throw Error(M(331));var i=oe;for(oe|=4,W=t.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(W=u;W!==null;){var f=W;switch(f.tag){case 0:case 11:case 15:ks(8,f,s)}var d=f.child;if(d!==null)d.return=f,W=d;else for(;W!==null;){f=W;var h=f.sibling,x=f.return;if(Gg(f),f===u){W=null;break}if(h!==null){h.return=x,W=h;break}W=x}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ks(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,W=m;break e}W=s.return}}var p=t.current;for(W=p;W!==null;){o=W;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,W=y;else e:for(o=p;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:na(9,l)}}catch(S){Ie(l,l.return,S)}if(l===o){W=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,W=_;break e}W=l.return}}if(oe=i,fr(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Ql,t)}catch{}r=!0}return r}finally{fe=n,$t.transition=e}}return!1}function Mh(t,e,n){e=ki(n,e),e=Mg(t,e,1),t=qn(t,e,1),e=ht(),t!==null&&(co(t,1,e),wt(t,e))}function Ie(t,e,n){if(t.tag===3)Mh(t,t,n);else for(;e!==null;){if(e.tag===3){Mh(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xn===null||!Xn.has(r))){t=ki(n,t),t=Og(e,t,1),e=qn(e,t,1),t=ht(),e!==null&&(co(e,1,t),wt(e,t));break}}e=e.return}}function Q_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ht(),t.pingedLanes|=t.suspendedLanes&n,qe===t&&(Ze&n)===n&&(Ue===4||Ue===3&&(Ze&130023424)===Ze&&500>Pe()-wd?Rr(t,0):Sd|=n),wt(t,e)}function r1(t,e){e===0&&(t.mode&1?(e=Do,Do<<=1,!(Do&130023424)&&(Do=4194304)):e=1);var n=ht();t=kn(t,e),t!==null&&(co(t,e,n),wt(t,n))}function K_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),r1(t,n)}function q_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(e),r1(t,n)}var i1;i1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||bt.current)_t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _t=!1,O_(t,e,n);_t=!!(t.flags&131072)}else _t=!1,Ee&&e.flags&1048576&&ag(e,yl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;tl(t,e),t=e.pendingProps;var i=Si(e,ct.current);mi(e,n),i=gd(null,e,r,t,i,n);var s=yd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,St(r)?(s=!0,ml(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dd(e),i.updater=ta,e.stateNode=i,i._reactInternals=e,Zc(e,r,t,n),e=nu(null,e,r,!0,s,n)):(e.tag=0,Ee&&s&&id(e),dt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(tl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=J_(r),t=Qt(r,t),i){case 0:e=tu(null,e,r,t,n);break e;case 1:e=kh(null,e,r,t,n);break e;case 11:e=Ch(null,e,r,t,n);break e;case 14:e=Eh(null,e,r,Qt(r.type,t),n);break e}throw Error(M(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),tu(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),kh(t,e,r,i,n);case 3:e:{if($g(e),t===null)throw Error(M(387));r=e.pendingProps,s=e.memoizedState,i=s.element,pg(t,e),xl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ki(Error(M(423)),e),e=Th(t,e,r,n,i);break e}else if(r!==i){i=ki(Error(M(424)),e),e=Th(t,e,r,n,i);break e}else for(Tt=Kn(e.stateNode.containerInfo.firstChild),Rt=e,Ee=!0,qt=null,n=fg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wi(),r===i){e=Tn(t,e,n);break e}dt(t,e,r,n)}e=e.child}return e;case 5:return mg(e),t===null&&qc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Vc(r,i)?o=null:s!==null&&Vc(r,s)&&(e.flags|=32),zg(t,e),dt(t,e,o,n),e.child;case 6:return t===null&&qc(e),null;case 13:return Wg(t,e,n);case 4:return fd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ci(e,null,r,n):dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),Ch(t,e,r,i,n);case 7:return dt(t,e,e.pendingProps,n),e.child;case 8:return dt(t,e,e.pendingProps.children,n),e.child;case 12:return dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ve(vl,r._currentValue),r._currentValue=o,s!==null)if(nn(s.value,o)){if(s.children===i.children&&!bt.current){e=Tn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Sn(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Xc(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(M(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Xc(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,mi(e,n),i=Wt(i),r=r(i),e.flags|=1,dt(t,e,r,n),e.child;case 14:return r=e.type,i=Qt(r,e.pendingProps),i=Qt(r.type,i),Eh(t,e,r,i,n);case 15:return Bg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),tl(t,e),e.tag=1,St(r)?(t=!0,ml(e)):t=!1,mi(e,n),Fg(e,r,i),Zc(e,r,i,n),nu(null,e,r,!0,t,n);case 19:return Ug(t,e,n);case 22:return Lg(t,e,n)}throw Error(M(156,e.tag))};function s1(t,e){return Am(t,e)}function X_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(t,e,n,r){return new X_(t,e,n,r)}function Td(t){return t=t.prototype,!(!t||!t.isReactComponent)}function J_(t){if(typeof t=="function")return Td(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yu)return 11;if(t===Gu)return 14}return 2}function Zn(t,e){var n=t.alternate;return n===null?(n=Lt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function il(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Td(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zr:return jr(n.children,i,s,e);case Vu:o=8,i|=8;break;case wc:return t=Lt(12,n,e,i|2),t.elementType=wc,t.lanes=s,t;case Cc:return t=Lt(13,n,e,i),t.elementType=Cc,t.lanes=s,t;case Ec:return t=Lt(19,n,e,i),t.elementType=Ec,t.lanes=s,t;case mm:return ia(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hm:o=10;break e;case pm:o=9;break e;case Yu:o=11;break e;case Gu:o=14;break e;case On:o=16,r=null;break e}throw Error(M(130,t==null?t:typeof t,""))}return e=Lt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function jr(t,e,n,r){return t=Lt(7,t,r,e),t.lanes=n,t}function ia(t,e,n,r){return t=Lt(22,t,r,e),t.elementType=mm,t.lanes=n,t.stateNode={isHidden:!1},t}function rc(t,e,n){return t=Lt(6,t,null,e),t.lanes=n,t}function ic(t,e,n){return e=Lt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Z_(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ba(0),this.expirationTimes=Ba(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ba(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Rd(t,e,n,r,i,s,o,l,c){return t=new Z_(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Lt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dd(s),t}function ex(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function o1(t){if(!t)return sr;t=t._reactInternals;e:{if($r(t)!==t||t.tag!==1)throw Error(M(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(St(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(M(171))}if(t.tag===1){var n=t.type;if(St(n))return og(t,n,e)}return e}function l1(t,e,n,r,i,s,o,l,c){return t=Rd(n,r,!0,t,i,s,o,l,c),t.context=o1(null),n=t.current,r=ht(),i=Jn(n),s=Sn(r,i),s.callback=e??null,qn(n,s,i),t.current.lanes=i,co(t,i,r),wt(t,r),t}function sa(t,e,n,r){var i=e.current,s=ht(),o=Jn(i);return n=o1(n),e.context===null?e.context=n:e.pendingContext=n,e=Sn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qn(i,e,o),t!==null&&(en(t,i,o,s),Jo(t,i,o)),o}function Rl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Oh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jd(t,e){Oh(t,e),(t=t.alternate)&&Oh(t,e)}function tx(){return null}var a1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Id(t){this._internalRoot=t}oa.prototype.render=Id.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(M(409));sa(t,e,null,null)};oa.prototype.unmount=Id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mr(function(){sa(null,t,null,null)}),e[En]=null}};function oa(t){this._internalRoot=t}oa.prototype.unstable_scheduleHydration=function(t){if(t){var e=Lm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ln.length&&e!==0&&e<Ln[n].priority;n++);Ln.splice(n,0,t),n===0&&$m(t)}};function Nd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function la(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bh(){}function nx(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Rl(o);s.call(u)}}var o=l1(e,r,t,0,null,!1,!1,"",Bh);return t._reactRootContainer=o,t[En]=o.current,$s(t.nodeType===8?t.parentNode:t),Mr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Rl(c);l.call(u)}}var c=Rd(t,0,!1,null,null,!1,!1,"",Bh);return t._reactRootContainer=c,t[En]=c.current,$s(t.nodeType===8?t.parentNode:t),Mr(function(){sa(e,c,n,r)}),c}function aa(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=Rl(o);l.call(c)}}sa(e,o,t,i)}else o=nx(n,e,t,i,r);return Rl(o)}Om=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vs(e.pendingLanes);n!==0&&(qu(e,n|1),wt(e,Pe()),!(oe&6)&&(Ti=Pe()+500,fr()))}break;case 13:Mr(function(){var r=kn(t,1);if(r!==null){var i=ht();en(r,t,1,i)}}),jd(t,1)}};Xu=function(t){if(t.tag===13){var e=kn(t,134217728);if(e!==null){var n=ht();en(e,t,134217728,n)}jd(t,134217728)}};Bm=function(t){if(t.tag===13){var e=Jn(t),n=kn(t,e);if(n!==null){var r=ht();en(n,t,e,r)}jd(t,e)}};Lm=function(){return fe};zm=function(t,e){var n=fe;try{return fe=t,e()}finally{fe=n}};Fc=function(t,e,n){switch(e){case"input":if(Rc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Jl(r);if(!i)throw Error(M(90));ym(r),Rc(r,i)}}}break;case"textarea":_m(t,n);break;case"select":e=n.value,e!=null&&di(t,!!n.multiple,e,!1)}};km=Cd;Tm=Mr;var rx={usingClientEntryPoint:!1,Events:[fo,ri,Jl,Cm,Em,Cd]},ds={findFiberByHostInstance:Cr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ix={bundleType:ds.bundleType,version:ds.version,rendererPackageName:ds.rendererPackageName,rendererConfig:ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:In.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Im(t),t===null?null:t.stateNode},findFiberByHostInstance:ds.findFiberByHostInstance||tx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ho.isDisabled&&Ho.supportsFiber)try{Ql=Ho.inject(ix),un=Ho}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rx;It.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nd(e))throw Error(M(200));return ex(t,e,null,n)};It.createRoot=function(t,e){if(!Nd(t))throw Error(M(299));var n=!1,r="",i=a1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Rd(t,1,!1,null,null,n,!1,r,i),t[En]=e.current,$s(t.nodeType===8?t.parentNode:t),new Id(e)};It.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(M(188)):(t=Object.keys(t).join(","),Error(M(268,t)));return t=Im(e),t=t===null?null:t.stateNode,t};It.flushSync=function(t){return Mr(t)};It.hydrate=function(t,e,n){if(!la(e))throw Error(M(200));return aa(null,t,e,!0,n)};It.hydrateRoot=function(t,e,n){if(!Nd(t))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=a1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=l1(e,null,t,1,n??null,i,!1,s,o),t[En]=e.current,$s(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new oa(e)};It.render=function(t,e,n){if(!la(e))throw Error(M(200));return aa(null,t,e,!1,n)};It.unmountComponentAtNode=function(t){if(!la(t))throw Error(M(40));return t._reactRootContainer?(Mr(function(){aa(null,null,t,!1,function(){t._reactRootContainer=null,t[En]=null})}),!0):!1};It.unstable_batchedUpdates=Cd;It.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!la(n))throw Error(M(200));if(t==null||t._reactInternals===void 0)throw Error(M(38));return aa(t,e,n,!1,r)};It.version="18.3.1-next-f1338f8080-20240426";function c1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c1)}catch(t){console.error(t)}}c1(),cm.exports=It;var sx=cm.exports,u1,Lh=sx;u1=Lh.createRoot,Lh.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B=function(t,e){if(!t)throw Li(e)},Li=function(t){return new Error("Firebase Database ("+d1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ox=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ad={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,f=s>>2,d=(s&3)<<4|l>>4;let h=(l&15)<<2|u>>6,x=u&63;c||(x=64,o||(h=64)),r.push(n[f],n[d],n[h],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(f1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ox(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||d==null)throw new lx;const h=s<<2|l>>4;if(r.push(h),u!==64){const x=l<<4&240|u>>2;if(r.push(x),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h1=function(t){const e=f1(t);return Ad.encodeByteArray(e,!0)},jl=function(t){return h1(t).replace(/\./g,"")},pu=function(t){try{return Ad.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t){return p1(void 0,t)}function p1(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!cx(n)||(t[n]=p1(t[n],e[n]));return t}function cx(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=()=>ux().__FIREBASE_DEFAULTS__,fx=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pu(t[1]);return e&&JSON.parse(e)},m1=()=>{try{return dx()||fx()||hx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},px=t=>{var e,n;return(n=(e=m1())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mx=t=>{const e=px(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},g1=()=>{var t;return(t=m1())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[jl(JSON.stringify(n)),jl(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yx())}function vx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v1(){return d1.NODE_ADMIN===!0}function _x(){try{return typeof indexedDB=="object"}catch{return!1}}function xx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="FirebaseError";class mo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bx,Object.setPrototypeOf(this,mo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_1.prototype.create)}}class _1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Sx(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new mo(i,l,r)}}function Sx(t,e){return t.replace(wx,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const wx=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t){return JSON.parse(t)}function We(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=qs(pu(s[0])||""),n=qs(pu(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Cx=function(t){const e=x1(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Ex=function(t){const e=x1(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ri(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function zh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Il(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function mu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if($h(s)&&$h(o)){if(!mu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $h(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4],u,f;for(let d=0;d<80;d++){d<40?d<20?(u=l^s&(o^l),f=1518500249):(u=s^o^l,f=1859775393):d<60?(u=s&o|l&(s|o),f=2400959708):(u=s^o^l,f=3395469782);const h=(i<<5|i>>>27)+u+c+f+r[d]&4294967295;c=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function ca(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,B(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ua=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t){return t&&t._delegate?t._delegate:t}class Xs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new po;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Nx(e))try{this.getOrInitializeService({instanceIdentifier:Sr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Sr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sr){return this.instances.has(e)}getOptions(e=Sr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ix(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sr){return this.component?this.component.multipleInstances?e:Sr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ix(t){return t===Sr?void 0:t}function Nx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const Dx={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},Px=ge.INFO,Fx={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},Mx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Fx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class b1{constructor(e){this.name=e,this._logLevel=Px,this._logHandler=Mx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Dx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const Ox=(t,e)=>e.some(n=>t instanceof n);let Wh,Uh;function Bx(){return Wh||(Wh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lx(){return Uh||(Uh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S1=new WeakMap,gu=new WeakMap,w1=new WeakMap,sc=new WeakMap,Dd=new WeakMap;function zx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(er(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&S1.set(n,t)}).catch(()=>{}),Dd.set(e,t),e}function $x(t){if(gu.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});gu.set(t,e)}let yu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||w1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return er(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Wx(t){yu=t(yu)}function Ux(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(oc(this),e,...n);return w1.set(r,e.sort?e.sort():[e]),er(r)}:Lx().includes(t)?function(...e){return t.apply(oc(this),e),er(S1.get(this))}:function(...e){return er(t.apply(oc(this),e))}}function Hx(t){return typeof t=="function"?Ux(t):(t instanceof IDBTransaction&&$x(t),Ox(t,Bx())?new Proxy(t,yu):t)}function er(t){if(t instanceof IDBRequest)return zx(t);if(sc.has(t))return sc.get(t);const e=Hx(t);return e!==t&&(sc.set(t,e),Dd.set(e,t)),e}const oc=t=>Dd.get(t);function Vx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=er(o);return r&&o.addEventListener("upgradeneeded",c=>{r(er(o.result),c.oldVersion,c.newVersion,er(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Yx=["get","getKey","getAll","getAllKeys","count"],Gx=["put","add","delete","clear"],lc=new Map;function Hh(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lc.get(e))return lc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Gx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Yx.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return lc.set(e,s),s}Wx(t=>({...t,get:(e,n,r)=>Hh(e,n)||t.get(e,n,r),has:(e,n)=>!!Hh(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Kx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Kx(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vu="@firebase/app",Vh="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn=new b1("@firebase/app"),qx="@firebase/app-compat",Xx="@firebase/analytics-compat",Jx="@firebase/analytics",Zx="@firebase/app-check-compat",eb="@firebase/app-check",tb="@firebase/auth",nb="@firebase/auth-compat",rb="@firebase/database",ib="@firebase/data-connect",sb="@firebase/database-compat",ob="@firebase/functions",lb="@firebase/functions-compat",ab="@firebase/installations",cb="@firebase/installations-compat",ub="@firebase/messaging",db="@firebase/messaging-compat",fb="@firebase/performance",hb="@firebase/performance-compat",pb="@firebase/remote-config",mb="@firebase/remote-config-compat",gb="@firebase/storage",yb="@firebase/storage-compat",vb="@firebase/firestore",_b="@firebase/vertexai-preview",xb="@firebase/firestore-compat",bb="firebase",Sb="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u="[DEFAULT]",wb={[vu]:"fire-core",[qx]:"fire-core-compat",[Jx]:"fire-analytics",[Xx]:"fire-analytics-compat",[eb]:"fire-app-check",[Zx]:"fire-app-check-compat",[tb]:"fire-auth",[nb]:"fire-auth-compat",[rb]:"fire-rtdb",[ib]:"fire-data-connect",[sb]:"fire-rtdb-compat",[ob]:"fire-fn",[lb]:"fire-fn-compat",[ab]:"fire-iid",[cb]:"fire-iid-compat",[ub]:"fire-fcm",[db]:"fire-fcm-compat",[fb]:"fire-perf",[hb]:"fire-perf-compat",[pb]:"fire-rc",[mb]:"fire-rc-compat",[gb]:"fire-gcs",[yb]:"fire-gcs-compat",[vb]:"fire-fst",[xb]:"fire-fst-compat",[_b]:"fire-vertex","fire-js":"fire-js",[bb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=new Map,Cb=new Map,xu=new Map;function Yh(t,e){try{t.container.addComponent(e)}catch(n){Rn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Al(t){const e=t.name;if(xu.has(e))return Rn.debug(`There were multiple attempts to register component ${e}.`),!1;xu.set(e,t);for(const n of Nl.values())Yh(n,t);for(const n of Cb.values())Yh(n,t);return!0}function Eb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tr=new _1("app","Firebase",kb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=Sb;function C1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_u,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw tr.create("bad-app-name",{appName:String(i)});if(n||(n=g1()),!n)throw tr.create("no-options");const s=Nl.get(i);if(s){if(mu(n,s.options)&&mu(r,s.config))return s;throw tr.create("duplicate-app",{appName:i})}const o=new Ax(i);for(const c of xu.values())o.addComponent(c);const l=new Tb(n,r,o);return Nl.set(i,l),l}function jb(t=_u){const e=Nl.get(t);if(!e&&t===_u&&g1())return C1();if(!e)throw tr.create("no-app",{appName:t});return e}function yi(t,e,n){var r;let i=(r=wb[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rn.warn(l.join(" "));return}Al(new Xs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="firebase-heartbeat-database",Nb=1,Js="firebase-heartbeat-store";let ac=null;function E1(){return ac||(ac=Vx(Ib,Nb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Js)}catch(n){console.warn(n)}}}}).catch(t=>{throw tr.create("idb-open",{originalErrorMessage:t.message})})),ac}async function Ab(t){try{const n=(await E1()).transaction(Js),r=await n.objectStore(Js).get(k1(t));return await n.done,r}catch(e){if(e instanceof mo)Rn.warn(e.message);else{const n=tr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rn.warn(n.message)}}}async function Gh(t,e){try{const r=(await E1()).transaction(Js,"readwrite");await r.objectStore(Js).put(e,k1(t)),await r.done}catch(n){if(n instanceof mo)Rn.warn(n.message);else{const r=tr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Rn.warn(r.message)}}}function k1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=1024,Pb=30*24*60*60*1e3;class Fb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ob(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Qh();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=Pb}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Rn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Qh(),{heartbeatsToSend:r,unsentEntries:i}=Mb(this._heartbeatsCache.heartbeats),s=jl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Rn.warn(n),""}}}function Qh(){return new Date().toISOString().substring(0,10)}function Mb(t,e=Db){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Kh(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Kh(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ob{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _x()?xx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ab(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Gh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Gh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Kh(t){return jl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t){Al(new Xs("platform-logger",e=>new Qx(e),"PRIVATE")),Al(new Xs("heartbeat",e=>new Fb(e),"PRIVATE")),yi(vu,Vh,t),yi(vu,Vh,"esm2017"),yi("fire-js","")}Bb("");var Lb="firebase",zb="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yi(Lb,zb,"app");const qh="@firebase/database",Xh="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T1="";function $b(t){T1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),We(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:qs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return fn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Wb(e)}}catch{}return new Ub},Tr=R1("localStorage"),bu=R1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new b1("@firebase/database"),Hb=function(){let t=1;return function(){return t++}}(),j1=function(t){const e=Rx(t),n=new Tx;n.update(e);const r=n.digest();return Ad.encodeByteArray(r)},go=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=go.apply(null,r):typeof r=="object"?e+=We(r):e+=r,e+=" "}return e};let Ir=null,Jh=!0;const Vb=function(t,e){B(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(vi.logLevel=ge.VERBOSE,Ir=vi.log.bind(vi),e&&bu.set("logging_enabled",!0)):typeof t=="function"?Ir=t:(Ir=null,bu.remove("logging_enabled"))},Je=function(...t){if(Jh===!0&&(Jh=!1,Ir===null&&bu.get("logging_enabled")===!0&&Vb(!0)),Ir){const e=go.apply(null,t);Ir(e)}},yo=function(t){return function(...e){Je(t,...e)}},Su=function(...t){const e="FIREBASE INTERNAL ERROR: "+go(...t);vi.error(e)},jn=function(...t){const e=`FIREBASE FATAL ERROR: ${go(...t)}`;throw vi.error(e),new Error(e)},pt=function(...t){const e="FIREBASE WARNING: "+go(...t);vi.warn(e)},Yb=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&pt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Pd=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Gb=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ji="[MIN_NAME]",Or="[MAX_NAME]",Ur=function(t,e){if(t===e)return 0;if(t===ji||e===Or)return-1;if(e===ji||t===Or)return 1;{const n=Zh(t),r=Zh(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Qb=function(t,e){return t===e?0:t<e?-1:1},fs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+We(e))},Fd=function(t){if(typeof t!="object"||t===null)return We(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=We(e[r]),n+=":",n+=Fd(t[e[r]]);return n+="}",n},I1=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function tt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const N1=function(t){B(!Pd(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,c;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(c=n;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const f=u.join("");let d="";for(c=0;c<64;c+=8){let h=parseInt(f.substr(c,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},Kb=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},qb=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Xb(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Jb=new RegExp("^-?(0*)\\d{1,10}$"),Zb=-2147483648,e2=2147483647,Zh=function(t){if(Jb.test(t)){const e=Number(t);if(e>=Zb&&e<=e2)return e}return null},zi=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw pt("Exception was thrown by user callback.",n),e},Math.floor(0))}},t2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},js=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){pt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Je("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',pt(e)}}class _i{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}_i.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="5",A1="v",D1="s",P1="r",F1="f",M1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,O1="ls",B1="p",wu="ac",L1="websocket",z1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n,r,i,s=!1,o="",l=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Tr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Tr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function i2(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function W1(t,e,n){B(typeof e=="string","typeof type must == string"),B(typeof n=="object","typeof params must == object");let r;if(e===L1)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===z1)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);i2(t)&&(n.ns=t.namespace);const i=[];return tt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.counters_={}}incrementCounter(e,n=1){fn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return ax(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc={},uc={};function Od(t){const e=t.toString();return cc[e]||(cc[e]=new s2),cc[e]}function o2(t,e){const n=t.toString();return uc[n]||(uc[n]=e()),uc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&zi(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="start",a2="close",c2="pLPCommand",u2="pRTLPCB",U1="id",H1="pw",V1="ser",d2="cb",f2="seg",h2="ts",p2="d",m2="dframe",Y1=1870,G1=30,g2=Y1-G1,y2=25e3,v2=3e4;class ui{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=yo(e),this.stats_=Od(n),this.urlFn=c=>(this.appCheckToken&&(c[wu]=this.appCheckToken),W1(n,z1,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new l2(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(v2)),Gb(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Bd((...s)=>{const[o,l,c,u,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===ep)this.id=l,this.password=c;else if(o===a2)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[ep]="t",r[V1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[d2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[A1]=Md,this.transportSessionId&&(r[D1]=this.transportSessionId),this.lastSessionId&&(r[O1]=this.lastSessionId),this.applicationId&&(r[B1]=this.applicationId),this.appCheckToken&&(r[wu]=this.appCheckToken),typeof location<"u"&&location.hostname&&M1.test(location.hostname)&&(r[P1]=F1);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ui.forceAllow_=!0}static forceDisallow(){ui.forceDisallow_=!0}static isAvailable(){return ui.forceAllow_?!0:!ui.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Kb()&&!qb()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=We(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=h1(n),i=I1(r,g2);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[m2]="t",r[U1]=e,r[H1]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=We(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Bd{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Hb(),window[c2+this.uniqueCallbackIdentifier]=e,window[u2+this.uniqueCallbackIdentifier]=n,this.myIFrame=Bd.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Je("frame writing exception"),l.stack&&Je(l.stack),Je(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Je("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[U1]=this.myID,e[H1]=this.myPW,e[V1]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+G1+r.length<=Y1;){const o=this.pendingSegs.shift();r=r+"&"+f2+i+"="+o.seg+"&"+h2+i+"="+o.ts+"&"+p2+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(y2)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Je("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=16384,x2=45e3;let Dl=null;typeof MozWebSocket<"u"?Dl=MozWebSocket:typeof WebSocket<"u"&&(Dl=WebSocket);class Xt{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=yo(this.connId),this.stats_=Od(n),this.connURL=Xt.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[A1]=Md,typeof location<"u"&&location.hostname&&M1.test(location.hostname)&&(o[P1]=F1),n&&(o[D1]=n),r&&(o[O1]=r),i&&(o[wu]=i),s&&(o[B1]=s),W1(e,L1,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Tr.set("previous_websocket_failure",!0);try{let r;v1(),this.mySock=new Dl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Xt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Dl!==null&&!Xt.forceDisallow_}static previouslyFailed(){return Tr.isInMemoryStorage||Tr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Tr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=qs(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(B(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=We(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=I1(n,_2);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(x2))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Xt.responsesRequiredToBeHealthy=2;Xt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ui,Xt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Xt&&Xt.isAvailable();let r=n&&!Xt.previouslyFailed();if(e.webSocketOnly&&(n||pt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Xt];else{const i=this.transports_=[];for(const s of Zs.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Zs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Zs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=6e4,S2=5e3,w2=10*1024,C2=100*1024,dc="t",tp="d",E2="s",np="r",k2="e",rp="o",ip="a",sp="n",op="p",T2="h";class R2{constructor(e,n,r,i,s,o,l,c,u,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=yo("c:"+this.id+":"),this.transportManager_=new Zs(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=js(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>C2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>w2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(dc in e){const n=e[dc];n===ip?this.upgradeIfSecondaryHealthy_():n===np?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===rp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=fs("t",e),r=fs("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:op,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ip,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:sp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=fs("t",e),r=fs("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=fs(dc,e);if(tp in e){const r=e[tp];if(n===T2){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===sp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===E2?this.onConnectionShutdown_(r):n===np?this.onReset_(r):n===k2?Su("Server Error: "+r):n===rp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Su("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Md!==r&&pt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),js(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(b2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):js(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(S2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:op,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Tr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this.allowedEvents_=e,this.listeners_={},B(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){B(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends K1{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!y1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Pl}getInitialEvent(e){return B(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=32,ap=768;class he{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ce(){return new he("")}function Z(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function or(t){return t.pieces_.length-t.pieceNum_}function ye(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new he(t.pieces_,e)}function Ld(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function j2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function eo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function q1(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new he(e,0)}function Ne(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof he)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new he(n,0)}function ne(t){return t.pieceNum_>=t.pieces_.length}function ft(t,e){const n=Z(t),r=Z(e);if(n===null)return e;if(n===r)return ft(ye(t),ye(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function I2(t,e){const n=eo(t,0),r=eo(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Ur(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function zd(t,e){if(or(t)!==or(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function zt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(or(t)>or(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class N2{constructor(e,n){this.errorPrefix_=n,this.parts_=eo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ua(this.parts_[r]);X1(this)}}function A2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ua(e),X1(t)}function D2(t){const e=t.parts_.pop();t.byteLength_-=ua(e),t.parts_.length>0&&(t.byteLength_-=1)}function X1(t){if(t.byteLength_>ap)throw new Error(t.errorPrefix_+"has a key path longer than "+ap+" bytes ("+t.byteLength_+").");if(t.parts_.length>lp)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+lp+") or object contains a cycle "+wr(t))}function wr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends K1{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new $d}getInitialEvent(e){return B(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=1e3,P2=60*5*1e3,cp=30*1e3,F2=1.3,M2=3e4,O2="server_kill",up=3;class wn extends Q1{constructor(e,n,r,i,s,o,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=wn.nextPersistentConnectionId_++,this.log_=yo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=hs,this.maxReconnectDelay_=P2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!v1())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$d.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Pl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(We(s)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new po,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const c=l.d,u=l.s;wn.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&fn(e,"w")){const r=Ri(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();pt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Ex(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=cp)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Cx(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+We(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Su("Unrecognized action received from server: "+We(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=hs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>M2&&(this.reconnectDelay_=hs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*F2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+wn.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const c=function(){l?l.close():(o=!0,r())},u=function(d){B(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:c,sendRequest:u};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?Je("getToken() completed but was canceled"):(Je("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,l=new R2(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,x=>{pt(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(O2)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&pt(d),c())}}}interrupt(e){Je("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Je("Resuming connection for reason: "+e),delete this.interruptReasons_[e],zh(this.interruptReasons_)&&(this.reconnectDelay_=hs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Fd(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new he(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Je("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=up&&(this.reconnectDelay_=cp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Je("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=up&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+T1.replace(/\./g,"-")]=1,y1()?e["framework.cordova"]=1:vx()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Pl.getInstance().currentlyOnline();return zh(this.interruptReasons_)&&e}}wn.nextPersistentConnectionId_=0;wn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ee(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ee(ji,e),i=new ee(ji,n);return this.compare(r,i)!==0}minPost(){return ee.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo;class J1 extends da{static get __EMPTY_NODE(){return Vo}static set __EMPTY_NODE(e){Vo=e}compare(e,n){return Ur(e.name,n.name)}isDefinedOn(e){throw Li("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ee.MIN}maxPost(){return new ee(Or,Vo)}makePost(e,n){return B(typeof e=="string","KeyIndex indexValue must always be a string."),new ee(e,Vo)}toString(){return".key"}}const xi=new J1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ke{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ke.RED,this.left=i??xt.EMPTY_NODE,this.right=s??xt.EMPTY_NODE}copy(e,n,r,i,s){return new Ke(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return xt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return xt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ke.RED=!0;Ke.BLACK=!1;class B2{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ke(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xt{constructor(e,n=xt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new xt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ke.BLACK,null,null))}remove(e){return new xt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ke.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Yo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Yo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Yo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Yo(this.root_,null,this.comparator_,!0,e)}}xt.EMPTY_NODE=new B2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t,e){return Ur(t.name,e.name)}function Wd(t,e){return Ur(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu;function z2(t){Cu=t}const Z1=function(t){return typeof t=="number"?"number:"+N1(t):"string:"+t},e0=function(t){if(t.isLeafNode()){const e=t.val();B(typeof e=="string"||typeof e=="number"||typeof e=="object"&&fn(e,".sv"),"Priority must be a string or number.")}else B(t===Cu||t.isEmpty(),"priority of unexpected type.");B(t===Cu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp;class Ge{constructor(e,n=Ge.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),e0(this.priorityNode_)}static set __childrenNodeConstructor(e){dp=e}static get __childrenNodeConstructor(){return dp}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ge(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ge.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ne(e)?this:Z(e)===".priority"?this.priorityNode_:Ge.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ge.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Z(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(B(r!==".priority"||or(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ge.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Z1(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=N1(this.value_):e+=this.value_,this.lazyHash_=j1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ge.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ge.__childrenNodeConstructor?-1:(B(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Ge.VALUE_TYPE_ORDER.indexOf(n),s=Ge.VALUE_TYPE_ORDER.indexOf(r);return B(i>=0,"Unknown leaf type: "+n),B(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ge.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t0,n0;function $2(t){t0=t}function W2(t){n0=t}class U2 extends da{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ur(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(Or,new Ge("[PRIORITY-POST]",n0))}makePost(e,n){const r=t0(e);return new ee(n,new Ge("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ae=new U2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=Math.log(2);class V2{constructor(e){const n=s=>parseInt(Math.log(s)/H2,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Fl=function(t,e,n,r){t.sort(e);const i=function(c,u){const f=u-c;let d,h;if(f===0)return null;if(f===1)return d=t[c],h=n?n(d):d,new Ke(h,d.node,Ke.BLACK,null,null);{const x=parseInt(f/2,10)+c,v=i(c,x),w=i(x+1,u);return d=t[x],h=n?n(d):d,new Ke(h,d.node,Ke.BLACK,v,w)}},s=function(c){let u=null,f=null,d=t.length;const h=function(v,w){const C=d-v,m=d;d-=v;const p=i(C+1,m),y=t[C],_=n?n(y):y;x(new Ke(_,y.node,w,null,p))},x=function(v){u?(u.left=v,u=v):(f=v,u=v)};for(let v=0;v<c.count;++v){const w=c.nextBitIsOne(),C=Math.pow(2,c.count-(v+1));w?h(C,Ke.BLACK):(h(C,Ke.BLACK),h(C,Ke.RED))}return f},o=new V2(t.length),l=s(o);return new xt(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc;const qr={};class bn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return B(qr&&Ae,"ChildrenNode.ts has not been loaded"),fc=fc||new bn({".priority":qr},{".priority":Ae}),fc}get(e){const n=Ri(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof xt?n:null}hasIndex(e){return fn(this.indexSet_,e.toString())}addIndex(e,n){B(e!==xi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ee.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=Fl(r,e.getCompare()):l=qr;const c=e.toString(),u=Object.assign({},this.indexSet_);u[c]=e;const f=Object.assign({},this.indexes_);return f[c]=l,new bn(f,u)}addToIndexes(e,n){const r=Il(this.indexes_,(i,s)=>{const o=Ri(this.indexSet_,s);if(B(o,"Missing index implementation for "+s),i===qr)if(o.isDefinedOn(e.node)){const l=[],c=n.getIterator(ee.Wrap);let u=c.getNext();for(;u;)u.name!==e.name&&l.push(u),u=c.getNext();return l.push(e),Fl(l,o.getCompare())}else return qr;else{const l=n.get(e.name);let c=i;return l&&(c=c.remove(new ee(e.name,l))),c.insert(e,e.node)}});return new bn(r,this.indexSet_)}removeFromIndexes(e,n){const r=Il(this.indexes_,i=>{if(i===qr)return i;{const s=n.get(e.name);return s?i.remove(new ee(e.name,s)):i}});return new bn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ps;class G{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&e0(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ps||(ps=new G(new xt(Wd),null,bn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ps}updatePriority(e){return this.children_.isEmpty()?this:new G(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ps:n}}getChild(e){const n=Z(e);return n===null?this:this.getImmediateChild(n).getChild(ye(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(B(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ee(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ps:this.priorityNode_;return new G(i,o,s)}}updateChild(e,n){const r=Z(e);if(r===null)return n;{B(Z(e)!==".priority"||or(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ye(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Ae,(o,l)=>{n[o]=l.val(e),r++,s&&G.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Z1(this.getPriority().val())+":"),this.forEachChild(Ae,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":j1(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ee(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ee(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ee(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ee.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ee.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vo?-1:0}withIndex(e){if(e===xi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new G(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===xi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Ae),i=n.getIterator(Ae);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===xi?null:this.indexMap_.get(e.toString())}}G.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Y2 extends G{constructor(){super(new xt(Wd),G.EMPTY_NODE,bn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return G.EMPTY_NODE}isEmpty(){return!1}}const vo=new Y2;Object.defineProperties(ee,{MIN:{value:new ee(ji,G.EMPTY_NODE)},MAX:{value:new ee(Or,vo)}});J1.__EMPTY_NODE=G.EMPTY_NODE;Ge.__childrenNodeConstructor=G;z2(vo);W2(vo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=!0;function $e(t,e=null){if(t===null)return G.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),B(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ge(n,$e(e))}if(!(t instanceof Array)&&G2){const n=[];let r=!1;if(tt(t,(o,l)=>{if(o.substring(0,1)!=="."){const c=$e(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new ee(o,c)))}}),n.length===0)return G.EMPTY_NODE;const s=Fl(n,L2,o=>o.name,Wd);if(r){const o=Fl(n,Ae.getCompare());return new G(s,$e(e),new bn({".priority":o},{".priority":Ae}))}else return new G(s,$e(e),bn.Default)}else{let n=G.EMPTY_NODE;return tt(t,(r,i)=>{if(fn(t,r)&&r.substring(0,1)!=="."){const s=$e(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority($e(e))}}$2($e);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2 extends da{constructor(e){super(),this.indexPath_=e,B(!ne(e)&&Z(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ur(e.name,n.name):s}makePost(e,n){const r=$e(e),i=G.EMPTY_NODE.updateChild(this.indexPath_,r);return new ee(n,i)}maxPost(){const e=G.EMPTY_NODE.updateChild(this.indexPath_,vo);return new ee(Or,e)}toString(){return eo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2 extends da{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ur(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(e,n){const r=$e(e);return new ee(n,r)}toString(){return".value"}}const q2=new K2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t){return{type:"value",snapshotNode:t}}function Ii(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function to(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function no(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function X2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){B(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(to(n,l)):B(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Ii(n,r)):o.trackChildChange(no(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ae,(i,s)=>{n.hasChild(i)||r.trackChildChange(to(i,s))}),n.isLeafNode()||n.forEachChild(Ae,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(no(i,s,o))}else r.trackChildChange(Ii(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?G.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.indexedFilter_=new Ud(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ro.getStartPost_(e),this.endPost_=ro.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new ee(n,r))||(r=G.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=G.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(G.EMPTY_NODE);const s=this;return n.forEachChild(Ae,(o,l)=>{s.matches(new ee(o,l))||(i=i.updateImmediateChild(o,G.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ro(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ee(n,r))||(r=G.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=G.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=G.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(G.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,G.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,x)=>d(x,h)}else o=this.index_.getCompare();const l=e;B(l.numChildren()===this.limit_,"");const c=new ee(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),f=this.rangedFilter_.matches(c);if(l.hasChild(n)){const d=l.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||l.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const x=h==null?1:o(h,c);if(f&&!r.isEmpty()&&x>=0)return s!=null&&s.trackChildChange(no(n,r,d)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(to(n,d));const w=l.updateImmediateChild(n,G.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(Ii(h.name,h.node)),w.updateImmediateChild(h.name,h.node)):w}}else return r.isEmpty()?e:f&&o(u,c)>=0?(s!=null&&(s.trackChildChange(to(u.name,u.node)),s.trackChildChange(Ii(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,G.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ae}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ji}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Or}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ae}copy(){const e=new Hd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Z2(t){return t.loadsAllData()?new Ud(t.getIndex()):t.hasLimit()?new J2(t):new ro(t)}function fp(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ae?n="$priority":t.index_===q2?n="$value":t.index_===xi?n="$key":(B(t.index_ instanceof Q2,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=We(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=We(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+We(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=We(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+We(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function hp(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ae&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends Q1{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=yo("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(B(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Ml.getListenId_(e,r),l={};this.listens_[o]=l;const c=fp(e._queryParams);this.restRequest_(s+".json",c,(u,f)=>{let d=f;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Ri(this.listens_,o)===l){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=Ml.getListenId_(e,n);delete this.listens_[r]}get(e){const n=fp(e._queryParams),r=e._path.toString(),i=new po;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+kx(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=qs(l.responseText)}catch{pt("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&pt("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.rootNode_=G.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(){return{value:null,children:new Map}}function i0(t,e,n){if(ne(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Z(e);t.children.has(r)||t.children.set(r,Ol());const i=t.children.get(r);e=ye(e),i0(i,e,n)}}function Eu(t,e,n){t.value!==null?n(e,t.value):tS(t,(r,i)=>{const s=new he(e.toString()+"/"+r);Eu(i,s,n)})}function tS(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&tt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=10*1e3,rS=30*1e3,iS=5*60*1e3;class sS{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new nS(e);const r=pp+(rS-pp)*Math.random();js(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;tt(e,(i,s)=>{s>0&&fn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),js(this.reportStats_.bind(this),Math.floor(Math.random()*2*iS))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Jt||(Jt={}));function Vd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Yd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Gd(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Jt.ACK_USER_WRITE,this.source=Vd()}operationForChild(e){if(ne(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new he(e));return new Bl(ce(),n,this.revert)}}else return B(Z(this.path)===e,"operationForChild called for unrelated child."),new Bl(ye(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n){this.source=e,this.path=n,this.type=Jt.LISTEN_COMPLETE}operationForChild(e){return ne(this.path)?new io(this.source,ce()):new io(this.source,ye(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Jt.OVERWRITE}operationForChild(e){return ne(this.path)?new Br(this.source,ce(),this.snap.getImmediateChild(e)):new Br(this.source,ye(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Jt.MERGE}operationForChild(e){if(ne(this.path)){const n=this.children.subtree(new he(e));return n.isEmpty()?null:n.value?new Br(this.source,ce(),n.value):new Ni(this.source,ce(),n)}else return B(Z(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ni(this.source,ye(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ne(e))return this.isFullyInitialized()&&!this.filtered_;const n=Z(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function lS(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(X2(o.childName,o.snapshotNode))}),ms(t,i,"child_removed",e,r,n),ms(t,i,"child_added",e,r,n),ms(t,i,"child_moved",s,r,n),ms(t,i,"child_changed",e,r,n),ms(t,i,"value",e,r,n),i}function ms(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,c)=>cS(t,l,c)),o.forEach(l=>{const c=aS(t,l,s);i.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(c,t.query_))})})}function aS(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function cS(t,e,n){if(e.childName==null||n.childName==null)throw Li("Should only compare child_ events.");const r=new ee(e.childName,e.snapshotNode),i=new ee(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t,e){return{eventCache:t,serverCache:e}}function Is(t,e,n,r){return fa(new lr(e,n,r),t.serverCache)}function s0(t,e,n,r){return fa(t.eventCache,new lr(e,n,r))}function Ll(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Lr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc;const uS=()=>(hc||(hc=new xt(Qb)),hc);class me{constructor(e,n=uS()){this.value=e,this.children=n}static fromObject(e){let n=new me(null);return tt(e,(r,i)=>{n=n.set(new he(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ce(),value:this.value};if(ne(e))return null;{const r=Z(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ye(e),n);return s!=null?{path:Ne(new he(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ne(e))return this;{const n=Z(e),r=this.children.get(n);return r!==null?r.subtree(ye(e)):new me(null)}}set(e,n){if(ne(e))return new me(n,this.children);{const r=Z(e),s=(this.children.get(r)||new me(null)).set(ye(e),n),o=this.children.insert(r,s);return new me(this.value,o)}}remove(e){if(ne(e))return this.children.isEmpty()?new me(null):new me(null,this.children);{const n=Z(e),r=this.children.get(n);if(r){const i=r.remove(ye(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new me(null):new me(this.value,s)}else return this}}get(e){if(ne(e))return this.value;{const n=Z(e),r=this.children.get(n);return r?r.get(ye(e)):null}}setTree(e,n){if(ne(e))return n;{const r=Z(e),s=(this.children.get(r)||new me(null)).setTree(ye(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new me(this.value,o)}}fold(e){return this.fold_(ce(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ne(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ce(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ne(e))return null;{const s=Z(e),o=this.children.get(s);return o?o.findOnPath_(ye(e),Ne(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ce(),n)}foreachOnPath_(e,n,r){if(ne(e))return this;{this.value&&r(n,this.value);const i=Z(e),s=this.children.get(i);return s?s.foreachOnPath_(ye(e),Ne(n,i),r):new me(null)}}foreach(e){this.foreach_(ce(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ne(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.writeTree_=e}static empty(){return new tn(new me(null))}}function Ns(t,e,n){if(ne(e))return new tn(new me(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=ft(i,e);return s=s.updateChild(o,n),new tn(t.writeTree_.set(i,s))}else{const i=new me(n),s=t.writeTree_.setTree(e,i);return new tn(s)}}}function ku(t,e,n){let r=t;return tt(n,(i,s)=>{r=Ns(r,Ne(e,i),s)}),r}function mp(t,e){if(ne(e))return tn.empty();{const n=t.writeTree_.setTree(e,new me(null));return new tn(n)}}function Tu(t,e){return Hr(t,e)!=null}function Hr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ft(n.path,e)):null}function gp(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ae,(r,i)=>{e.push(new ee(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ee(r,i.value))}),e}function nr(t,e){if(ne(e))return t;{const n=Hr(t,e);return n!=null?new tn(new me(n)):new tn(t.writeTree_.subtree(e))}}function Ru(t){return t.writeTree_.isEmpty()}function Ai(t,e){return o0(ce(),t.writeTree_,e)}function o0(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(B(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=o0(Ne(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ne(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t,e){return u0(e,t)}function dS(t,e,n,r,i){B(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ns(t.visibleWrites,e,n)),t.lastWriteId=r}function fS(t,e,n,r){B(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=ku(t.visibleWrites,e,n),t.lastWriteId=r}function hS(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function pS(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);B(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&mS(l,r.path)?i=!1:zt(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return gS(t),!0;if(r.snap)t.visibleWrites=mp(t.visibleWrites,r.path);else{const l=r.children;tt(l,c=>{t.visibleWrites=mp(t.visibleWrites,Ne(r.path,c))})}return!0}else return!1}function mS(t,e){if(t.snap)return zt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&zt(Ne(t.path,n),e))return!0;return!1}function gS(t){t.visibleWrites=l0(t.allWrites,yS,ce()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function yS(t){return t.visible}function l0(t,e,n){let r=tn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)zt(n,o)?(l=ft(n,o),r=Ns(r,l,s.snap)):zt(o,n)&&(l=ft(o,n),r=Ns(r,ce(),s.snap.getChild(l)));else if(s.children){if(zt(n,o))l=ft(n,o),r=ku(r,l,s.children);else if(zt(o,n))if(l=ft(o,n),ne(l))r=ku(r,ce(),s.children);else{const c=Ri(s.children,Z(l));if(c){const u=c.getChild(ye(l));r=Ns(r,ce(),u)}}}else throw Li("WriteRecord should have .snap or .children")}}return r}function a0(t,e,n,r,i){if(!r&&!i){const s=Hr(t.visibleWrites,e);if(s!=null)return s;{const o=nr(t.visibleWrites,e);if(Ru(o))return n;if(n==null&&!Tu(o,ce()))return null;{const l=n||G.EMPTY_NODE;return Ai(o,l)}}}else{const s=nr(t.visibleWrites,e);if(!i&&Ru(s))return n;if(!i&&n==null&&!Tu(s,ce()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(zt(u.path,e)||zt(e,u.path))},l=l0(t.allWrites,o,e),c=n||G.EMPTY_NODE;return Ai(l,c)}}}function vS(t,e,n){let r=G.EMPTY_NODE;const i=Hr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ae,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=nr(t.visibleWrites,e);return n.forEachChild(Ae,(o,l)=>{const c=Ai(nr(s,new he(o)),l);r=r.updateImmediateChild(o,c)}),gp(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=nr(t.visibleWrites,e);return gp(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function _S(t,e,n,r,i){B(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ne(e,n);if(Tu(t.visibleWrites,s))return null;{const o=nr(t.visibleWrites,s);return Ru(o)?i.getChild(n):Ai(o,i.getChild(n))}}function xS(t,e,n,r){const i=Ne(e,n),s=Hr(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=nr(t.visibleWrites,i);return Ai(o,r.getNode().getImmediateChild(n))}else return null}function bS(t,e){return Hr(t.visibleWrites,e)}function SS(t,e,n,r,i,s,o){let l;const c=nr(t.visibleWrites,e),u=Hr(c,ce());if(u!=null)l=u;else if(n!=null)l=Ai(c,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const f=[],d=o.getCompare(),h=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let x=h.getNext();for(;x&&f.length<i;)d(x,r)!==0&&f.push(x),x=h.getNext();return f}else return[]}function wS(){return{visibleWrites:tn.empty(),allWrites:[],lastWriteId:-1}}function zl(t,e,n,r){return a0(t.writeTree,t.treePath,e,n,r)}function Qd(t,e){return vS(t.writeTree,t.treePath,e)}function yp(t,e,n,r){return _S(t.writeTree,t.treePath,e,n,r)}function $l(t,e){return bS(t.writeTree,Ne(t.treePath,e))}function CS(t,e,n,r,i,s){return SS(t.writeTree,t.treePath,e,n,r,i,s)}function Kd(t,e,n){return xS(t.writeTree,t.treePath,e,n)}function c0(t,e){return u0(Ne(t.treePath,e),t.writeTree)}function u0(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;B(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),B(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,no(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,to(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Ii(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,no(r,e.snapshotNode,i.oldSnap));else throw Li("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const d0=new kS;class qd{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new lr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Kd(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Lr(this.viewCache_),s=CS(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(t){return{filter:t}}function RS(t,e){B(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),B(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function jS(t,e,n,r,i){const s=new ES;let o,l;if(n.type===Jt.OVERWRITE){const u=n;u.source.fromUser?o=ju(t,e,u.path,u.snap,r,i,s):(B(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!ne(u.path),o=Wl(t,e,u.path,u.snap,r,i,l,s))}else if(n.type===Jt.MERGE){const u=n;u.source.fromUser?o=NS(t,e,u.path,u.children,r,i,s):(B(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=Iu(t,e,u.path,u.children,r,i,l,s))}else if(n.type===Jt.ACK_USER_WRITE){const u=n;u.revert?o=PS(t,e,u.path,r,i,s):o=AS(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Jt.LISTEN_COMPLETE)o=DS(t,e,n.path,r,s);else throw Li("Unknown operation type: "+n.type);const c=s.getChanges();return IS(e,o,c),{viewCache:o,changes:c}}function IS(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Ll(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(r0(Ll(e)))}}function f0(t,e,n,r,i,s){const o=e.eventCache;if($l(r,n)!=null)return e;{let l,c;if(ne(n))if(B(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Lr(e),f=u instanceof G?u:G.EMPTY_NODE,d=Qd(r,f);l=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=zl(r,Lr(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Z(n);if(u===".priority"){B(or(n)===1,"Can't have a priority with additional path components");const f=o.getNode();c=e.serverCache.getNode();const d=yp(r,n,f,c);d!=null?l=t.filter.updatePriority(f,d):l=o.getNode()}else{const f=ye(n);let d;if(o.isCompleteForChild(u)){c=e.serverCache.getNode();const h=yp(r,n,o.getNode(),c);h!=null?d=o.getNode().getImmediateChild(u).updateChild(f,h):d=o.getNode().getImmediateChild(u)}else d=Kd(r,u,e.serverCache);d!=null?l=t.filter.updateChild(o.getNode(),u,d,f,i,s):l=o.getNode()}}return Is(e,l,o.isFullyInitialized()||ne(n),t.filter.filtersNodes())}}function Wl(t,e,n,r,i,s,o,l){const c=e.serverCache;let u;const f=o?t.filter:t.filter.getIndexedFilter();if(ne(n))u=f.updateFullNode(c.getNode(),r,null);else if(f.filtersNodes()&&!c.isFiltered()){const x=c.getNode().updateChild(n,r);u=f.updateFullNode(c.getNode(),x,null)}else{const x=Z(n);if(!c.isCompleteForPath(n)&&or(n)>1)return e;const v=ye(n),C=c.getNode().getImmediateChild(x).updateChild(v,r);x===".priority"?u=f.updatePriority(c.getNode(),C):u=f.updateChild(c.getNode(),x,C,v,d0,null)}const d=s0(e,u,c.isFullyInitialized()||ne(n),f.filtersNodes()),h=new qd(i,d,s);return f0(t,d,n,i,h,l)}function ju(t,e,n,r,i,s,o){const l=e.eventCache;let c,u;const f=new qd(i,e,s);if(ne(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=Is(e,u,!0,t.filter.filtersNodes());else{const d=Z(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),c=Is(e,u,l.isFullyInitialized(),l.isFiltered());else{const h=ye(n),x=l.getNode().getImmediateChild(d);let v;if(ne(h))v=r;else{const w=f.getCompleteChild(d);w!=null?Ld(h)===".priority"&&w.getChild(q1(h)).isEmpty()?v=w:v=w.updateChild(h,r):v=G.EMPTY_NODE}if(x.equals(v))c=e;else{const w=t.filter.updateChild(l.getNode(),d,v,h,f,o);c=Is(e,w,l.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function vp(t,e){return t.eventCache.isCompleteForChild(e)}function NS(t,e,n,r,i,s,o){let l=e;return r.foreach((c,u)=>{const f=Ne(n,c);vp(e,Z(f))&&(l=ju(t,l,f,u,i,s,o))}),r.foreach((c,u)=>{const f=Ne(n,c);vp(e,Z(f))||(l=ju(t,l,f,u,i,s,o))}),l}function _p(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Iu(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;ne(n)?u=r:u=new me(null).setTree(n,r);const f=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(f.hasChild(d)){const x=e.serverCache.getNode().getImmediateChild(d),v=_p(t,x,h);c=Wl(t,c,new he(d),v,i,s,o,l)}}),u.children.inorderTraversal((d,h)=>{const x=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!f.hasChild(d)&&!x){const v=e.serverCache.getNode().getImmediateChild(d),w=_p(t,v,h);c=Wl(t,c,new he(d),w,i,s,o,l)}}),c}function AS(t,e,n,r,i,s,o){if($l(i,n)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(ne(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Wl(t,e,n,c.getNode().getChild(n),i,s,l,o);if(ne(n)){let u=new me(null);return c.getNode().forEachChild(xi,(f,d)=>{u=u.set(new he(f),d)}),Iu(t,e,n,u,i,s,l,o)}else return e}else{let u=new me(null);return r.foreach((f,d)=>{const h=Ne(n,f);c.isCompleteForPath(h)&&(u=u.set(f,c.getNode().getChild(h)))}),Iu(t,e,n,u,i,s,l,o)}}function DS(t,e,n,r,i){const s=e.serverCache,o=s0(e,s.getNode(),s.isFullyInitialized()||ne(n),s.isFiltered());return f0(t,o,n,r,d0,i)}function PS(t,e,n,r,i,s){let o;if($l(r,n)!=null)return e;{const l=new qd(r,e,i),c=e.eventCache.getNode();let u;if(ne(n)||Z(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=zl(r,Lr(e));else{const d=e.serverCache.getNode();B(d instanceof G,"serverChildren would be complete if leaf node"),f=Qd(r,d)}f=f,u=t.filter.updateFullNode(c,f,s)}else{const f=Z(n);let d=Kd(r,f,e.serverCache);d==null&&e.serverCache.isCompleteForChild(f)&&(d=c.getImmediateChild(f)),d!=null?u=t.filter.updateChild(c,f,d,ye(n),l,s):e.eventCache.getNode().hasChild(f)?u=t.filter.updateChild(c,f,G.EMPTY_NODE,ye(n),l,s):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=zl(r,Lr(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||$l(r,ce())!=null,Is(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Ud(r.getIndex()),s=Z2(r);this.processor_=TS(s);const o=n.serverCache,l=n.eventCache,c=i.updateFullNode(G.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(G.EMPTY_NODE,l.getNode(),null),f=new lr(c,o.isFullyInitialized(),i.filtersNodes()),d=new lr(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=fa(d,f),this.eventGenerator_=new oS(this.query_)}get query(){return this.query_}}function MS(t){return t.viewCache_.serverCache.getNode()}function OS(t){return Ll(t.viewCache_)}function BS(t,e){const n=Lr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ne(e)&&!n.getImmediateChild(Z(e)).isEmpty())?n.getChild(e):null}function xp(t){return t.eventRegistrations_.length===0}function LS(t,e){t.eventRegistrations_.push(e)}function bp(t,e,n){const r=[];if(n){B(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Sp(t,e,n,r){e.type===Jt.MERGE&&e.source.queryId!==null&&(B(Lr(t.viewCache_),"We should always have a full cache before handling merges"),B(Ll(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=jS(t.processor_,i,e,n,r);return RS(t.processor_,s.viewCache),B(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,h0(t,s.changes,s.viewCache.eventCache.getNode(),null)}function zS(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ae,(s,o)=>{r.push(Ii(s,o))}),n.isFullyInitialized()&&r.push(r0(n.getNode())),h0(t,r,n.getNode(),e)}function h0(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return lS(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul;class p0{constructor(){this.views=new Map}}function $S(t){B(!Ul,"__referenceConstructor has already been defined"),Ul=t}function WS(){return B(Ul,"Reference.ts has not been loaded"),Ul}function US(t){return t.views.size===0}function Xd(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return B(s!=null,"SyncTree gave us an op for an invalid query."),Sp(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Sp(o,e,n,r));return s}}function m0(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=zl(n,i?r:null),c=!1;l?c=!0:r instanceof G?(l=Qd(n,r),c=!1):(l=G.EMPTY_NODE,c=!1);const u=fa(new lr(l,c,!1),new lr(r,i,!1));return new FS(e,u)}return o}function HS(t,e,n,r,i,s){const o=m0(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),LS(o,n),zS(o,n)}function VS(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=ar(t);if(i==="default")for(const[c,u]of t.views.entries())o=o.concat(bp(u,n,r)),xp(u)&&(t.views.delete(c),u.query._queryParams.loadsAllData()||s.push(u.query));else{const c=t.views.get(i);c&&(o=o.concat(bp(c,n,r)),xp(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||s.push(c.query)))}return l&&!ar(t)&&s.push(new(WS())(e._repo,e._path)),{removed:s,events:o}}function g0(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function rr(t,e){let n=null;for(const r of t.views.values())n=n||BS(r,e);return n}function y0(t,e){if(e._queryParams.loadsAllData())return pa(t);{const r=e._queryIdentifier;return t.views.get(r)}}function v0(t,e){return y0(t,e)!=null}function ar(t){return pa(t)!=null}function pa(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl;function YS(t){B(!Hl,"__referenceConstructor has already been defined"),Hl=t}function GS(){return B(Hl,"Reference.ts has not been loaded"),Hl}let QS=1;class wp{constructor(e){this.listenProvider_=e,this.syncPointTree_=new me(null),this.pendingWriteTree_=wS(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _0(t,e,n,r,i){return dS(t.pendingWriteTree_,e,n,r,i),i?$i(t,new Br(Vd(),e,n)):[]}function KS(t,e,n,r){fS(t.pendingWriteTree_,e,n,r);const i=me.fromObject(n);return $i(t,new Ni(Vd(),e,i))}function Un(t,e,n=!1){const r=hS(t.pendingWriteTree_,e);if(pS(t.pendingWriteTree_,e)){let s=new me(null);return r.snap!=null?s=s.set(ce(),!0):tt(r.children,o=>{s=s.set(new he(o),!0)}),$i(t,new Bl(r.path,s,n))}else return[]}function _o(t,e,n){return $i(t,new Br(Yd(),e,n))}function qS(t,e,n){const r=me.fromObject(n);return $i(t,new Ni(Yd(),e,r))}function XS(t,e){return $i(t,new io(Yd(),e))}function JS(t,e,n){const r=Zd(t,n);if(r){const i=ef(r),s=i.path,o=i.queryId,l=ft(s,e),c=new io(Gd(o),l);return tf(t,s,c)}else return[]}function Vl(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||v0(o,e))){const c=VS(o,e,n,r);US(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=c.removed;if(l=c.events,!i){const f=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,x)=>ar(x));if(f&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const x=tw(h);for(let v=0;v<x.length;++v){const w=x[v],C=w.query,m=w0(t,w);t.listenProvider_.startListening(As(C),so(t,C),m.hashFn,m.onComplete)}}}!d&&u.length>0&&!r&&(f?t.listenProvider_.stopListening(As(e),null):u.forEach(h=>{const x=t.queryToTagMap.get(ma(h));t.listenProvider_.stopListening(As(h),x)}))}nw(t,u)}return l}function x0(t,e,n,r){const i=Zd(t,r);if(i!=null){const s=ef(i),o=s.path,l=s.queryId,c=ft(o,e),u=new Br(Gd(l),c,n);return tf(t,o,u)}else return[]}function ZS(t,e,n,r){const i=Zd(t,r);if(i){const s=ef(i),o=s.path,l=s.queryId,c=ft(o,e),u=me.fromObject(n),f=new Ni(Gd(l),c,u);return tf(t,o,f)}else return[]}function Nu(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,x)=>{const v=ft(h,i);s=s||rr(x,v),o=o||ar(x)});let l=t.syncPointTree_.get(i);l?(o=o||ar(l),s=s||rr(l,ce())):(l=new p0,t.syncPointTree_=t.syncPointTree_.set(i,l));let c;s!=null?c=!0:(c=!1,s=G.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((x,v)=>{const w=rr(v,ce());w&&(s=s.updateImmediateChild(x,w))}));const u=v0(l,e);if(!u&&!e._queryParams.loadsAllData()){const h=ma(e);B(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const x=rw();t.queryToTagMap.set(h,x),t.tagToQueryMap.set(x,h)}const f=ha(t.pendingWriteTree_,i);let d=HS(l,e,n,f,s,c);if(!u&&!o&&!r){const h=y0(l,e);d=d.concat(iw(t,e,h))}return d}function Jd(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const c=ft(o,e),u=rr(l,c);if(u)return u});return a0(i,e,s,n,!0)}function ew(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,f)=>{const d=ft(u,n);r=r||rr(f,d)});let i=t.syncPointTree_.get(n);i?r=r||rr(i,ce()):(i=new p0,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new lr(r,!0,!1):null,l=ha(t.pendingWriteTree_,e._path),c=m0(i,e,l,s?o.getNode():G.EMPTY_NODE,s);return OS(c)}function $i(t,e){return b0(e,t.syncPointTree_,null,ha(t.pendingWriteTree_,ce()))}function b0(t,e,n,r){if(ne(t.path))return S0(t,e,n,r);{const i=e.get(ce());n==null&&i!=null&&(n=rr(i,ce()));let s=[];const o=Z(t.path),l=t.operationForChild(o),c=e.children.get(o);if(c&&l){const u=n?n.getImmediateChild(o):null,f=c0(r,o);s=s.concat(b0(l,c,u,f))}return i&&(s=s.concat(Xd(i,t,r,n))),s}}function S0(t,e,n,r){const i=e.get(ce());n==null&&i!=null&&(n=rr(i,ce()));let s=[];return e.children.inorderTraversal((o,l)=>{const c=n?n.getImmediateChild(o):null,u=c0(r,o),f=t.operationForChild(o);f&&(s=s.concat(S0(f,l,c,u)))}),i&&(s=s.concat(Xd(i,t,r,n))),s}function w0(t,e){const n=e.query,r=so(t,n);return{hashFn:()=>(MS(e)||G.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?JS(t,n._path,r):XS(t,n._path);{const s=Xb(i,n);return Vl(t,n,null,s)}}}}function so(t,e){const n=ma(e);return t.queryToTagMap.get(n)}function ma(t){return t._path.toString()+"$"+t._queryIdentifier}function Zd(t,e){return t.tagToQueryMap.get(e)}function ef(t){const e=t.indexOf("$");return B(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new he(t.substr(0,e))}}function tf(t,e,n){const r=t.syncPointTree_.get(e);B(r,"Missing sync point for query tag that we're tracking");const i=ha(t.pendingWriteTree_,e);return Xd(r,n,i,null)}function tw(t){return t.fold((e,n,r)=>{if(n&&ar(n))return[pa(n)];{let i=[];return n&&(i=g0(n)),tt(r,(s,o)=>{i=i.concat(o)}),i}})}function As(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(GS())(t._repo,t._path):t}function nw(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=ma(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function rw(){return QS++}function iw(t,e,n){const r=e._path,i=so(t,e),s=w0(t,n),o=t.listenProvider_.startListening(As(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)B(!ar(l.value),"If we're adding a query, it shouldn't be shadowed");else{const c=l.fold((u,f,d)=>{if(!ne(u)&&f&&ar(f))return[pa(f).query];{let h=[];return f&&(h=h.concat(g0(f).map(x=>x.query))),tt(d,(x,v)=>{h=h.concat(v)}),h}});for(let u=0;u<c.length;++u){const f=c[u];t.listenProvider_.stopListening(As(f),so(t,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new nf(n)}node(){return this.node_}}class rf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ne(this.path_,e);return new rf(this.syncTree_,n)}node(){return Jd(this.syncTree_,this.path_)}}const sw=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Cp=function(t,e,n){if(!t||typeof t!="object")return t;if(B(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return ow(t[".sv"],e,n);if(typeof t[".sv"]=="object")return lw(t[".sv"],e);B(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},ow=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:B(!1,"Unexpected server value: "+t)}},lw=function(t,e,n){t.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&B(!1,"Unexpected increment value: "+r);const i=e.node();if(B(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},C0=function(t,e,n,r){return sf(e,new rf(n,t),r)},E0=function(t,e,n){return sf(t,new nf(e),n)};function sf(t,e,n){const r=t.getPriority().val(),i=Cp(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=Cp(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new Ge(l,$e(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Ge(i))),o.forEachChild(Ae,(l,c)=>{const u=sf(c,e.getImmediateChild(l),n);u!==c&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function lf(t,e){let n=e instanceof he?e:new he(e),r=t,i=Z(n);for(;i!==null;){const s=Ri(r.node.children,i)||{children:{},childCount:0};r=new of(i,r,s),n=ye(n),i=Z(n)}return r}function Wi(t){return t.node.value}function k0(t,e){t.node.value=e,Au(t)}function T0(t){return t.node.childCount>0}function aw(t){return Wi(t)===void 0&&!T0(t)}function ga(t,e){tt(t.node.children,(n,r)=>{e(new of(n,t,r))})}function R0(t,e,n,r){n&&!r&&e(t),ga(t,i=>{R0(i,e,!0,r)}),n&&r&&e(t)}function cw(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function xo(t){return new he(t.parent===null?t.name:xo(t.parent)+"/"+t.name)}function Au(t){t.parent!==null&&uw(t.parent,t.name,t)}function uw(t,e,n){const r=aw(n),i=fn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Au(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Au(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=/[\[\].#$\/\u0000-\u001F\u007F]/,fw=/[\[\].#$\u0000-\u001F\u007F]/,pc=10*1024*1024,af=function(t){return typeof t=="string"&&t.length!==0&&!dw.test(t)},j0=function(t){return typeof t=="string"&&t.length!==0&&!fw.test(t)},hw=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),j0(t)},pw=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Pd(t)||t&&typeof t=="object"&&fn(t,".sv")},I0=function(t,e,n,r){r&&e===void 0||ya(ca(t,"value"),e,n)},ya=function(t,e,n){const r=n instanceof he?new N2(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+wr(r));if(typeof e=="function")throw new Error(t+"contains a function "+wr(r)+" with contents = "+e.toString());if(Pd(e))throw new Error(t+"contains "+e.toString()+" "+wr(r));if(typeof e=="string"&&e.length>pc/3&&ua(e)>pc)throw new Error(t+"contains a string greater than "+pc+" utf8 bytes "+wr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(tt(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!af(o)))throw new Error(t+" contains an invalid key ("+o+") "+wr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);A2(r,o),ya(t,l,r),D2(r)}),i&&s)throw new Error(t+' contains ".value" child '+wr(r)+" in addition to actual children.")}},mw=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=eo(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!af(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(I2);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&zt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},gw=function(t,e,n,r){if(r&&e===void 0)return;const i=ca(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];tt(e,(o,l)=>{const c=new he(o);if(ya(i,l,Ne(n,c)),Ld(c)===".priority"&&!pw(l))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),mw(i,s)},N0=function(t,e,n,r){if(!(r&&n===void 0)&&!j0(n))throw new Error(ca(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},yw=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),N0(t,e,n,r)},A0=function(t,e){if(Z(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},vw=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!af(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!hw(n))throw new Error(ca(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function va(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!zd(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function D0(t,e,n){va(t,n),P0(t,r=>zd(r,e))}function Ht(t,e,n){va(t,n),P0(t,r=>zt(r,e)||zt(e,r))}function P0(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(xw(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function xw(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ir&&Je("event: "+n.toString()),zi(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="repo_interrupt",Sw=25;class ww{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _w,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ol(),this.transactionQueueTree_=new of,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Cw(t,e,n){if(t.stats_=Od(t.repoInfo_),t.forceRestClient_||t2())t.server_=new Ml(t.repoInfo_,(r,i,s,o)=>{Ep(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>kp(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{We(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new wn(t.repoInfo_,e,(r,i,s,o)=>{Ep(t,r,i,s,o)},r=>{kp(t,r)},r=>{Ew(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=o2(t.repoInfo_,()=>new sS(t.stats_,t.server_)),t.infoData_=new eS,t.infoSyncTree_=new wp({startListening:(r,i,s,o)=>{let l=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(l=_o(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),cf(t,"connected",!1),t.serverSyncTree_=new wp({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,c)=>{const u=o(l,c);Ht(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function F0(t){const n=t.infoData_.getNode(new he(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function _a(t){return sw({timestamp:F0(t)})}function Ep(t,e,n,r,i){t.dataUpdateCount++;const s=new he(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const c=Il(n,u=>$e(u));o=ZS(t.serverSyncTree_,s,c,i)}else{const c=$e(n);o=x0(t.serverSyncTree_,s,c,i)}else if(r){const c=Il(n,u=>$e(u));o=qS(t.serverSyncTree_,s,c)}else{const c=$e(n);o=_o(t.serverSyncTree_,s,c)}let l=s;o.length>0&&(l=Di(t,s)),Ht(t.eventQueue_,l,o)}function kp(t,e){cf(t,"connected",e),e===!1&&jw(t)}function Ew(t,e){tt(e,(n,r)=>{cf(t,n,r)})}function cf(t,e,n){const r=new he("/.info/"+e),i=$e(n);t.infoData_.updateSnapshot(r,i);const s=_o(t.infoSyncTree_,r,i);Ht(t.eventQueue_,r,s)}function uf(t){return t.nextWriteId_++}function kw(t,e,n){const r=ew(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=$e(i).withIndex(e._queryParams.getIndex());Nu(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=_o(t.serverSyncTree_,e._path,s);else{const l=so(t.serverSyncTree_,e);o=x0(t.serverSyncTree_,e._path,s,l)}return Ht(t.eventQueue_,e._path,o),Vl(t.serverSyncTree_,e,n,null,!0),s},i=>(bo(t,"get for query "+We(e)+" failed: "+i),Promise.reject(new Error(i))))}function Tw(t,e,n,r,i){bo(t,"set",{path:e.toString(),value:n,priority:r});const s=_a(t),o=$e(n,r),l=Jd(t.serverSyncTree_,e),c=E0(o,l,s),u=uf(t),f=_0(t.serverSyncTree_,e,c,u,!0);va(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(h,x)=>{const v=h==="ok";v||pt("set at "+e+" failed: "+h);const w=Un(t.serverSyncTree_,u,!v);Ht(t.eventQueue_,e,w),Du(t,i,h,x)});const d=ff(t,e);Di(t,d),Ht(t.eventQueue_,d,[])}function Rw(t,e,n,r){bo(t,"update",{path:e.toString(),value:n});let i=!0;const s=_a(t),o={};if(tt(n,(l,c)=>{i=!1,o[l]=C0(Ne(e,l),$e(c),t.serverSyncTree_,s)}),i)Je("update() called with empty data.  Don't do anything."),Du(t,r,"ok",void 0);else{const l=uf(t),c=KS(t.serverSyncTree_,e,o,l);va(t.eventQueue_,c),t.server_.merge(e.toString(),n,(u,f)=>{const d=u==="ok";d||pt("update at "+e+" failed: "+u);const h=Un(t.serverSyncTree_,l,!d),x=h.length>0?Di(t,e):e;Ht(t.eventQueue_,x,h),Du(t,r,u,f)}),tt(n,u=>{const f=ff(t,Ne(e,u));Di(t,f)}),Ht(t.eventQueue_,e,[])}}function jw(t){bo(t,"onDisconnectEvents");const e=_a(t),n=Ol();Eu(t.onDisconnect_,ce(),(i,s)=>{const o=C0(i,s,t.serverSyncTree_,e);i0(n,i,o)});let r=[];Eu(n,ce(),(i,s)=>{r=r.concat(_o(t.serverSyncTree_,i,s));const o=ff(t,i);Di(t,o)}),t.onDisconnect_=Ol(),Ht(t.eventQueue_,ce(),r)}function Iw(t,e,n){let r;Z(e._path)===".info"?r=Nu(t.infoSyncTree_,e,n):r=Nu(t.serverSyncTree_,e,n),D0(t.eventQueue_,e._path,r)}function Tp(t,e,n){let r;Z(e._path)===".info"?r=Vl(t.infoSyncTree_,e,n):r=Vl(t.serverSyncTree_,e,n),D0(t.eventQueue_,e._path,r)}function Nw(t){t.persistentConnection_&&t.persistentConnection_.interrupt(bw)}function bo(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Je(n,...e)}function Du(t,e,n,r){e&&zi(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function M0(t,e,n){return Jd(t.serverSyncTree_,e,n)||G.EMPTY_NODE}function df(t,e=t.transactionQueueTree_){if(e||xa(t,e),Wi(e)){const n=B0(t,e);B(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Aw(t,xo(e),n)}else T0(e)&&ga(e,n=>{df(t,n)})}function Aw(t,e,n){const r=n.map(u=>u.currentWriteId),i=M0(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const f=n[u];B(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const d=ft(e,f.path);s=s.updateChild(d,f.currentOutputSnapshotRaw)}const l=s.val(!0),c=e;t.server_.put(c.toString(),l,u=>{bo(t,"transaction put response",{path:c.toString(),status:u});let f=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,f=f.concat(Un(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();xa(t,lf(t.transactionQueueTree_,e)),df(t,t.transactionQueueTree_),Ht(t.eventQueue_,e,f);for(let h=0;h<d.length;h++)zi(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{pt("transaction at "+c.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Di(t,e)}},o)}function Di(t,e){const n=O0(t,e),r=xo(n),i=B0(t,n);return Dw(t,i,r),r}function Dw(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],u=ft(n,c.path);let f=!1,d;if(B(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)f=!0,d=c.abortReason,i=i.concat(Un(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=Sw)f=!0,d="maxretry",i=i.concat(Un(t.serverSyncTree_,c.currentWriteId,!0));else{const h=M0(t,c.path,o);c.currentInputSnapshot=h;const x=e[l].update(h.val());if(x!==void 0){ya("transaction failed: Data returned ",x,c.path);let v=$e(x);typeof x=="object"&&x!=null&&fn(x,".priority")||(v=v.updatePriority(h.getPriority()));const C=c.currentWriteId,m=_a(t),p=E0(v,h,m);c.currentOutputSnapshotRaw=v,c.currentOutputSnapshotResolved=p,c.currentWriteId=uf(t),o.splice(o.indexOf(C),1),i=i.concat(_0(t.serverSyncTree_,c.path,p,c.currentWriteId,c.applyLocally)),i=i.concat(Un(t.serverSyncTree_,C,!0))}else f=!0,d="nodata",i=i.concat(Un(t.serverSyncTree_,c.currentWriteId,!0))}Ht(t.eventQueue_,n,i),i=[],f&&(e[l].status=2,function(h){setTimeout(h,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(d==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(d),!1,null))))}xa(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)zi(r[l]);df(t,t.transactionQueueTree_)}function O0(t,e){let n,r=t.transactionQueueTree_;for(n=Z(e);n!==null&&Wi(r)===void 0;)r=lf(r,n),e=ye(e),n=Z(e);return r}function B0(t,e){const n=[];return L0(t,e,n),n.sort((r,i)=>r.order-i.order),n}function L0(t,e,n){const r=Wi(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ga(e,i=>{L0(t,i,n)})}function xa(t,e){const n=Wi(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,k0(e,n.length>0?n:void 0)}ga(e,r=>{xa(t,r)})}function ff(t,e){const n=xo(O0(t,e)),r=lf(t.transactionQueueTree_,e);return cw(r,i=>{mc(t,i)}),mc(t,r),R0(r,i=>{mc(t,i)}),n}function mc(t,e){const n=Wi(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(B(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(B(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Un(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?k0(e,void 0):n.length=s+1,Ht(t.eventQueue_,xo(e),i);for(let o=0;o<r.length;o++)zi(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Fw(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):pt(`Invalid query segment '${n}' in query '${t}'`)}return e}const Rp=function(t,e){const n=Mw(t),r=n.namespace;n.domain==="firebase.com"&&jn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&jn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Yb();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new $1(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new he(n.pathString)}},Mw=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",c=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let f=t.indexOf("/");f===-1&&(f=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(f,d)),f<d&&(i=Pw(t.substring(f,d)));const h=Fw(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;const x=e.slice(0,u);if(x.toLowerCase()==="localhost")n="localhost";else if(x.split(".").length<=2)n=x;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ow=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=jp.charAt(n%64),n=Math.floor(n/64);B(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=jp.charAt(e[i]);return B(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+We(this.snapshot.exportVal())}}class $0{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ne(this._path)?null:Ld(this._path)}get ref(){return new hn(this._repo,this._path)}get _queryIdentifier(){const e=hp(this._queryParams),n=Fd(e);return n==="{}"?"default":n}get _queryObject(){return hp(this._queryParams)}isEqual(e){if(e=Wr(e),!(e instanceof hf))return!1;const n=this._repo===e._repo,r=zd(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+j2(this._path)}}class hn extends hf{constructor(e,n){super(e,n,new Hd,!1)}get parent(){const e=q1(this._path);return e===null?null:new hn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Pi{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new he(e),r=Fi(this.ref,e);return new Pi(this._node.getChild(n),r,Ae)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Pi(i,Fi(this.ref,r),Ae)))}hasChild(e){const n=new he(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function F(t,e){return t=Wr(t),t._checkNotDeleted("ref"),e!==void 0?Fi(t._root,e):t._root}function Fi(t,e){return t=Wr(t),Z(t._path)===null?yw("child","path",e,!1):N0("child","path",e,!1),new hn(t._repo,Ne(t._path,e))}function Bw(t,e){t=Wr(t),A0("push",t._path),I0("push",e,t._path,!0);const n=F0(t._repo),r=Ow(n),i=Fi(t,r),s=Fi(t,r);let o;return e!=null?o=U(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function U(t,e){t=Wr(t),A0("set",t._path),I0("set",e,t._path,!1);const n=new po;return Tw(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Vr(t,e){gw("update",e,t._path,!1);const n=new po;return Rw(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function de(t){t=Wr(t);const e=new W0(()=>{}),n=new ba(e);return kw(t._repo,t,n).then(r=>new Pi(r,new hn(t._repo,t._path),t._queryParams.getIndex()))}class ba{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new z0("value",this,new Pi(e.snapshotNode,new hn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new $0(this,e,n):null}matches(e){return e instanceof ba?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class pf{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new $0(this,e,n):null}createEvent(e,n){B(e.childName!=null,"Child events should have a childName.");const r=Fi(new hn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new z0(e.type,this,new Pi(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof pf?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Lw(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const c=n,u=(f,d)=>{Tp(t._repo,t,l),c(f,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new W0(n,s||void 0),l=e==="value"?new ba(o):new pf(e,o);return Iw(t._repo,t,l),()=>Tp(t._repo,t,l)}function Ce(t,e,n,r){return Lw(t,"value",e,n,r)}$S(hn);YS(hn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="FIREBASE_DATABASE_EMULATOR_HOST",Pu={};let $w=!1;function Ww(t,e,n,r){t.repoInfo_=new $1(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Uw(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||jn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Je("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Rp(s,i),l=o.repoInfo,c,u;typeof process<"u"&&process.env&&(u=process.env[zw]),u?(c=!0,s=`http://${u}?ns=${l.namespace}`,o=Rp(s,i),l=o.repoInfo):c=!o.repoInfo.secure;const f=i&&c?new _i(_i.OWNER):new r2(t.name,t.options,e);vw("Invalid Firebase Database URL",o),ne(o.path)||jn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Vw(l,t,f,new n2(t.name,n));return new Yw(d,t)}function Hw(t,e){const n=Pu[e];(!n||n[t.key]!==t)&&jn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Nw(t),delete n[t.key]}function Vw(t,e,n,r){let i=Pu[e.name];i||(i={},Pu[e.name]=i);let s=i[t.toURLString()];return s&&jn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new ww(t,$w,n,r),i[t.toURLString()]=s,s}class Yw{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Cw(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hn(this._repo,ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Hw(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&jn("Cannot call "+e+" on a deleted database.")}}function te(t=jb(),e){const n=Eb(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=mx("database");r&&Gw(n,...r)}return n}function Gw(t,e,n,r={}){t=Wr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&jn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&jn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new _i(_i.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:gx(r.mockUserToken,t.app.options.projectId);s=new _i(o)}Ww(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(t){$b(Rb),Al(new Xs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Uw(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),yi(qh,Xh,t),yi(qh,Xh,"esm2017")}wn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};wn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Qw();const Kw={apiKey:"AIzaSyBWHR3Nu1jaQO_Z9wZOSzMF7S11DbZK1f8",authDomain:"biblecrew-dev.firebaseapp.com",databaseURL:"https://biblecrew-dev-default-rtdb.firebaseio.com",projectId:"biblecrew-dev",storageBucket:"biblecrew-dev.firebasestorage.app",messagingSenderId:"983375235150",appId:"1:983375235150:web:1d743658a6fa7abe16db1f",measurementId:"G-97Z8886EPP"},qw=C1(Kw),le=te(qw),mf=[{crewKey:"",label:"(40)"},{crewKey:"",label:"(30)"},{crewKey:"(A)",label:"A(15)"},{crewKey:"(B)",label:"B(15)"},{crewKey:"",label:"(9)"},{crewKey:"",label:"(9)"},{crewKey:"",label:"(5)"}],ue=mf.map(t=>t.crewKey);function Ye(t){const e=mf.find(n=>n.crewKey===t);return e?e.label:t}function Xw(t){const e=F(le,"classNotices");return Ce(e,r=>t(r.val()||{}))}async function Jw(t){if(!t)return null;const e=te();return(await de(F(e,`classNotices/${t}`))).val()||null}async function Zw(t,e){if(!t||!e)return 0;const n=te(),i=(await de(F(n,`users/${t}/seenNotices/${e}`))).val();return typeof i=="number"?i:parseInt(i||"0",10)||0}async function eC(t,e,n){if(!t||!e)return!1;const r=typeof n=="number"?n:parseInt(n||"0",10)||0,i=te();return await U(F(i,`users/${t}/seenNotices/${e}`),r),!0}async function tC(t,e){if(!t)return!1;const n=te(),r=!!(e!=null&&e.enabled),i=((e==null?void 0:e.content)||"").toString(),s=((e==null?void 0:e.title)||"").toString(),o=Date.now();if(t==="all"){const c=(await de(F(n,"classNotices/all"))).val()||{},u=(parseInt(c.version||"0",10)||0)+1,f={enabled:r,title:s,content:i,version:u,updatedAt:o},d={};d["classNotices/all"]=f;for(const h of ue){const v=(await de(F(n,`classNotices/${h}`))).val()||{},w=(parseInt(v.version||"0",10)||0)+1;d[`classNotices/${h}`]={enabled:r,title:s,content:i,version:w,updatedAt:o}}return await Vr(F(n),d),f}else{const c=(await de(F(n,`classNotices/${t}`))).val()||{},u=(parseInt(c.version||"0",10)||0)+1,f={enabled:r,title:s,content:i,version:u,updatedAt:o};return await U(F(n,`classNotices/${t}`),f),f}}function U0(t,e,n){const r=F(le,`crews/${t}/users/${e}/checks`);return Ce(r,s=>n(s.val()||{}))}function nC(t,e){if(!t)return()=>{};const n=F(le,`crews/${t}`);return Ce(n,i=>e(i.val()||{}))}function H0(t,e,n,r){const i=F(le,`crews/${t}/users/${e}/checks/${n}`);return U(i,r)}function Ip(t,e,n){const r=F(le,`crews/${t}/users/${e}/checks`);return Ce(r,s=>n(s.val()||{}))}function gf(t){const e=F(le,"users");return Ce(e,r=>t(r.val()||{}))}function rC(t,e){const n=F(le,`users/${t}/crew`),r=F(le,`users/${t}/hiddenUnassigned`),i=F(le,`users/${t}/status`);return Promise.all([U(n,e),U(r,!1),U(i,"active")])}function iC(t){const e=F(le,`users/${t}/crew`),n=F(le,`users/${t}/hiddenUnassigned`),r=F(le,`users/${t}/status`);return Promise.all([U(e,null),U(n,!1),de(r).then(i=>i.val()==="inactive"?!0:U(r,"active"))])}async function sC(t){const e=te(),n=F(e,`users/${t}`),s={...(await de(n)).val()||{},crew:null,hiddenUnassigned:!1,status:"inactive",deactivatedAt:Date.now()};return await U(n,s),{uid:t,...s}}async function oC(t){const e=te(),n=F(e,`users/${t}`),s={...(await de(n)).val()||{},hiddenUnassigned:!1,status:"active",restoredAt:Date.now()};return await U(n,s),{uid:t,...s}}async function lC(t){const e=te(),n=[];return n.push(U(F(e,`users/${t}`),null)),ue.forEach(r=>{n.push(U(F(e,`crews/${r}/users/${t}`),null))}),n.push(U(F(e,`userBookmarks/${t}`),null)),await Promise.all(n),!0}function aC(t,e){const n=F(le,`comments/${t}`),r=Bw(n);return U(r,e)}function cC(t,e,n){if(!t||!e)return Promise.resolve(!1);const r=F(le,`comments/${t}/${e}`);return Vr(r,n||{})}function uC(t,e){if(!t||!e)return Promise.resolve(!1);const n=F(le,`comments/${t}/${e}`);return U(n,null)}function dC(t){if(!t)return Promise.resolve(!1);const e=F(le,`comments/${t}`);return U(e,null)}function fC(t,e){const n=F(le,`comments/${t}`);return Ce(n,i=>{const s=i.val()||{},o=Object.entries(s).map(([l,c])=>({id:l,...c}));o.sort((l,c)=>(c.timestamp||0)-(l.timestamp||0)),e(o.slice(0,300))})}function hC(t){const e=F(le,"comments");return Ce(e,r=>{const i=r.val()||{},s=[];Object.entries(i).forEach(([o,l])=>{Object.entries(l||{}).forEach(([c,u])=>{s.push({id:`${o}_${c}`,crew:o,...u})})}),s.sort((o,l)=>(l.timestamp||0)-(o.timestamp||0)),t(s.slice(0,500))})}async function pC(t=3){const e=Math.max(1,Number(t)||3),n=Date.now()-e*24*60*60*1e3,r=te(),s=(await de(F(r,"comments"))).val()||{},o={};return Object.entries(s).forEach(([l,c])=>{Object.entries(c||{}).forEach(([u,f])=>{const d=f&&f.timestamp||0;d&&d<n&&(o[`comments/${l}/${u}`]=null)})}),Object.keys(o).length===0?{deleted:0}:(await Vr(F(r),o),{deleted:Object.keys(o).length})}function mC(){const t=F(le,"comments");return U(t,null)}function V0(t){const e=F(le,"crews");return Ce(e,r=>t(r.val()||{}))}function gC(t,e){if(!t)return()=>{};const n=F(le,`hallOfFame/${t}`);return Ce(n,i=>e(i.val()||{}))}function Y0(t,e){if(!t)return()=>{};const n=F(le,`hallOfFame/monthly/${t}`);return Ce(n,i=>e(i.val()||{}))}function yC(t,e){return Y0(t,e)}async function G0(t,e,n){const r=te(),i=String(e).padStart(2,"0"),s=`${t}-${i}`,o={gold:[],silver:[],bronze:[]},l={gold:{},silver:{},bronze:{}},c=[];for(const u of n||[]){if(!u.medal||!u.uid)continue;const f=u.medal,d=u.name||"",h=u.crew||"";o[f].push({name:d,crew:h}),l[f][u.uid]={name:d,crew:h,chapters:u.chapters||0};const x=`${s}_${h}`,v=F(r,`users/${u.uid}/earnedMedals/${x}`),w=F(r,`users/${u.uid}/medals/${f}`),m=(await de(v)).val();if(m!==f)if(m&&m!==f){const p=F(r,`users/${u.uid}/medals/${m}`);c.push((async()=>{const y=await de(p),_=await de(w);await U(p,Math.max(0,(y.val()||0)-1)),await U(w,(_.val()||0)+1),await U(v,f)})())}else c.push((async()=>{const p=await de(w);await U(w,(p.val()||0)+1),await U(v,f)})())}for(const u of["gold","silver","bronze"])c.push(U(F(r,`hallOfFame/${t}/monthlyResults/${i}/${u}`),o[u]));return c.push(U(F(r,`hallOfFame/monthly/${t}/${e}`),l)),await Promise.all(c),!0}async function vC(t,e,n,r,i){if(!t||!e||!n||!i)return!1;const s=te(),o=String(e).padStart(2,"0"),l=`${t}-${o}`,c=`${l}_${i}`,u=F(s,`monthlyReports/${l}`),d=(await de(u)).val()||null,h=F(s,`hallOfFame/monthly/${t}/${e}`),v=(await de(h)).val()||{gold:{},silver:{},bronze:{}},w=F(s,`hallOfFame/${t}/monthlyResults/${o}`),m=(await de(w)).val()||{gold:[],silver:[],bronze:[]},p=["gold","silver","bronze"],y=F(s,`users/${n}/earnedMedals/${c}`),S=(await de(y)).val();let R=n;const P=(await de(F(s,`users/${n}`))).val()||{};R=P.name||n,p.forEach(N=>{v[N]&&v[N][n]&&v[N][n].crew===i&&delete v[N][n],Array.isArray(m[N])&&(m[N]=m[N].filter($=>{const H=typeof $=="object"?$.name:$,q=typeof $=="object"?$.crew:"";return!(H===R&&q===i)}))}),r&&r!=="none"&&(v[r]||(v[r]={}),v[r][n]={name:R,crew:i,chapters:0},Array.isArray(m[r])||(m[r]=[]),m[r].push({name:R,crew:i}));const A=[];if(S&&p.includes(S)){const N=F(s,`users/${n}/medals/${S}`);A.push(de(N).then($=>{const H=$.val()||0;return U(N,Math.max(0,H-1))}))}if(r&&r!=="none"&&p.includes(r)){const N=F(s,`users/${n}/medals/${r}`);A.push(de(N).then($=>{const H=$.val()||0;return U(N,H+1)})),A.push(U(y,r))}else r==="none"&&A.push(U(y,null));if(A.push(U(h,v)),A.push(U(w,m)),d&&d[n]){const N=r&&r!=="none",$={...d[n],stateLabel:N?"":""};if(P.medals){const H={...P.medals};S&&H[S]>0&&H[S]--,N&&(H[r]=(H[r]||0)+1),$.totalMedals=(H.gold||0)+(H.silver||0)+(H.bronze||0)}A.push(U(F(s,`monthlyReports/${l}/${n}`),$))}return await Promise.all(A),!0}function Q0(){const t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0");return`${e}-${n}`}function So(){const t=new Date;let e=t.getFullYear(),n=t.getMonth()+2;n>12&&(e+=1,n=1);const r=String(n).padStart(2,"0");return`${e}-${r}`}function Fu(t,e,n){const r=F(le,`approvals/${e}/${t}`);return Ce(r,s=>{n(s.val()||{})})}function Hn(t){return(t||"").toString().trim().replace(/^[,\s]+/,"").replace(/\s+/g,"")}async function _C(t,e,n){if(!n||n.length===0)return;const r=te(),i={};return n.forEach(s=>{const o=Hn(s.name);o&&(i[`approvals/${e}/${t}/${o}`]=!0,s.uid&&(i[`applicationHistory/${e}/${s.uid}/${t}`]={name:s.name,crew:t,ymKey:e,createdAt:Date.now(),method:"manual_approval_immediate"},i[`users/${s.uid}/crew`]=t,i[`users/${s.uid}/hiddenUnassigned`]=!1,i[`users/${s.uid}/status`]="active"))}),Vr(F(r),i)}function xC(t,e){const n=F(le,`approvals/${e}/${t}`);return U(n,null)}function bC(t,e,n,r){const i=F(le,`approvals/${e}/${t}/${n}`);return Ce(i,o=>{r(!!o.val())})}async function SC(t,e){if(!t||!/^[-a-zA-Z]+$/.test(t)){const f=new Error("     . (, ,  )");throw f.code="INVALID_NAME",f}const r=te(),i=t,s=F(r,`users/${i}`);let l=(await de(s)).val();const c=e!=null?String(e):"",u=c.trim();if(!l){if(!u){const d=new Error("     .");throw d.code="EMPTY_PASSWORD",d}const f={name:t,password:u,crew:null,status:"active",hiddenUnassigned:!1,mustChangePassword:!1,createdAt:Date.now()};return await U(s,f),{uid:i,...f}}if(l.password){if(l.password!==c&&l.password!==u){const f=new Error("  .");throw f.code="WRONG_PASSWORD",f}}else{if(!u){const f=new Error("  .");throw f.code="EMPTY_PASSWORD",f}l.password=u,l.mustChangePassword=!1,await U(s,l)}return{uid:i,...l}}async function wC(t){const e=te(),n=F(e,`users/${t}`),s={...(await de(n)).val()||{},password:"0000",mustChangePassword:!0};return await U(n,s),{uid:t,...s}}async function CC(t,e){const n=te(),r=F(n,`users/${t}`),o={...(await de(r)).val()||{},password:e,mustChangePassword:!1};return await U(r,o),{uid:t,...o}}const EC="8395";async function kC(t){if(t===EC)return{ok:!0,usedMaster:!0};const e=te(),n=F(e,"/admin/password"),s=(await de(n)).val()||"1234";if(t===s)return{ok:!0,usedMaster:!1};const o=new Error("   .");throw o.code="WRONG_ADMIN_PASSWORD",o}async function TC(t){const e=te(),n=F(e,"/admin/password");return await U(n,t),!0}async function RC(t,e){if(!t)return!1;const n=te();return await Vr(F(n,`users/${t}`),{isAdmin:!!e}),!0}async function jC(t,e,n){if(!(!t||!e))return await yf(e,null),K0(t,e,n)}function K0(t,e,n){if(!t||!e)return Promise.resolve();const r=te(),i=So(),s={name:n||"",crew:t,ymKey:i,createdAt:Date.now()},o=F(r,`/nextMonthApplications/${i}/${t}/${e}`),l=F(r,`/nextMonthApplicationsByUser/${i}/${e}/${t}`),c=F(r,`/applicationHistory/${i}/${e}/${t}`),u=Hn(n),f=F(r,`/approvals/${i}/${t}/${u}`);return Promise.all([U(o,s),U(l,s),U(c,s),u?U(f,!0):Promise.resolve()])}function IC(t,e){if(!t)return e(null),()=>{};const n=te(),r=So(),i=F(n,`/nextMonthApplicationsByUser/${r}/${t}`);return Ce(i,s=>{e(s.val()||null)})}function yf(t,e=null){if(!t)return Promise.resolve();const n=te(),r=So();if(e){const s=F(n,`/nextMonthApplications/${r}/${e}/${t}`),o=F(n,`/nextMonthApplicationsByUser/${r}/${t}/${e}`),l=F(n,`/applicationHistory/${r}/${t}/${e}`);return de(o).then(c=>{const u=c.val(),f=u?u.name:"",d=Hn(f),h=F(n,`/approvals/${r}/${e}/${d}`);return Promise.all([U(s,null),U(o,null),U(l,null),d?U(h,null):Promise.resolve()])})}const i=F(n,`/nextMonthApplicationsByUser/${r}/${t}`);return de(i).then(s=>{const o=s.val()||{},l=[];return l.push(U(i,null)),Object.keys(o).forEach(c=>{const u=F(n,`/nextMonthApplications/${r}/${c}/${t}`),f=F(n,`/applicationHistory/${r}/${t}/${c}`),d=o[c]?o[c].name:"",h=Hn(d);if(h){const x=F(n,`/approvals/${r}/${c}/${h}`);l.push(U(x,null))}l.push(U(u,null)),l.push(U(f,null))}),Promise.all(l)})}function NC(t){const e=te(),n=So(),r=F(e,`/nextMonthApplications/${n}`);return Ce(r,i=>{t(i.val()||{})})}async function AC(t,e){const n=te(),r={},i=Date.now();for(const[s,o]of Object.entries(e))!o||!Array.isArray(o)||o.forEach(l=>{r[`users/${l}/crew`]=s,r[`users/${l}/hiddenUnassigned`]=!1,r[`users/${l}/status`]="active"});return r[`applicationHistory/${t}/snapshot`]=e,r[`applicationHistory/${t}/appliedAt`]=i,await Vr(F(n),r),!0}function DC(t,e){const n=te(),r=F(n,`/applicationHistory/${t}/appliedAt`);return Ce(r,i=>e(i.val()||null))}async function Np(t){const e=te();return(await de(F(e,`/applicationHistory/${t}/snapshot`))).val()||{}}function q0(t){const e=te(),n=F(e,"/notice");return Ce(n,r=>t(r.val()||null))}function PC(t,e){const n=te(),r=F(n,"/notice"),i={title:t||"",content:e||"",timestamp:Date.now()};return U(r,i)}function FC(t,e){if(!t)return e({}),()=>{};const n=te(),r=F(n,`/users/${t}/medals`);return Ce(r,i=>{e(i.val()||{})})}function MC(t,e){const n=te();return U(F(n,`/settings/approval/${t}`),e)}function OC(t){const e=te(),n=F(e,"/settings/approval");return Ce(n,r=>t(r.val()||{}))}function vf(t){const e=te(),n=F(e,"/settings");return Ce(n,r=>t(r.val()||{}))}function BC(t){const e=te();return U(F(e,"/settings/churchName"),t)}function LC(t){const e=te();return U(F(e,"/settings/appDescription"),t)}function zC(t){const e=te();return U(F(e,"/settings/bulletinUrl"),t||"")}function $C(t,e){if(!t)return Promise.resolve();const n=F(le,`userBookmarks/${t}`);return U(n,{bookId:e.bookId,chapter:e.chapter,updatedAt:Date.now()})}function WC(t,e){if(!t)return e(null),()=>{};const n=F(le,`userBookmarks/${t}`),r=Ce(n,i=>{e(i.val()||null)},i=>e(null));return()=>r()}async function UC(t,e,n){const r=te(),i=F(r,`monthlyReports/${t}-${String(e).padStart(2,"0")}`);return await U(i,n),!0}async function Ap(){const t=te(),e=F(t,"monthlyReports"),r=(await de(e)).val()||{};return Object.keys(r).sort().reverse()}async function HC(t){const e=te(),n=F(e,`monthlyReports/${t}`);return(await de(n)).val()||{}}async function VC(t){const e=te(),n=F(e,`hallOfFame/${t}/monthlyResults`);return(await de(n)).val()||{}}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oo(){return oo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oo.apply(this,arguments)}var Vn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vn||(Vn={}));const Dp="popstate";function YC(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:l="",hash:c=""}=Yr(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Mu("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=i.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof s=="string"?s:X0(s))}function r(i,s){Sa(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return QC(e,n,r,t)}function He(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GC(){return Math.random().toString(36).substr(2,8)}function Pp(t,e){return{usr:t.state,key:t.key,idx:e}}function Mu(t,e,n,r){return n===void 0&&(n=null),oo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yr(e):e,{state:n,key:e&&e.key||r||GC()})}function X0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Yr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function QC(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Vn.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(oo({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function d(){l=Vn.Pop;let C=f(),m=C==null?null:C-u;u=C,c&&c({action:l,location:w.location,delta:m})}function h(C,m){l=Vn.Push;let p=Mu(w.location,C,m);n&&n(p,C),u=f()+1;let y=Pp(p,u),_=w.createHref(p);try{o.pushState(y,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(_)}s&&c&&c({action:l,location:w.location,delta:1})}function x(C,m){l=Vn.Replace;let p=Mu(w.location,C,m);n&&n(p,C),u=f();let y=Pp(p,u),_=w.createHref(p);o.replaceState(y,"",_),s&&c&&c({action:l,location:w.location,delta:0})}function v(C){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof C=="string"?C:X0(C);return p=p.replace(/ $/,"%20"),He(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let w={get action(){return l},get location(){return t(i,o)},listen(C){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Dp,d),c=C,()=>{i.removeEventListener(Dp,d),c=null}},createHref(C){return e(i,C)},createURL:v,encodeLocation(C){let m=v(C);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:x,go(C){return o.go(C)}};return w}var Fp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Fp||(Fp={}));function KC(t,e,n){return n===void 0&&(n="/"),qC(t,e,n,!1)}function qC(t,e,n,r){let i=typeof e=="string"?Yr(e):e,s=ey(i.pathname||"/",n);if(s==null)return null;let o=J0(t);XC(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=aE(s);l=oE(o[c],u,r)}return l}function J0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(He(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Nr([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(He(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),J0(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:iE(u,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of Z0(s.path))i(s,o,c)}),e}function Z0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Z0(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function XC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sE(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const JC=/^:[\w-]+$/,ZC=3,eE=2,tE=1,nE=10,rE=-2,Mp=t=>t==="*";function iE(t,e){let n=t.split("/"),r=n.length;return n.some(Mp)&&(r+=rE),e&&(r+=eE),n.filter(i=>!Mp(i)).reduce((i,s)=>i+(JC.test(s)?ZC:s===""?tE:nE),r)}function sE(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function oE(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",d=Op({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Op({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Nr([s,d.pathname]),pathnameBase:mE(Nr([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Nr([s,d.pathnameBase]))}return o}function Op(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lE(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,f,d)=>{let{paramName:h,isOptional:x}=f;if(h==="*"){let w=l[d]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[d];return x&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function lE(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Sa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function aE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sa(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ey(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const cE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uE=t=>cE.test(t);function dE(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Yr(t):t,s;if(n)if(uE(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Sa(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=Bp(n.substring(1),"/"):s=Bp(n,e)}else s=e;return{pathname:s,search:gE(r),hash:yE(i)}}function Bp(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function gc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hE(t,e){let n=fE(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function pE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Yr(t):(i=oo({},t),He(!i.pathname||!i.pathname.includes("?"),gc("?","pathname","search",i)),He(!i.pathname||!i.pathname.includes("#"),gc("#","pathname","hash",i)),He(!i.search||!i.search.includes("#"),gc("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}l=d>=0?e[d]:"/"}let c=dE(i,l),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Nr=t=>t.join("/").replace(/\/\/+/g,"/"),mE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function vE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ty=["post","put","patch","delete"];new Set(ty);const _E=["get",...ty];new Set(_E);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lo(){return lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lo.apply(this,arguments)}const _f=b.createContext(null),xE=b.createContext(null),wa=b.createContext(null),Ca=b.createContext(null),Ui=b.createContext({outlet:null,matches:[],isDataRoute:!1}),ny=b.createContext(null);function Ea(){return b.useContext(Ca)!=null}function xf(){return Ea()||He(!1),b.useContext(Ca).location}function ry(t){b.useContext(wa).static||b.useLayoutEffect(t)}function Nn(){let{isDataRoute:t}=b.useContext(Ui);return t?DE():bE()}function bE(){Ea()||He(!1);let t=b.useContext(_f),{basename:e,future:n,navigator:r}=b.useContext(wa),{matches:i}=b.useContext(Ui),{pathname:s}=xf(),o=JSON.stringify(hE(i,n.v7_relativeSplatPath)),l=b.useRef(!1);return ry(()=>{l.current=!0}),b.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let d=pE(u,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Nr([e,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[e,r,o,s,t])}function SE(t,e){return wE(t,e)}function wE(t,e,n,r){Ea()||He(!1);let{navigator:i}=b.useContext(wa),{matches:s}=b.useContext(Ui),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=xf(),f;if(e){var d;let C=typeof e=="string"?Yr(e):e;c==="/"||(d=C.pathname)!=null&&d.startsWith(c)||He(!1),f=C}else f=u;let h=f.pathname||"/",x=h;if(c!=="/"){let C=c.replace(/^\//,"").split("/");x="/"+h.replace(/^\//,"").split("/").slice(C.length).join("/")}let v=KC(t,{pathname:x}),w=RE(v&&v.map(C=>Object.assign({},C,{params:Object.assign({},l,C.params),pathname:Nr([c,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?c:Nr([c,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return e&&w?b.createElement(Ca.Provider,{value:{location:lo({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Vn.Pop}},w):w}function CE(){let t=AE(),e=vE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,s)}const EE=b.createElement(CE,null);class kE extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Ui.Provider,{value:this.props.routeContext},b.createElement(ny.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TE(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(_f);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Ui.Provider,{value:e},r)}function RE(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||He(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:x}=n,v=d.route.loader&&h[d.route.id]===void 0&&(!x||x[d.route.id]===void 0);if(d.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,d,h)=>{let x,v=!1,w=null,C=null;n&&(x=l&&d.route.id?l[d.route.id]:void 0,w=d.route.errorElement||EE,c&&(u<0&&h===0?(PE("route-fallback",!1),v=!0,C=null):u===h&&(v=!0,C=d.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,h+1)),p=()=>{let y;return x?y=w:v?y=C:d.route.Component?y=b.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=f,b.createElement(TE,{match:d,routeContext:{outlet:f,matches:m,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?b.createElement(kE,{location:n.location,revalidation:n.revalidation,component:w,error:x,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var iy=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(iy||{}),Yl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Yl||{});function jE(t){let e=b.useContext(_f);return e||He(!1),e}function IE(t){let e=b.useContext(xE);return e||He(!1),e}function NE(t){let e=b.useContext(Ui);return e||He(!1),e}function sy(t){let e=NE(),n=e.matches[e.matches.length-1];return n.route.id||He(!1),n.route.id}function AE(){var t;let e=b.useContext(ny),n=IE(Yl.UseRouteError),r=sy(Yl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function DE(){let{router:t}=jE(iy.UseNavigateStable),e=sy(Yl.UseNavigateStable),n=b.useRef(!1);return ry(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,lo({fromRouteId:e},s)))},[t,e])}const Lp={};function PE(t,e,n){!e&&!Lp[t]&&(Lp[t]=!0)}function FE(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Oe(t){He(!1)}function ME(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Vn.Pop,navigator:s,static:o=!1,future:l}=t;Ea()&&He(!1);let c=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:s,static:o,future:lo({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=Yr(r));let{pathname:f="/",search:d="",hash:h="",state:x=null,key:v="default"}=r,w=b.useMemo(()=>{let C=ey(f,c);return C==null?null:{location:{pathname:C,search:d,hash:h,state:x,key:v},navigationType:i}},[c,f,d,h,x,v,i]);return w==null?null:b.createElement(wa.Provider,{value:u},b.createElement(Ca.Provider,{children:n,value:w}))}function OE(t){let{children:e,location:n}=t;return SE(Ou(e),n)}new Promise(()=>{});function Ou(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let s=[...e,i];if(r.type===b.Fragment){n.push.apply(n,Ou(r.props.children,s));return}r.type!==Oe&&He(!1),!r.props.index||!r.props.children||He(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ou(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const BE="6";try{window.__reactRouterVersion=BE}catch{}const LE="startTransition",zp=Qy[LE];function zE(t){let{basename:e,children:n,future:r,window:i}=t,s=b.useRef();s.current==null&&(s.current=YC({window:i,v5Compat:!0}));let o=s.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},f=b.useCallback(d=>{u&&zp?zp(()=>c(d)):c(d)},[c,u]);return b.useLayoutEffect(()=>o.listen(f),[o,f]),b.useEffect(()=>FE(r),[r]),b.createElement(ME,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var $p;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($p||($p={}));var Wp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Wp||(Wp={}));function $E({user:t}){const e=Nn(),[n,r]=b.useState([]),[i,s]=b.useState(!1),[o,l]=b.useState(null);b.useEffect(()=>{const A=hC(r),N=q0(l);return()=>{typeof A=="function"&&A(),typeof N=="function"&&N()}},[]);const c=(n||[]).slice(0,20),u=new Date;u.setHours(0,0,0,0);const f=u.getTime(),d=(n||[]).filter(A=>(A.timestamp||0)>=f),h=i?d:c,x=(t==null?void 0:t.name)||"",[v,w]=b.useState(!1),[C,m]=b.useState(""),[p,y]=b.useState(null);b.useEffect(()=>{if(!t||!t.uid)return;const A=IC(t.uid,N=>{y(N||{})});return()=>{typeof A=="function"&&A()}},[t]);function _(){if(!t||!t.uid){alert("   .");return}if(!C){alert("   .");return}const A=` '${C}'() ?
(       .)`;window.confirm(A)&&jC(C,t.uid,t.name||"").then(()=>{alert(`${C}  .`),m("")})}function S(){!t||!t.uid||window.confirm("     ?")&&yf(t.uid,null).then(()=>{alert(".")})}const R=Object.keys(p||{}),k=R.length>0;function P(A){if(!A)return"";const N=new Date(A),$=N.getFullYear(),H=String(N.getMonth()+1).padStart(2,"0"),q=String(N.getDate()).padStart(2,"0"),_e=String(N.getHours()).padStart(2,"0"),pe=String(N.getMinutes()).padStart(2,"0");return`${$}-${H}-${q} ${_e}:${pe}`}return a.jsxs("div",{style:{padding:25,minHeight:"100vh",background:"#E5F3E6",color:"#034732"},children:[a.jsx("h1",{style:{fontSize:32,marginBottom:10,textAlign:"center"},children:" "}),a.jsxs("p",{style:{textAlign:"center",marginBottom:10},children:[", ",x,""]}),!t&&a.jsxs("p",{style:{textAlign:"center",marginBottom:20},children:[" ",a.jsx("button",{onClick:()=>e("/login"),style:{textDecoration:"underline",cursor:"pointer",background:"none",border:"none",padding:0,color:"#0B8457"},children:""}),"  ."]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:30},children:[a.jsx("button",{style:Mt("#1B9C5A"),onClick:()=>e("/"),children:" (40)"}),a.jsx("button",{style:Mt("#1B9C5A"),onClick:()=>e("/"),children:" (30)"}),a.jsx("button",{style:Mt("#136F63"),onClick:()=>e("/A"),children:" A(15)"}),a.jsx("button",{style:Mt("#136F63"),onClick:()=>e("/B"),children:" B(15)"}),a.jsx("button",{style:Mt("#136F63"),onClick:()=>e("/"),children:" (9)"}),a.jsx("button",{style:Mt("#FF9F1C"),onClick:()=>e("/"),children:"  "}),a.jsx("button",{style:Mt("#0B4F6C"),onClick:()=>e("/"),children:" (5)"}),a.jsx("button",{style:Mt("#0B4F6C"),onClick:()=>e("/"),children:" (9)"}),a.jsx("button",{style:Mt("#0F3455"),onClick:()=>e("/records"),children:"  "}),a.jsx("button",{style:Mt("#0F3455"),onClick:()=>e("/admin-login"),children:"  "})]}),a.jsx("button",{style:{...Mt("#0B4F6C"),marginBottom:8},onClick:()=>w(A=>!A),children:"   "}),v&&a.jsxs("div",{style:{marginTop:4,marginBottom:24,padding:16,borderRadius:12,background:"#FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.04)"},children:[a.jsx("h3",{style:{marginTop:0,marginBottom:8},children:"   "}),a.jsx("p",{style:{fontSize:12,color:"#555",marginBottom:12},children:"     . (     )"}),a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:12},children:[a.jsxs("select",{value:C,onChange:A=>m(A.target.value),style:{flex:1,padding:8,borderRadius:8,border:"1px solid #ccc"},children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"",children:"(40)"}),a.jsx("option",{value:"",children:"(30)"}),a.jsx("option",{value:"(A)",children:"A(15)"}),a.jsx("option",{value:"(B)",children:"B(15)"}),a.jsx("option",{value:"",children:"(9)"}),a.jsx("option",{value:"",children:"(9)"}),a.jsx("option",{value:"",children:"(5)"})]}),a.jsx("button",{type:"button",onClick:_,style:{padding:"0 20px",borderRadius:8,border:"none",background:"#0B8457",color:"#fff",fontWeight:"bold",cursor:"pointer"},children:"()"})]}),k?a.jsxs("div",{style:{marginTop:16,borderTop:"1px solid #eee",paddingTop:10},children:[a.jsx("div",{style:{fontSize:13,fontWeight:"bold",color:"#333",marginBottom:6},children:"   "}),a.jsx("div",{style:{marginBottom:10,color:"#0B8457",fontWeight:600},children:R.join(", ")}),a.jsx("button",{onClick:S,style:{width:"100%",padding:"10px",borderRadius:8,border:"1px solid #ccc",background:"#f5f5f5",color:"#333",cursor:"pointer",fontWeight:"bold"},children:" "})]}):a.jsx("div",{style:{fontSize:13,color:"#999",marginTop:10},children:"  ."})]}),a.jsxs("div",{style:{marginTop:10,padding:16,borderRadius:12,background:"#FFFFFF",boxShadow:"0 4px 10px rgba(0,0,0,0.06)"},children:[o&&a.jsxs("div",{style:{marginBottom:12,padding:12,borderRadius:8,background:"#FFF3CD",border:"1px solid #FFEEBA"},children:[a.jsxs("div",{style:{fontWeight:"bold",marginBottom:4},children:["<>"," ",o.title||""]}),a.jsx("div",{style:{fontSize:14,whiteSpace:"pre-line"},children:o.content||""})]}),a.jsx("button",{style:{...Mt("#1E7F74"),marginBottom:12,padding:14,fontSize:16},onClick:()=>e("/crew-members"),children:"   "}),a.jsx("h3",{style:{marginTop:0,marginBottom:10},children:"  "}),h.length===0&&a.jsx("p",{style:{color:"#666"},children:"   .       ."}),a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:8},children:[a.jsx("button",{onClick:()=>s(A=>!A),style:{padding:"8px 12px",borderRadius:10,border:"1px solid #0B8457",background:i?"#0B8457":"#fff",color:i?"#fff":"#0B8457",cursor:"pointer",fontWeight:700},children:i?"":" ()"}),i&&a.jsx("div",{style:{fontSize:12,color:"#555",alignSelf:"center"},children:"    ."})]}),a.jsx("ul",{style:{paddingLeft:18},children:h.map(A=>a.jsxs("li",{style:{marginBottom:4},children:[a.jsxs("span",{style:{fontWeight:"bold"},children:["[",A.crew,"] ",A.user]}),": ",A.text,A.timestamp&&a.jsxs("span",{style:{fontSize:12,color:"#555",marginLeft:4},children:["(",P(A.timestamp),")"]})]},A.id))})]})]})}function Mt(t){return{width:"100%",height:63,padding:"0 6px",borderRadius:12,border:"none",fontSize:17,fontWeight:"bold",background:t,color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",wordBreak:"keep-all",lineHeight:1.2}}function rn(t,e){const n=[],r=new Date(t,e,0).getDate();for(let i=1;i<=r;i++){const s=`${t}-${String(e).padStart(2,"0")}-${String(i).padStart(2,"0")}`;n.push(s)}return n}function WE(){const[t,e]=b.useState(null),[n,r]=b.useState(null),[i,s]=b.useState({}),[o,l]=b.useState([]),[c,u]=b.useState(null),[f,d]=b.useState(null),[h,x]=b.useState([]),v=b.useRef(new Set);return b.useRef(new Set),b.useEffect(()=>{const w=new Date().getFullYear(),C=F(le,"settings/currentHallOfFameYear"),m=Ce(C,async p=>{const y=p.val();if(typeof y!="number"){await U(C,w);return}if(y!==w){await U(C,w);return}u(y)});return()=>{typeof m=="function"&&m()}},[]),b.useEffect(()=>{const w=F(le,"hallOfFame"),C=F(le,"hallOfFame/monthly"),m=[],p=(S,R)=>{const k=new Date().getFullYear(),P=[...S||[],...R||[],k].filter(A=>Number.isFinite(A));return Array.from(new Set(P)).sort((A,N)=>N-A)};let y=[],_=[];return m.push(Ce(w,S=>{const R=S.val()||{};y=Object.keys(R).map(k=>parseInt(k,10)).filter(k=>Number.isFinite(k)),x(p(y,_))})),m.push(Ce(C,S=>{const R=S.val()||{};_=Object.keys(R).map(k=>parseInt(k,10)).filter(k=>Number.isFinite(k)),x(p(y,_))})),()=>m.forEach(S=>typeof S=="function"?S():null)},[]),b.useEffect(()=>{c&&d(w=>w??c)},[c]),b.useEffect(()=>{if(!f)return;e(null),r(null);const w=gC(f,m=>{e(m||null)}),C=Y0(f,m=>{r(m||null)});return()=>{typeof w=="function"&&w(),typeof C=="function"&&C()}},[f]),b.useEffect(()=>{if(!c||!f)return;if(c!==f){s({});return}const w=new Date,C=w.getFullYear(),m=w.getMonth()+1,p=rn(C,m),y=`${C}-${String(m).padStart(2,"0")}-${String(w.getDate()).padStart(2,"0")}`,_=p.filter(P=>P<=y),S={gold:[""],silver:[""],bronze:ue.filter(P=>String(P).includes("")||String(P).includes(""))},R=F(le,"crews"),k=Ce(R,P=>{const A=P.val()||{},N={gold:{challengers:0,success:0,fail:0},silver:{challengers:0,success:0,fail:0},bronze:{challengers:0,success:0,fail:0}};if(["gold","silver","bronze"].forEach($=>{(S[$]||[]).forEach(q=>{var pe;const _e=((pe=A==null?void 0:A[q])==null?void 0:pe.users)||{};Object.entries(_e).forEach(([L,V])=>{V&&V.name,N[$].challengers+=1;const I=V&&V.checks||{};_.every(z=>!!I[z])?N[$].success+=1:N[$].fail+=1})})}),s(N),w.getDate()===1){const $=new Date(C,m-2,1),H=$.getFullYear(),q=$.getMonth()+1,_e=String(q).padStart(2,"0"),pe=`${H}-${_e}`;if(!v.current.has(pe)){v.current.add(pe);const L=rn(H,q),V={gold:[],silver:[],bronze:[]};["gold","silver","bronze"].forEach(I=>{(S[I]||[]).forEach(z=>{var ie;const Q=((ie=A==null?void 0:A[z])==null?void 0:ie.users)||{};Object.entries(Q).forEach(([je,Fe])=>{const nt=Fe&&Fe.name||je,Ct=Fe&&Fe.checks||{};L.every(Hi=>!!Ct[Hi])&&V[I].push({name:nt,crew:z})})})}),(async()=>{const I=[];["gold","silver","bronze"].forEach(O=>{(V[O]||[]).forEach(z=>{I.push({uid:z.name,name:z.name,crew:z.crew,medal:O})})}),I.length>0&&await G0(H,q,I)})().catch(()=>{})}}});return()=>{typeof k=="function"&&k()}},[c,f]),b.useEffect(()=>{if(!f){l([]);return}const w=t&&t.monthlyResults?t.monthlyResults:null,C={};w&&typeof w=="object"?Object.entries(w).forEach(([_,S])=>{!S||typeof S!="object"||(C[_]={gold:Array.isArray(S.gold)?S.gold.filter(Boolean):[],silver:Array.isArray(S.silver)?S.silver.filter(Boolean):[],bronze:Array.isArray(S.bronze)?S.bronze.filter(Boolean):[]})}):n&&typeof n=="object"&&Object.entries(n).forEach(([_,S])=>{const R=String(_).padStart(2,"0");if(!S||typeof S!="object")return;const k=P=>!P||typeof P!="object"?[]:Object.values(P).map(A=>A==null?void 0:A.name).filter(Boolean);C[R]={gold:k(S.gold),silver:k(S.silver),bronze:k(S.bronze)}});const m={},p=(_,S)=>{_&&(m[_]||(m[_]={name:_,gold:0,silver:0,bronze:0,points:0}),S==="gold"&&(m[_].gold+=1,m[_].points+=3),S==="silver"&&(m[_].silver+=1,m[_].points+=2),S==="bronze"&&(m[_].bronze+=1,m[_].points+=1))};Object.values(C).forEach(_=>{(_.gold||[]).forEach(S=>p(S,"gold")),(_.silver||[]).forEach(S=>p(S,"silver")),(_.bronze||[]).forEach(S=>p(S,"bronze"))});const y=Object.values(m);y.sort((_,S)=>S.points!==_.points?S.points-_.points:S.gold!==_.gold?S.gold-_.gold:S.silver!==_.silver?S.silver-_.silver:S.bronze!==_.bronze?S.bronze-_.bronze:String(_.name).localeCompare(String(S.name),"ko")),l(y.slice(0,10))},[t,n,f]),b.useMemo(()=>[1,2,3,4,5,6,7,8,9,10,11,12],[]),b.useMemo(()=>new Date().getMonth()+1,[]),b.useMemo(()=>String(new Date().getMonth()+1).padStart(2,"0"),[]),a.jsxs("div",{style:{padding:20,minHeight:"100vh",background:"#F4F5FB",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[a.jsx("h2",{style:{color:"#FF9F1C",marginBottom:20},children:"  "}),a.jsxs("div",{style:{background:"#fff",padding:"40px",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",textAlign:"center"},children:[a.jsx("h3",{style:{color:"#1D3557"},children:"<   >"}),a.jsx("p",{style:{color:"#666"},children:"     .    ."})]})]})}const UE=[{day:1,mainTitle:"  ",sections:[{subTitle:" ",bibleRef:" 1-3"},{subTitle:" ,  ",bibleRef:" 4-5"},{subTitle:"   ",bibleRef:" 6-9"}]},{day:2,mainTitle:"  ",sections:[{subTitle:"   ",bibleRef:" 11-13"},{subTitle:"   ",bibleRef:" 14-16"},{subTitle:"    ",bibleRef:" 17-18"}]},{day:3,mainTitle:"   ",sections:[{subTitle:"   ",bibleRef:" 19-21"},{subTitle:"    ",bibleRef:" 22-24"},{subTitle:"    ",bibleRef:" 27-28"}]},{day:4,mainTitle:"  ",sections:[{subTitle:"    ",bibleRef:" 29-31"},{subTitle:"    ",bibleRef:" 32-33"},{subTitle:"    ",bibleRef:" 35-37"}]},{day:5,mainTitle:"   ",sections:[{subTitle:"   ",bibleRef:" 38-39"},{subTitle:"    ",bibleRef:" 40-41"},{subTitle:"   ",bibleRef:" 42-44"}]},{day:6,mainTitle:" ",sections:[{subTitle:"    ",bibleRef:" 45-47"},{subTitle:"   ",bibleRef:" 48-50"},{subTitle:"   ",bibleRef:" 1-3"}]},{day:7,mainTitle:"   ",sections:[{subTitle:"    ",bibleRef:" 4-7"},{subTitle:"    ",bibleRef:" 8-11"},{subTitle:"  ",bibleRef:" 12"}]},{day:8,mainTitle:"   ",sections:[{subTitle:"    ",bibleRef:" 13-16"},{subTitle:"   ",bibleRef:" 17-20"},{subTitle:" ",bibleRef:" 24"}]},{day:9,mainTitle:"  ",sections:[{subTitle:"   ",bibleRef:" 32-34"},{subTitle:"  ",bibleRef:" 40"},{subTitle:"   ",bibleRef:" 11, 16, 19, 23,  6"}]},{day:10,mainTitle:"  ",sections:[{subTitle:"   ",bibleRef:" 11-12"},{subTitle:"12  40 ",bibleRef:" 13-14"},{subTitle:"     ",bibleRef:" 16-17, 20"}]},{day:11,mainTitle:"  ",sections:[{subTitle:"   ",bibleRef:" 21-24"},{subTitle:"   ",bibleRef:" 6, 8, 30, 34"},{subTitle:" ",bibleRef:" 1"}]},{day:12,mainTitle:"  ",sections:[{subTitle:"  ",bibleRef:" 2-8"},{subTitle:"    ",bibleRef:" 9-11"},{subTitle:"  ",bibleRef:" 14, 20"}]},{day:13,mainTitle:"  ",sections:[{subTitle:"    ",bibleRef:" 23-24,  2"},{subTitle:", , ",bibleRef:" 4, 6-7, 13-16"},{subTitle:"  ",bibleRef:" 1-4"}]},{day:14,mainTitle:"  ",sections:[{subTitle:"   ",bibleRef:" 1-3"},{subTitle:"   ",bibleRef:" 4-7"},{subTitle:"    ",bibleRef:" 8-10"}]},{day:15,mainTitle:"   ",sections:[{subTitle:"   ",bibleRef:" 13, 15-16"},{subTitle:"    ",bibleRef:" 17-19"},{subTitle:"    ",bibleRef:" 20, 24, 26"}]},{day:16,mainTitle:"  ",sections:[{subTitle:"   ",bibleRef:" 31,  1-2, 5"},{subTitle:"   ",bibleRef:" 6-7"},{subTitle:"   ",bibleRef:" 9-10"}]},{day:17,mainTitle:"  ",sections:[{subTitle:"    ",bibleRef:" 11-12"},{subTitle:"   ",bibleRef:" 13, 15-18"},{subTitle:"   ",bibleRef:" 24,  22, 29"}]},{day:18,mainTitle:"  :   ",sections:[{subTitle:"   ",bibleRef:" 3-6, 8"},{subTitle:":  ",bibleRef:" 1-4"}]},{day:19,mainTitle:" :  ,  ",sections:[{subTitle:":     ",bibleRef:" 1-3, 12"},{subTitle:":  ",bibleRef:" 2"},{subTitle:":   ",bibleRef:" 1-2, 38, 42"}]},{day:20,mainTitle:" ",sections:[{subTitle:":     ",bibleRef:" 1, 19, 23, 51, 103, 150"},{subTitle:"   ",bibleRef:" 11-12"},{subTitle:" ",bibleRef:" 13"}]},{day:21,mainTitle:"  :   ",sections:[{subTitle:"   ",bibleRef:" 17-18"},{subTitle:"  ",bibleRef:" 19"},{subTitle:"   ",bibleRef:" 2, 4-5, 6"}]},{day:22,mainTitle:"  :   ",sections:[{subTitle:":   ",bibleRef:" 1-4"},{subTitle:":  ",bibleRef:" 5, 9"},{subTitle:":   ",bibleRef:" 1-3"},{subTitle:" ",bibleRef:" 17"}]},{day:23,mainTitle:" ",sections:[{subTitle:"   ",bibleRef:" 18-20"},{subTitle:"   ",bibleRef:" 1, 6-7, 9, 11, 36"}]},{day:24,mainTitle:" 2 :   ",sections:[{subTitle:"  ",bibleRef:" 40, 43"},{subTitle:"  ",bibleRef:" 53, 55"},{subTitle:"  ",bibleRef:" 60-61, 65-66"}]},{day:25,mainTitle:"   :  ",sections:[{subTitle:"   ",bibleRef:" 21-23"},{subTitle:"   ",bibleRef:" 1, 7"},{subTitle:"  ",bibleRef:" 1-3,  3"}]},{day:26,mainTitle:"   :  ",sections:[{subTitle:"   ",bibleRef:" 24-25"},{subTitle:"    ",bibleRef:" 29, 31, 33, 52"},{subTitle:":   ",bibleRef:" 3"}]},{day:27,mainTitle:"  :  ",sections:[{subTitle:"   ",bibleRef:" 1, 3, 6, 9"},{subTitle:":     ",bibleRef:" 1, 36, 37, 47"}]},{day:28,mainTitle:"   :  ",sections:[{subTitle:"  1 ",bibleRef:" 1, 3-4"},{subTitle:"   ",bibleRef:" 1-2,  4, 9"},{subTitle:" ",bibleRef:" 6"}]},{day:29,mainTitle:"  :   ",sections:[{subTitle:"   ",bibleRef:" 1-9"},{subTitle:" 2   ",bibleRef:" 7, 9-10"}]},{day:30,mainTitle:"  :   ",sections:[{subTitle:"  ",bibleRef:" 1-4, 6"},{subTitle:"   ",bibleRef:" 8, 13"},{subTitle:":   ",bibleRef:" 1, 3-4"}]}],HE=[{day:1,mainTitle:" ",sections:[{subTitle:"  ",bibleRef:" 1"},{subTitle:"  ",bibleRef:" 1-2"},{subTitle:" ",bibleRef:" 2"}]},{day:2,mainTitle:" ",sections:[{subTitle:"  ",bibleRef:" 3-4"},{subTitle:"   ",bibleRef:" 2"},{subTitle:" ",bibleRef:" 3"}]},{day:3,mainTitle:" ",sections:[{subTitle:" ",bibleRef:" 4"},{subTitle:"   ",bibleRef:" 5"},{subTitle:"  ",bibleRef:" 5"}]},{day:4,mainTitle:"",sections:[{subTitle:"  ",bibleRef:" 5"},{subTitle:", , ",bibleRef:" 6"},{subTitle:"  ",bibleRef:" 7"},{subTitle:" ",bibleRef:" 7"}]},{day:5,mainTitle:" ",sections:[{subTitle:" ",bibleRef:" 4"},{subTitle:"   ",bibleRef:" 5"},{subTitle:"  ",bibleRef:" 10"},{subTitle:"    ",bibleRef:" 11-12"}]},{day:6,mainTitle:"  ",sections:[{subTitle:"    ",bibleRef:" 13"},{subTitle:"   ",bibleRef:" 14"},{subTitle:" ",bibleRef:" 6"}]},{day:7,mainTitle:" ",sections:[{subTitle:" ",bibleRef:" 16"},{subTitle:" ",bibleRef:" 17"},{subTitle:"   ",bibleRef:" 9"}]},{day:8,mainTitle:"  ",sections:[{subTitle:"  ",bibleRef:" 10"},{subTitle:" , , ",bibleRef:" 15"},{subTitle:"  ",bibleRef:" 16"}]},{day:9,mainTitle:" ",sections:[{subTitle:" ",bibleRef:" 11"},{subTitle:"  ",bibleRef:" 12"},{subTitle:" ",bibleRef:" 19"},{subTitle:"   ",bibleRef:" 21"}]},{day:10,mainTitle:"  ",sections:[{subTitle:"   ",bibleRef:" 22"},{subTitle:"   ",bibleRef:" 23"},{subTitle:" ",bibleRef:" 24"},{subTitle:"   ",bibleRef:" 25"}]},{day:11,mainTitle:" ",sections:[{subTitle:"  ",bibleRef:" 13"},{subTitle:"  ",bibleRef:" 14"},{subTitle:" ",bibleRef:" 15"},{subTitle:"   ",bibleRef:" 16-17"}]},{day:12,mainTitle:"  ",sections:[{subTitle:"  ",bibleRef:" 26"},{subTitle:"  ",bibleRef:" 27"}]},{day:13,mainTitle:" ",sections:[{subTitle:"   ",bibleRef:" 20"},{subTitle:"  ",bibleRef:" 21"},{subTitle:"  ",bibleRef:" 24"},{subTitle:" ",bibleRef:" 28"}]},{day:14,mainTitle:" ",sections:[{subTitle:"  ",bibleRef:" 1"},{subTitle:"  ",bibleRef:" 2"},{subTitle:"  ",bibleRef:" 3"},{subTitle:"  ",bibleRef:" 4"}]},{day:15,mainTitle:" ",sections:[{subTitle:" ",bibleRef:" 5"},{subTitle:"   ",bibleRef:" 6-7"},{subTitle:"  ",bibleRef:" 8"},{subTitle:" ",bibleRef:" 9"}]},{day:16,mainTitle:"  ",sections:[{subTitle:"  ",bibleRef:" 10"},{subTitle:"   ",bibleRef:" 11"},{subTitle:":  ",bibleRef:" 1-2"}]},{day:17,mainTitle:"1   :  ",sections:[{subTitle:"  ",bibleRef:" 13"},{subTitle:" ",bibleRef:" 14"},{subTitle:":   ",bibleRef:" 1-3"}]},{day:18,mainTitle:"2   :  ",sections:[{subTitle:" ",bibleRef:" 15"},{subTitle:"  ",bibleRef:" 16"},{subTitle:"  ",bibleRef:" 17"},{subTitle:":  ",bibleRef:" 4"}]},{day:19,mainTitle:"3   :   ",sections:[{subTitle:"  ",bibleRef:" 18"},{subTitle:"  ",bibleRef:" 19"},{subTitle:":  ",bibleRef:" 1, 13, 15"}]},{day:20,mainTitle:" :   ",sections:[{subTitle:"  ",bibleRef:" 20"},{subTitle:":  ",bibleRef:" 4-5"},{subTitle:"   ",bibleRef:" 12"}]},{day:21,mainTitle:" 1 :  ",sections:[{subTitle:"   ",bibleRef:" 1-2"},{subTitle:"   ",bibleRef:" 3"},{subTitle:"  ",bibleRef:" 4-5"}]},{day:22,mainTitle:" 2 :  ",sections:[{subTitle:"   ",bibleRef:" 6"},{subTitle:"   ",bibleRef:" 8"},{subTitle:"    ",bibleRef:" 12"}]},{day:23,mainTitle:"  :  ",sections:[{subTitle:"   ",bibleRef:" 21-22"},{subTitle:"    ",bibleRef:" 23"},{subTitle:"   ",bibleRef:" 26"}]},{day:24,mainTitle:"   :  ",sections:[{subTitle:"  ",bibleRef:" 27"},{subTitle:"   ",bibleRef:" 28"},{subTitle:":   ",bibleRef:" 1, 3"}]},{day:25,mainTitle:"  :  ",sections:[{subTitle:":    ",bibleRef:" 1-2"},{subTitle:" ",bibleRef:" 6"},{subTitle:":  ",bibleRef:" 1"}]},{day:26,mainTitle:" :  ",sections:[{subTitle:"  ",bibleRef:" 1"},{subTitle:" ",bibleRef:" 2"},{subTitle:" ",bibleRef:" 3"},{subTitle:"    ",bibleRef:" 4"}]},{day:27,mainTitle:"  :   ",sections:[{subTitle:":  ",bibleRef:" 6"},{subTitle:":    ",bibleRef:" 1-2"},{subTitle:"   ",bibleRef:" 4"}]},{day:28,mainTitle:" :   ",sections:[{subTitle:"  ",bibleRef:" 1"},{subTitle:"  ",bibleRef:" 4"},{subTitle:"  ",bibleRef:" 11"},{subTitle:"    ",bibleRef:" 12"}]},{day:29,mainTitle:" :  ",sections:[{subTitle:":  ",bibleRef:" 1"},{subTitle:":   ",bibleRef:" 1"},{subTitle:" ",bibleRef:" 4"},{subTitle:":   ",bibleRef:" 3-5"}]},{day:30,mainTitle:" :  ",sections:[{subTitle:" ",bibleRef:" 1"},{subTitle:" ",bibleRef:" 4"},{subTitle:"   ",bibleRef:" 21"},{subTitle:"   ",bibleRef:" 22"}]}],ka=[{name:"",chapters:50},{name:"",chapters:40},{name:"",chapters:27},{name:"",chapters:36},{name:"",chapters:34},{name:"",chapters:24},{name:"",chapters:21},{name:"",chapters:4},{name:"",chapters:31},{name:"",chapters:24},{name:"",chapters:22},{name:"",chapters:25},{name:"",chapters:29},{name:"",chapters:36},{name:"",chapters:10},{name:"",chapters:13},{name:"",chapters:10},{name:"",chapters:42},{name:"",chapters:150},{name:"",chapters:31},{name:"",chapters:12},{name:"",chapters:8},{name:"",chapters:66},{name:"",chapters:52},{name:"",chapters:5},{name:"",chapters:48},{name:"",chapters:12},{name:"",chapters:14},{name:"",chapters:3},{name:"",chapters:9},{name:"",chapters:1},{name:"",chapters:4},{name:"",chapters:7},{name:"",chapters:3},{name:"",chapters:3},{name:"",chapters:3},{name:"",chapters:2},{name:"",chapters:14},{name:"",chapters:4},{name:"",chapters:28},{name:"",chapters:16},{name:"",chapters:24},{name:"",chapters:21},{name:"",chapters:28},{name:"",chapters:16},{name:"",chapters:16},{name:"",chapters:13},{name:"",chapters:6},{name:"",chapters:6},{name:"",chapters:4},{name:"",chapters:4},{name:"",chapters:5},{name:"",chapters:3},{name:"",chapters:6},{name:"",chapters:4},{name:"",chapters:3},{name:"",chapters:1},{name:"",chapters:13},{name:"",chapters:5},{name:"",chapters:5},{name:"",chapters:3},{name:"1",chapters:5},{name:"2",chapters:1},{name:"3",chapters:1},{name:"",chapters:1},{name:"",chapters:22}],VE=ka.slice(0,39),oy=ka.slice(39),ly=VE.reduce((t,e)=>t+e.chapters,0),ay=oy.reduce((t,e)=>t+e.chapters,0),YE=ly+ay,GE=461,QE=468;function KE(t){if(t<=0)return[];if(t===1)return[Array.from({length:31},(s,o)=>o+1)];const n=[],r=Math.max(0,t-1);for(let s=1;s<=r;s++)n.push([s]);const i=[];for(let s=r+1;s<=31;s++)i.push(s);return n.push(i),n}const qE={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",1:"",2:"",3:"",:"",:""};function Up(t){return qE[t]||t}function XE(t){return ka.find(e=>e.name===t)}function JE(t,e){const n=[];for(let r=1;r<=e;r++)n.push({book:t,chapter:r});return n}function ZE(t){const e=[];return t.forEach(n=>{n&&e.push(...JE(n.name,n.chapters))}),e}function Hp(t){if(!t||t.length===0)return"";const e=[];let n={book:t[0].book,start:t[0].chapter,end:t[0].chapter};for(let i=1;i<t.length;i++){const s=t[i];s.book===n.book&&s.chapter===n.end+1?n.end=s.chapter:(e.push(n),n={book:s.book,start:s.chapter,end:s.chapter})}return e.push(n),e.map(i=>i.start===i.end?`${i.book} ${i.start}`:`${i.book} ${i.start}~${i.end}`).join(" / ")}function ek(t,e){const n=Math.floor(t/e);let r=t%e;const i=[];for(let s=0;s<e;s++)i.push(n+(r>0?1:0)),r>0&&r--;return i}function tk(t,e){const n=e.length,r=ek(t.length,n);let i=0;const s=[];for(let o=0;o<n;o++){const l=r[o],c=t.slice(i,i+l);i+=l,s.push({date:e[o],items:c})}return s}const cy=["","","","","","","","","","","","","","",""],uy=["","","","","","","","","","","","","","","","","","","","","","",""],nk=[...cy,...uy],Vp=[...ka.filter(t=>t.name!=="").map(t=>t.name)],rk=oy.map(t=>t.name);function Xr(t){return ZE(t.map(XE))}const yc={};function ik(t){if(yc[t])return yc[t];let e=[];return t===""?e=Xr(Vp):t===""?e=Xr(nk):t===""?e=Xr(rk):t==="(A)"?e=Xr(cy):t==="(B)"?e=Xr(uy):e=Xr(Vp),yc[t]=e,e}function sk(t){return t===""||t===""||t==="(B)"}function ok(t){const e=[],n=t.split(",");let r="";for(let i of n){if(i=i.trim(),!i)continue;i=i.replace(/\([^)]*\)/g,"").trim();const s=i.match(/^([-]+(?:\s?[-]+)?)/);if(s&&(r=s[1].trim(),i=i.substring(r.length).trim()),i=i.replace(//g,"").trim(),i.includes("-")){const[o,l]=i.split("-"),c=parseInt(o,10),u=parseInt(l,10);if(!isNaN(c)&&!isNaN(u))for(let f=c;f<=u;f++)r&&e.push({book:r,chapter:f})}else{const o=parseInt(i,10);isNaN(o)||r&&e.push({book:r,chapter:o})}}return e}function vc(t,e){return t?e?{day:t.day,mainTitle:`${t.mainTitle} & ${e.mainTitle}`,sections:[...t.sections||[],...e.sections||[]]}:t:e}function cr(t,e){if(t===""||t===""){const o=t===""?UE:HE,l=e.length;let c=[];if(l===31)c=[...o,{day:31,mainTitle:"  ",sections:[{subTitle:"    ",bibleRef:""}]}];else if(l===30)c=[...o];else if(l===29){const u=vc(o[25],o[26]);c=[...o.slice(0,25),u,...o.slice(27)]}else if(l===28){const u=vc(o[4],o[5]),f=vc(o[25],o[26]);c=[...o.slice(0,4),u,...o.slice(6,25),f,...o.slice(27,30)]}else c=o.slice(0,l);return e.map((u,f)=>{const d=f;if(d>=c.length)return{date:u,items:[],chapters:0,label:" "};const h=c[d];let x=[];const v=h.sections.map(m=>{const p=ok(m.bibleRef);return x=[...x,...p],{...m,items:p}}),w=x.filter((m,p,y)=>y.findIndex(_=>_.book===m.book&&_.chapter===m.chapter)===p),C=Hp(w);return{date:u,items:w,chapters:w.length,label:`[${h.mainTitle}] ${C}`,panorama:{...h,parsedSections:v}}})}const n=ik(t),r=tk(n,e),i=sk(t),s=i?KE(e.length):[];return r.map((o,l)=>{let c=o.items;if(i){const x=(s[l]||[]).map(v=>({book:"",chapter:v}));c=[...c,...x]}const u=c.length,d=`${Hp(c)} ( ${u})`;return{date:o.date,items:c,chapters:u,label:d}})}function lk(t={},e={},n,r){const i=rn(n,r);if(!i||i.length===0)return{ranking:[],medalCounts:{gold:0,silver:0,bronze:0}};const s=ue,o={};s.forEach(h=>{const x=cr(h,i),v={};(x||[]).forEach(w=>{!w||!w.date||(v[w.date]=w)}),o[h]=v});const l={};s.forEach(h=>{const x=t&&t[h],v=x&&x.users;if(!v)return;const w=o[h]||{};Object.entries(v).forEach(([C,m])=>{const p=m&&m.checks||{};let y=0;i.forEach(_=>{if(p[_]){const S=w[_];S&&typeof S.chapters=="number"&&S.chapters>0&&(y+=S.chapters)}}),l[C]||(l[C]={uid:C,crew:h,chapters:0}),l[C].chapters+=y})});const c=1189,u=929,f=Object.values(l).map(h=>{const x=e[h.uid]||{},v=x.crew||h.crew;let w=null;const C=o[v]||{};let m=0;return Object.values(C).forEach(p=>{m+=p.chapters||0}),v===""&&h.chapters>=c&&h.chapters>=m?w="gold":v===""&&h.chapters>=u&&h.chapters>=m?w="silver":(v===""||v.includes("")||v.includes(""))&&h.chapters>=m&&m>0&&(w="bronze"),{uid:h.uid,name:x.name||"",crew:v,chapters:h.chapters,medal:w}});f.sort((h,x)=>x.chapters-h.chapters);const d={gold:0,silver:0,bronze:0};return f.forEach(h=>{h.medal==="gold"&&d.gold++,h.medal==="silver"&&d.silver++,h.medal==="bronze"&&d.bronze++}),{ranking:f,medalCounts:d}}function bf({dates:t,todayKey:e,userChecks:n,userDailyActivity:r}){const i=n||{},s=r||{},o=!!i[e],l=!!(s[e]&&s[e].biblePageVisited),c=Array.isArray(t)?t.indexOf(e):-1,u=c>=0?t.slice(0,c+1):[],f=c>0?t.slice(0,c):[],d=u.length>0&&u.every(v=>!!i[v]),h=f.length===0?!0:f.every(v=>!!i[v]),x=f.some(v=>!i[v]);return d?{key:"success",label:" "}:l&&!o?{key:"running",label:"  .."}:h&&!o?{key:"ready",label:" "}:x?{key:"missed",label:" !"}:{key:"ready",label:" "}}function ak(){const t=Nn(),[e,n]=b.useState({}),[r,i]=b.useState({}),[s,o]=b.useState(()=>{const g={};return ue.forEach(E=>g[E]=[]),g}),[l,c]=b.useState(null),[u,f]=b.useState({}),[d,h]=b.useState(""),[x,v]=b.useState("");b.useState({year:null,month:null});const[w,C]=b.useState({}),[m,p]=b.useState(""),[y,_]=b.useState(""),[S,R]=b.useState(""),[k,P]=b.useState({:"",:"",:""}),[A,N]=b.useState({:"manual",:"manual",:"manual"}),[$,H]=b.useState({:[],:[],:[]}),[q,_e]=b.useState({:[],:[],:[]}),[pe,L]=b.useState({});b.useState([]),b.useState("");const[V,I]=b.useState({}),[O,z]=b.useState(!1);b.useState("");const[Q,ie]=b.useState(""),[je,Fe]=b.useState(new Date().getFullYear()),[nt,Ct]=b.useState(new Date().getMonth()+1),[Ve,Hi]=b.useState(""),[Vi,Ta]=b.useState("gold"),[Yi,Ra]=b.useState(!1),[Gi,ja]=b.useState(new Date().getFullYear()),[hr,Qi]=b.useState(new Date().getMonth()+1),[sn,Ki]=b.useState(""),[Vt,wo]=b.useState({}),An=b.useRef(null),[pn,ut]=b.useState(""),rt=Q0(),At=So(),[Ia,qi]=b.useState([]),[pr,mr]=b.useState(""),[Xi,Gr]=b.useState(null),[Co,Eo]=b.useState(!1),[mn,Ji]=b.useState(""),[gr,j]=b.useState(""),[X,ae]=b.useState([]),[De,Et]=b.useState(!1),[yt,Dt]=b.useState("all"),[yr,Zi]=b.useState(new Date().getFullYear()),[Yt,vr]=b.useState(!1),[Pt,on]=b.useState(!1),[gn,ko]=b.useState(!1),[Me,Dn]=b.useState(!1),[Qr,es]=b.useState(null),[Sf,wf]=b.useState(!1),[dy,Cf]=b.useState({}),_r=b.useRef(null);b.useEffect(()=>{const g=new Date,E=g.getFullYear(),T=g.getMonth()+1,D=rn(E,T);if(!D||D.length===0){const Le={};ue.forEach(Ft=>Le[Ft]=[]),o(Le);return}const Y=g.getDate(),K=D.slice(0,Y),J=`${E}-${String(T).padStart(2,"0")}-${String(Y).padStart(2,"0")}`,xe=ue,be={};xe.forEach(Le=>{const Ft=cr(Le,D),st={};Ft.forEach(rs=>{st[rs.date]=rs}),be[Le]=st}),xe.forEach(Le=>{});const se={};ue.forEach(Le=>se[Le]=[]);const it=new Set;ue.forEach(Le=>{($[Le]||[]).forEach(st=>{e[st],it.add(st),Ef(Le,st,e,r,be,K,D,J,se)})}),Object.entries(e||{}).forEach(([Le,Ft])=>{if(it.has(Le))return;const st=Ft.crew;st&&ue.includes(st)&&Ef(st,Le,e,r,be,K,D,J,se)}),Object.keys(se).forEach(Le=>{se[Le].sort((Ft,st)=>st.chapters-Ft.chapters)}),o(se)},[r,e,$]);function Ef(g,E,T,D,Y,K,J,xe,be){const se=D[g]||{},Le=(se.users&&se.users[E]||{}).checks||{};let Ft=0,st=0;K.forEach(If=>{const To=Y[g]&&Y[g][If];To&&typeof To.chapters=="number"&&(st+=To.chapters,Le[If]&&(Ft+=To.chapters))});const rs=T&&T[E]?T[E]:{},jy=rs.name||E,Iy=st>0?Math.round(Ft/st*100):0,jf=bf({dates:J,todayKey:xe,userChecks:Le,userDailyActivity:rs.dailyActivity||{}});be[g].push({uid:E,name:jy,chapters:Ft,progress:Iy,stateKey:jf.key,stateLabel:jf.label})}b.useEffect(()=>{const g=OC(E=>{const T=E||{},D={};ue.forEach(Y=>{D[Y]=T[Y]||"manual"}),N(D)});return()=>{typeof g=="function"&&g()}},[]),b.useEffect(()=>{const g=NC(E=>{L(E||{})});return()=>{typeof g=="function"&&g()}},[]),b.useEffect(()=>{async function g(){if(rt){z(!0);try{const E=await Np(rt);I(E||{})}catch(E){console.error("  ",E)}finally{z(!1)}}}g()},[rt,Qr]),b.useEffect(()=>{const g=DC(rt,E=>{es(E),E?Np(rt).then(Cf):Cf({})});return()=>{g&&g()}},[rt]);async function kf(g,E){if(window.confirm(`${g}    ?
(     ,   .)`)){wf(!0);try{await AC(g,E),alert(`${g}    .`)}catch(T){console.error(T),alert("    .")}finally{wf(!1)}}}b.useEffect(()=>{const g=gf(n),E=V0(i),T=q0(D=>{D?(h(D.title||""),v(D.content||"")):(h(""),v(""))});return()=>{if(typeof g=="function"&&g(),typeof E=="function"&&E(),typeof T=="function"&&T(),_r.current){try{_r.current()}catch{}_r.current=null}}},[]),b.useEffect(()=>{const g=vf(E=>{const T=E||{};C(T),p(T.churchName||""),_(T.appDescription||""),R(T.bulletinUrl||"")});return()=>{typeof g=="function"&&g()}},[]),b.useEffect(()=>{const g=ue,E=[];return g.forEach(T=>{const D=Fu(T,rt,Y=>{const K=Y?Object.keys(Y):[];H(J=>({...J,[T]:K}))});typeof D=="function"&&E.push(D)}),()=>{E.forEach(T=>{try{T()}catch{}})}},[rt]),b.useEffect(()=>{const g=ue,E=[];return g.forEach(T=>{const D=Fu(T,At,Y=>{const K=Y?Object.keys(Y):[];_e(J=>({...J,[T]:K}))});typeof D=="function"&&E.push(D)}),()=>{E.forEach(T=>{try{T()}catch{}})}},[At]),Object.entries(e||{}).map(([g,E])=>({uid:g,...E}));function fy(g){const T=(k[g]||"").toString().split(/[,,\s]+/).map(J=>J.trim()).filter(Boolean);if(T.length===0)return;const D=/^[-a-zA-Z]+$/,Y=T.filter(J=>!D.test(J));if(Y.length>0){alert(`    (, ,  )  :
${Y.join(", ")}

(  )  .`);return}const K=T.map(J=>{const xe=Object.entries(e||{}).find(([be,se])=>se.name===J);return{name:J,uid:xe?xe[0]:null}});_C(g,rt,K).then(()=>{P(J=>({...J,[g]:""}))})}function Na(g,E){MC(g,E).then(()=>{}).catch(T=>{console.error(T),alert("     .")})}async function hy(g){if(window.confirm(`${g}    ? (   .)`))try{const T=($[g]||[]).map(D=>rC(D,null));await Promise.all(T),await xC(g,rt),alert(`${g}   ,     .`)}catch(E){console.error(E),alert("   .")}}function py(g,E=null){const T=e[g];if(_r.current){try{_r.current()}catch{}_r.current=null}if(c({uid:g,...T}),Ki(E||(T==null?void 0:T.crew)||""),T&&T.crew){const D=Ip(T.crew,g,f);typeof D=="function"&&(_r.current=D)}else f({})}b.useEffect(()=>{if(!(l!=null&&l.uid)||!sn){wo({});return}if(An.current){try{An.current()}catch{}An.current=null}const g=Ip(sn,l.uid,wo);return An.current=g,()=>{if(An.current)try{An.current()}catch{}}},[l==null?void 0:l.uid,Gi,hr,sn]);function my(g,E){if(!(l!=null&&l.uid)||!sn)return;const T=!E;H0(sn,l.uid,g,T).catch(D=>{console.error("  ",D),alert("  .")})}async function Tf(g,E){if(!g)return;const T=E?`(${E})`:"";window.confirm(` ? ${T}

- : 0000
-      .`)&&(await wC(g),alert(" 0000 ."))}async function gy(g,E){if(!g)return;const T=E?`(${E})`:"";window.confirm(` ? ${T}

-   ' ' .
-    .`)&&(await sC(g),alert("() ."))}async function yy(g,E){if(!g)return;const T=E?`(${E})`:"";window.confirm(`  ? ${T}`)&&(await oC(g),alert("."))}async function vy(g,E){if(!g)return;const T=E?`(${E})`:"";window.confirm(`  ? ${T}

- users  .
-  (  )   .
-   .`)&&(await lC(g),alert(" ."))}async function _y(){const g=window.prompt("    .");g&&(await TC(g),alert("  . (  8395  .)"))}function xy(){window.confirm("   ?")&&mC().then(()=>{alert("  .")})}async function by(){if(window.confirm(`3   DB  .
  .

?`))try{const E=await pC(3);alert(` : ${(E==null?void 0:E.deleted)||0} .`)}catch(E){console.error("  ",E),alert("   .   .")}}function Sy(g){const E=Ye(g);window.confirm(`${E}    .
  .

?`)&&dC(g).then(()=>{alert(`${E}    .`)})}function wy(){const g=new Date;let E=g.getFullYear(),T=g.getMonth()+1;T===1?(E=E-1,T=12):T=T-1;const{ranking:D}=lk(r,e,E,T);if(!D||D.length===0){alert("   .");return}const Y=G0(E,T,D),K={};D.forEach(xe=>{var it;const be=((it=e[xe.uid])==null?void 0:it.medals)||{},se=(be.gold||0)+(be.silver||0)+(be.bronze||0);K[xe.uid]={uid:xe.uid,name:xe.name,crew:xe.crew,chapters:xe.chapters,progress:100,stateLabel:xe.medal?"":"",totalMedals:se}});const J=UC(E,T,K);Promise.all([Y,J]).then(()=>{alert(`${E} ${T}      .`),Ap().then(qi)})}async function Cy(){if(!Q||!je||!nt||!Ve){alert(", , ,   / .");return}const g=Math.min(12,Math.max(1,Number(nt)||0)),T=Object.entries(e||{}).find(([Y,K])=>(K&&K.name)===Q);if(!T){alert("     . (   )");return}const[D]=T;Ra(!0);try{const Y=await vC(je,g,D,Vi,Ve);alert(Y?"      .":"  .    .")}catch(Y){console.error(Y),alert("    .")}}b.useEffect(()=>{Ap().then(qi)},[]);async function Ey(g){if(mr(g),!g){Gr(null);return}Eo(!0);try{const E=await HC(g);Gr(E)}catch(E){console.error(E),alert("    .")}finally{Eo(!1)}}async function Aa(g){const E=g||yr;Et(!0);try{const T=await VC(E),D={};Object.entries(T).forEach(([K,J])=>{["gold","silver","bronze"].forEach(xe=>{(J[xe]||[]).forEach(be=>{const se=be.name,it=be.crew;D[se]||(D[se]={name:se,crews:{},totalBible:0,cnt:{adv:0,int:0,nt:0,ota:0,otb:0}}),D[se].crews[it]=(D[se].crews[it]||0)+1,it===""&&D[se].cnt.adv++,it===""&&D[se].cnt.int++,it===""&&D[se].cnt.nt++,it==="(A)"&&D[se].cnt.ota++,it==="(B)"&&D[se].cnt.otb++})})});const Y=Object.values(D).map(K=>{let J=0,xe=K.cnt.nt;J+=K.cnt.adv;const be=Math.min(K.cnt.int,xe);J+=be,xe-=be;const se=Math.min(K.cnt.ota,K.cnt.otb,xe);return J+=se,{...K,totalBible:J}});ae(Y.sort((K,J)=>J.totalBible-K.totalBible||K.name.localeCompare(J.name)))}catch(T){console.error(T),alert("     .")}finally{Et(!1)}}b.useEffect(()=>{Aa()},[]);const ky=X.filter(g=>yt==="all"?!0:yt==="full"?g.totalBible>0:(g.crews[yt]||0)>0),ts=Object.entries(e||{}).filter(([g,E])=>{if(!E||(E.status||"active")==="inactive")return!1;const T=Object.values($).some(D=>Array.isArray(D)&&D.includes(g));return!E.crew&&!T}).map(([g,E])=>({uid:g,...E})),ns=Object.entries(e||{}).filter(([g,E])=>E&&(E.status||"")==="inactive").map(([g,E])=>({uid:g,...E}));async function Ty(){if(!mn||!gr){alert("    .");return}const g=Object.entries(e).find(([D,Y])=>(Y.name||"").trim()===mn.trim());if(!g){alert("     . (   )");return}const[E,T]=g;if(window.confirm(`${mn}  ${Ye(gr)}   ?`))try{await K0(gr,E,T.name),alert(" .       ."),Ji(""),j("")}catch(D){console.error(D),alert(" : "+(D.message||D))}}async function Ry(){if(!mn){alert("  .");return}const g=(mn||"").trim(),E=Object.entries(e).find(([be,se])=>(se.name||"").trim()===g);if(!E){alert("     .");return}const[T,D]=E,Y=Hn(D.name);let K=gr,J="";for(const[be,se]of Object.entries(q))if(Array.isArray(se)&&se.some(it=>Hn(it)===Y)){K=be,J="( )";break}if(!J&&pe){for(const[be,se]of Object.entries(pe))if(se&&se[T]){K=be,J="(  )";break}}if(!K){alert("  /    .");return}const xe=Ye(K);if(window.confirm(`${mn}  ${xe}  ? ${J}`))try{await yf(T,K),alert("."),Ji(""),j("")}catch(be){console.error(be),alert(" : "+(be.message||be))}}async function Rf(g,E,T){const D=T?"":"";if(window.confirm(`${E}  ${D} ?
(      .)`))try{await RC(g,!T),alert(`${E}  ${D} .`)}catch(Y){console.error(Y),alert(" .")}}return a.jsxs("div",{style:{padding:20,minHeight:"100vh",background:"#F1FAEE"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[a.jsx("h2",{style:{color:"#1D3557",margin:0},children:"  "}),a.jsx("button",{onClick:()=>t("/home"),style:{padding:"8px 16px",borderRadius:10,border:"none",background:"#457B9D",color:"#fff",fontSize:14,fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:"  "})]}),a.jsx("p",{style:{marginBottom:20},children:"  ,  , /     ."}),a.jsx("div",{style:{marginBottom:18},children:a.jsx("button",{type:"button",onClick:()=>t("/admin/class-notice"),style:{padding:"10px 14px",borderRadius:10,border:"none",background:"#111827",color:"#fff",fontSize:14,fontWeight:800,cursor:"pointer",boxShadow:"0 6px 16px rgba(0,0,0,0.10)"},children:"   "})}),a.jsxs("div",{style:{marginBottom:20,padding:16,borderRadius:12,background:"#FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.04)"},children:[a.jsx("h3",{style:{marginBottom:8,color:"#1D3557"},children:"[1]   "}),a.jsxs("div",{style:{marginBottom:8},children:[a.jsx("label",{style:{fontSize:13,display:"block",marginBottom:4},children:" "}),a.jsxs("div",{style:{display:"flex",gap:8},children:[a.jsx("input",{style:{flex:1,padding:8,borderRadius:6,border:"1px solid #ccc"},value:m,onChange:g=>p(g.target.value),placeholder:": "}),a.jsx("button",{type:"button",onClick:()=>{BC(m||""),alert("  .")},style:{padding:"8px 12px",borderRadius:6,border:"none",background:"#1D3557",color:"#fff",fontSize:13,cursor:"pointer"},children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:13,display:"block",marginBottom:4},children:"   "}),a.jsx("textarea",{style:{width:"100%",minHeight:80,padding:8,borderRadius:6,border:"1px solid #ccc",resize:"vertical"},value:y,onChange:g=>_(g.target.value),placeholder:"     ."}),a.jsx("button",{type:"button",onClick:()=>{LC(y||""),alert("  .")},style:{marginTop:8,padding:"8px 12px",borderRadius:6,border:"none",background:"#457B9D",color:"#fff",fontSize:13,cursor:"pointer"},children:" "})]}),a.jsxs("div",{style:{marginTop:14},children:[a.jsx("label",{style:{fontSize:13,display:"block",marginBottom:4},children:"   (URL)"}),a.jsxs("div",{style:{display:"flex",gap:8},children:[a.jsx("input",{style:{flex:1,padding:8,borderRadius:6,border:"1px solid #ccc"},value:S,onChange:g=>R(g.target.value),placeholder:": https://... (PDF/ )"}),a.jsx("button",{type:"button",onClick:()=>{zC(S||""),alert("  .")},style:{padding:"8px 12px",borderRadius:6,border:"none",background:"#457B9D",color:"#fff",fontSize:13,cursor:"pointer",whiteSpace:"nowrap"},children:""})]}),a.jsx("div",{style:{marginTop:6,fontSize:12,color:"#666"},children:"           ."})]}),a.jsxs("div",{style:{marginTop:16},children:[a.jsx("h4",{style:{marginBottom:6,color:"#1D3557"},children:"  "}),a.jsx("input",{style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #ccc",marginBottom:6},placeholder:" ",value:d,onChange:g=>h(g.target.value)}),a.jsx("textarea",{style:{width:"100%",minHeight:70,padding:8,borderRadius:6,border:"1px solid #ccc",resize:"vertical"},placeholder:"      .",value:x,onChange:g=>v(g.target.value)}),a.jsx("button",{type:"button",onClick:()=>{PC(d||"",x||""),alert("   . (   .)")},style:{marginTop:8,padding:"8px 12px",borderRadius:6,border:"none",background:"#E76F51",color:"#fff",fontSize:13,cursor:"pointer"},children:" "})]}),a.jsxs("div",{style:{marginTop:16},children:[a.jsx("h4",{style:{marginBottom:6,color:"#1D3557"},children:" "}),a.jsx("p",{style:{fontSize:12,marginBottom:6},children:"      . (  8395  .)"}),a.jsx("button",{type:"button",onClick:_y,style:{padding:"8px 12px",borderRadius:6,border:"none",background:"#264653",color:"#fff",fontSize:13,cursor:"pointer"},children:"  "})]})]}),a.jsxs("div",{style:{marginBottom:20,padding:16,borderRadius:12,background:"#FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.04)"},children:[a.jsx("h3",{style:{marginBottom:8,color:"#1D3557"},children:"[2]  "}),a.jsx("p",{style:{fontSize:12,marginBottom:12,color:"#555"},children:"      .        ."}),ue.map(g=>a.jsxs("div",{style:{marginBottom:12},children:[a.jsxs("div",{style:{fontWeight:"bold",marginBottom:4},children:[Ye(g),"  "]}),a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:4,flexWrap:"wrap",fontSize:12},children:[a.jsx("span",{style:{alignSelf:"center"},children:" :"}),a.jsx("button",{type:"button",onClick:()=>Na(g,"manual"),style:{padding:"6px 10px",borderRadius:999,border:A[g]==="manual"?"2px solid #2E7D32":"1px solid #ccc",background:A[g]==="manual"?"#E8F5E9":"#fff",color:"#2E7D32",fontWeight:"bold",cursor:"pointer"},children:"()"}),a.jsx("button",{type:"button",onClick:()=>Na(g,"all"),style:{padding:"6px 10px",borderRadius:999,border:A[g]==="all"?"2px solid #1E88E5":"1px solid #ccc",background:A[g]==="all"?"#E3F2FD":"#fff",color:"#1E88E5",fontWeight:"bold",cursor:"pointer"},children:""}),a.jsx("button",{type:"button",onClick:()=>Na(g,"closed"),style:{padding:"6px 10px",borderRadius:999,border:A[g]==="closed"?"2px solid #D32F2F":"1px solid #ccc",background:A[g]==="closed"?"#FFEBEE":"#fff",color:"#D32F2F",fontWeight:"bold",cursor:"pointer"},children:"()"})]}),a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:4},children:[a.jsx("input",{style:{flex:1,padding:8,borderRadius:6,border:"1px solid #ccc"},placeholder:" ",value:k[g]||"",onChange:E=>P(T=>({...T,[g]:E.target.value}))}),a.jsx("button",{type:"button",onClick:()=>fy(g),style:{padding:"8px 12px",borderRadius:6,border:"none",background:"#2E7D32",color:"#fff",fontWeight:"bold",cursor:"pointer"},children:""}),a.jsx("button",{type:"button",onClick:()=>hy(g),style:{padding:"8px 12px",borderRadius:6,border:"none",background:"#D32F2F",color:"#fff",fontWeight:"bold",cursor:"pointer"},children:""})]}),$[g]&&$[g].length>0&&a.jsxs("div",{style:{fontSize:12,color:"#333"},children:[a.jsx("span",{children:"   : "}),$[g].join(", ")]})]},g)),a.jsx("div",{style:{fontSize:11,color:"#777",marginTop:8},children:"*     .        ."}),a.jsxs("div",{style:{marginTop:18},children:[a.jsx("h4",{style:{marginBottom:6},children:"() "}),(!ns||ns.length===0)&&a.jsx("p",{style:{fontSize:12,color:"#666"},children:"  ."}),ns&&ns.length>0&&a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:12},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"left",padding:4},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"center",padding:4},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"center",padding:4},children:""})]})}),a.jsx("tbody",{children:ns.map(g=>a.jsxs("tr",{children:[a.jsx("td",{style:{borderBottom:"1px solid #eee",padding:4},children:g.name||g.uid}),a.jsx("td",{style:{borderBottom:"1px solid #eee",padding:4,textAlign:"center"},children:a.jsx("button",{type:"button",onClick:()=>yy(g.uid,g.name),style:{padding:"4px 8px",borderRadius:8,border:"none",background:"#457B9D",color:"#fff",fontSize:11,cursor:"pointer"},children:""})}),a.jsx("td",{style:{borderBottom:"1px solid #eee",padding:4,textAlign:"center"},children:a.jsx("button",{type:"button",onClick:()=>vy(g.uid,g.name),style:{padding:"4px 8px",borderRadius:8,border:"none",background:"#B71C1C",color:"#fff",fontSize:11,cursor:"pointer"},children:""})})]},g.uid))})]})]})]}),a.jsxs("div",{style:{marginBottom:20,padding:16,borderRadius:12,background:"#FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.04)"},children:[a.jsx("h3",{style:{marginBottom:8,color:"#1D3557"},children:"[3]      "}),a.jsx("p",{style:{fontSize:12,marginBottom:12,color:"#555"},children:"        . (     )"}),a.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:[a.jsx("input",{placeholder:" ",value:mn,onChange:g=>Ji(g.target.value),style:{padding:8,borderRadius:6,border:"1px solid #ccc"}}),a.jsxs("select",{value:gr,onChange:g=>j(g.target.value),style:{padding:8,borderRadius:6,border:"1px solid #ccc"},children:[a.jsx("option",{value:"",children:" "}),ue.map(g=>a.jsx("option",{value:g,children:Ye(g)},g))]}),a.jsx("button",{onClick:Ty,style:{padding:"8px 16px",borderRadius:6,border:"none",background:"#0B8457",color:"#fff",fontWeight:"bold",cursor:"pointer"},children:""}),a.jsx("button",{onClick:Ry,style:{padding:"8px 16px",borderRadius:6,border:"1px solid #D32F2F",background:"#fff",color:"#D32F2F",fontWeight:"bold",cursor:"pointer"},children:""})]})]}),a.jsxs("div",{style:{marginBottom:20,padding:16,borderRadius:12,background:"#FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.04)",borderLeft:"5px solid #2E7D32"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[a.jsxs("h3",{style:{margin:0,color:"#1D3557"},children:["[4]      (",At,")"]}),(()=>{const g=new Date,D=`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}`>=At;return a.jsx("button",{onClick:()=>kf(At,q),disabled:!D||Sf,style:{padding:"8px 16px",borderRadius:8,border:"none",background:D?"#2E7D32":"#ccc",color:"#fff",fontWeight:"bold",cursor:D?"pointer":"not-allowed",fontSize:13},children:Sf?" ...":`[${At}]    (  )`})})()]}),a.jsxs("p",{style:{fontSize:12,color:"#666",marginBottom:12},children:["     . ",a.jsxs("strong",{children:[At," 1  "]}),"       ."]}),ue.map(g=>{const E=q[g]||[];return E.length===0?null:a.jsxs("div",{style:{marginBottom:10,fontSize:13},children:[a.jsxs("span",{style:{fontWeight:"bold",marginRight:8},children:[Ye(g),":"]}),a.jsx("span",{style:{color:"#333"},children:E.join(", ")})]},g)}),Object.values(q).every(g=>g.length===0)&&a.jsx("div",{style:{fontSize:12,color:"#999"},children:"   ."})]}),a.jsxs("div",{style:{marginBottom:20,padding:16,borderRadius:12,background:"#FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.04)"},children:[a.jsxs("h3",{style:{marginBottom:8,color:"#1D3557"},children:["[5]      (",rt,")"]}),a.jsx("p",{style:{fontSize:12,marginBottom:12,color:"#555"},children:"    [4]        . ( ([2])      .)"}),Qr?a.jsxs("div",{children:[a.jsxs("div",{style:{fontSize:11,color:"#2E7D32",marginBottom:15,fontWeight:"bold"},children:["   : ",new Date(Qr).toLocaleString()]}),ue.map(g=>{const E=dy[g]||[],T=$[g]||[],D=new Set(E.map(Y=>Hn(Y)));return a.jsxs("div",{style:{marginBottom:20,fontSize:13},children:[a.jsxs("div",{style:{fontWeight:800,borderBottom:"2px solid #eee",paddingBottom:4,color:"#1D3557",display:"flex",justifyContent:"space-between"},children:[a.jsx("span",{children:Ye(g)}),a.jsxs("span",{style:{color:"#2E7D32"},children:[T.length,""]})]}),a.jsx("div",{style:{marginTop:8,display:"flex",flexWrap:"wrap",gap:"6px 12px",lineHeight:1.5},children:T.length===0?a.jsx("span",{style:{color:"#999",fontStyle:"italic"},children:"  "}):T.sort().map(Y=>{const K=!D.has(Hn(Y));return a.jsx("span",{style:{color:K?"#E63946":"#444",fontWeight:K?"bold":"normal",textDecoration:K?"underline":"none"},children:Y},Y)})})]},g)}),a.jsxs("div",{style:{marginTop:24,padding:"12px 14px",borderRadius:8,background:"#f8f9fa",border:"1px solid #dee2e6",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:900,fontSize:16,color:"#1D3557"},children:[a.jsx("span",{children:"    "}),a.jsxs("span",{style:{color:"#2E7D32",fontSize:20},children:[ue.reduce((g,E)=>{var T;return g+(((T=$[E])==null?void 0:T.length)||0)},0),""]})]}),a.jsx("p",{style:{fontSize:11,color:"#E63946",marginTop:10},children:"*  :       ."})]}):a.jsxs("div",{style:{fontSize:13,color:"#777",background:"#F1F3F5",padding:"30px 20px",borderRadius:12,border:"1px dashed #CED4DA",textAlign:"center"},children:[a.jsxs("p",{style:{marginBottom:15,fontWeight:"bold",color:"#495057"},children:["  (",rt,")     ."]}),a.jsxs("p",{style:{marginBottom:20,fontSize:12,color:"#868E96"},children:["        ,",a.jsx("br",{}),"    ([2] )        ."]}),a.jsx("button",{onClick:()=>kf(rt,$),style:{padding:"12px 24px",background:"#457B9D",color:"#fff",border:"none",borderRadius:8,fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",transition:"all 0.2s"},onMouseOver:g=>g.target.style.background="#1D3557",onMouseOut:g=>g.target.style.background="#457B9D",children:"<2  5 >"}),a.jsx("p",{style:{fontSize:11,marginTop:15,color:"#ADB5BD"},children:"         [5]       ."})]})]}),a.jsxs("div",{style:{marginBottom:16},children:[a.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginBottom:10},children:[ue.map(g=>a.jsxs("button",{onClick:()=>Sy(g),style:{padding:"8px 12px",borderRadius:8,border:"none",background:"#E63946",color:"#fff",fontWeight:"bold",cursor:"pointer"},title:"   ()",children:[Ye(g),"  "]},g)),a.jsx("button",{onClick:xy,style:{padding:"8px 16px",borderRadius:8,border:"none",background:"#B91C1C",color:"#fff",fontWeight:"bold",cursor:"pointer",marginLeft:4},title:"   ()",children:"[5]   "}),a.jsx("button",{onClick:by,style:{padding:"8px 16px",borderRadius:8,border:"1px solid #0B8457",background:"#fff",color:"#0B8457",fontWeight:"bold",cursor:"pointer"},title:"3   ( )",children:"3   "})]}),a.jsx("button",{onClick:wy,style:{padding:"8px 16px",borderRadius:8,border:"none",background:"#1D3557",color:"#fff",fontWeight:"bold",cursor:"pointer",marginRight:8},children:"   "})]}),a.jsxs("div",{style:{marginTop:24,padding:16,borderRadius:12,background:"#FFFFFF",boxShadow:"0 4px 10px rgba(0,0,0,0.06)"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[a.jsx("h3",{style:{margin:0},children:"[6]     "}),a.jsx("button",{onClick:()=>ko(!gn),style:{padding:"6px 12px",borderRadius:8,border:"1px solid #1D3557",background:gn?"#f1f1f1":"#fff",color:"#1D3557",fontSize:12,fontWeight:"bold",cursor:"pointer"},children:gn?" ":" "})]}),gn&&a.jsxs(a.Fragment,{children:[a.jsx("p",{style:{fontSize:12,marginBottom:10},children:"         ."}),ue.map(g=>a.jsxs("div",{style:{marginBottom:16},children:[a.jsx("h4",{style:{marginBottom:6},children:Ye(g)}),(!s[g]||s[g].length===0)&&a.jsx("p",{style:{fontSize:12,color:"#666"},children:"  ."}),s[g]&&s[g].length>0&&a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:12},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"left",padding:4},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"right",padding:4},children:" "}),a.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"right",padding:4},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"center",padding:4},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"center",padding:4},children:" "})]})}),a.jsx("tbody",{children:s[g].map(E=>a.jsxs("tr",{children:[a.jsx("td",{style:{borderBottom:"1px solid #eee",padding:4},children:E.name}),a.jsx("td",{style:{borderBottom:"1px solid #eee",padding:4,textAlign:"right"},children:E.chapters}),a.jsxs("td",{style:{borderBottom:"1px solid #eee",padding:4,textAlign:"right"},children:[E.progress,"%"]}),a.jsx("td",{style:{borderBottom:"1px solid #eee",padding:4,textAlign:"center"},children:(()=>{const T=E.stateLabel||" ",D=E.stateKey||"",Y=D==="success"||T.includes(""),K=D==="ready"||T.includes(""),J=D==="running"||T.includes("");if(D==="fail"||T.includes("!"),K)return a.jsx("span",{style:{color:"#166534",fontWeight:600},children:T});const xe={display:"inline-block",borderRadius:8,padding:"4px 16px",fontWeight:600,backgroundColor:Y?"#DCFCE7":J?"#DBEAFE":"#E5E7EB",color:Y?"#166534":J?"#1D4ED8":"#111827"};return a.jsx("span",{style:xe,children:T})})()}),a.jsx("td",{style:{borderBottom:"1px solid #eee",padding:4,textAlign:"center"},children:a.jsx("button",{type:"button",onClick:()=>Tf(E.uid,E.name),style:{padding:"4px 8px",borderRadius:8,border:"none",background:"#8D99AE",color:"#fff",fontSize:11,cursor:"pointer"},children:" 0000"})})]},E.uid))})]})]},g))]}),a.jsxs("div",{style:{marginTop:16},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6},children:[a.jsx("h4",{style:{margin:0},children:" "}),a.jsx("button",{onClick:()=>Dn(!Me),style:{padding:"4px 10px",borderRadius:8,border:"1px solid #1D3557",background:Me?"#f1f1f1":"#fff",color:"#1D3557",fontSize:11,fontWeight:"bold",cursor:"pointer"},children:Me?" ":" "})]}),Me&&a.jsxs(a.Fragment,{children:[(!ts||ts.length===0)&&a.jsx("p",{style:{fontSize:12,color:"#666"},children:"  ."}),ts&&ts.length>0&&a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:12},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"left",padding:4},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"center",padding:4},children:" "}),a.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"center",padding:4},children:""})]})}),a.jsx("tbody",{children:ts.map(g=>a.jsxs("tr",{children:[a.jsx("td",{style:{borderBottom:"1px solid #eee",padding:4},children:g.name||g.uid}),a.jsx("td",{style:{borderBottom:"1px solid #eee",padding:4,textAlign:"center"},children:a.jsx("button",{type:"button",onClick:()=>Tf(g.uid,g.name),style:{padding:"4px 8px",borderRadius:8,border:"none",background:"#8D99AE",color:"#fff",fontSize:11,cursor:"pointer"},children:" 0000"})}),a.jsx("td",{style:{borderBottom:"1px solid #eee",padding:4,textAlign:"center"},children:a.jsx("button",{type:"button",onClick:()=>gy(g.uid,g.name),style:{padding:"4px 8px",borderRadius:8,border:"none",background:"#E63946",color:"#fff",fontSize:11,cursor:"pointer"},children:""})})]},g.uid))})]})]})]})]}),a.jsxs("div",{style:{marginTop:24,padding:16,borderRadius:12,background:"#FFFFFF",boxShadow:"0 4px 10px rgba(0,0,0,0.06)"},children:[a.jsx("h3",{style:{marginTop:0,marginBottom:10},children:"[7]    "}),a.jsx("p",{style:{fontSize:12,marginBottom:10,color:"#555"},children:"     ,      .         ."}),a.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginBottom:8},children:[a.jsx("input",{type:"number",value:je,onChange:g=>Fe(Number(g.target.value)||0),placeholder:"(: 2025)",style:{width:110,padding:6,borderRadius:8,border:"1px solid #ccc"}}),a.jsx("input",{type:"number",value:nt,onChange:g=>{const E=Number(g.target.value)||0,T=Math.min(12,Math.max(1,E));Ct(T)},placeholder:"(1~12)",style:{width:80,padding:6,borderRadius:8,border:"1px solid #ccc"}}),a.jsx("input",{type:"text",value:Q,onChange:g=>ie(g.target.value),placeholder:" ",style:{flex:1,minWidth:120,padding:6,borderRadius:8,border:"1px solid #ccc"}}),a.jsxs("select",{value:Ve,onChange:g=>Hi(g.target.value),style:{width:140,padding:6,borderRadius:8,border:"1px solid #ccc"},children:[a.jsx("option",{value:"",children:" "}),ue.map(g=>a.jsx("option",{value:g,children:Ye(g)},g))]}),a.jsxs("select",{value:Vi,onChange:g=>Ta(g.target.value),style:{width:120,padding:6,borderRadius:8,border:"1px solid #ccc"},children:[a.jsx("option",{value:"gold",children:" "}),a.jsx("option",{value:"silver",children:" "}),a.jsx("option",{value:"bronze",children:" "}),a.jsx("option",{value:"none",children:" "})]})]}),a.jsx("button",{onClick:Cy,disabled:Yi,style:{padding:"8px 16px",borderRadius:8,border:"none",background:Yi?"#A8A8A8":"#1D3557",color:"#fff",fontWeight:"bold",cursor:"pointer"},children:Yi?" ...":"    "})]}),a.jsxs("div",{style:{marginBottom:20,padding:16,borderRadius:12,background:"#FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.04)"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[a.jsx("h3",{style:{margin:0,color:"#1D3557"},children:"[8]    (  )"}),a.jsx("button",{onClick:()=>vr(!Yt),style:{padding:"8px 14px",borderRadius:8,border:"1px solid #1D3557",background:Yt?"#f1f1f1":"#fff",color:"#1D3557",fontSize:13,fontWeight:"bold",cursor:"pointer"},children:Yt?"  ":"  "})]}),!Yt&&a.jsx("p",{style:{fontSize:12,color:"#666",margin:0},children:"          ."}),Yt&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{marginBottom:16},children:[a.jsx("label",{style:{fontSize:13,marginRight:8},children:" :"}),a.jsxs("select",{value:pr,onChange:g=>Ey(g.target.value),style:{padding:"6px 10px",borderRadius:8,border:"1px solid #ccc"},children:[a.jsx("option",{value:"",children:"--   --"}),Ia.map(g=>a.jsx("option",{value:g,children:g},g))]})]}),Co&&a.jsx("p",{children:"  ..."}),Xi&&a.jsx("div",{style:{overflowX:"auto"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:13},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{background:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[a.jsx("th",{style:{padding:10,textAlign:"left"},children:""}),a.jsx("th",{style:{padding:10,textAlign:"left"},children:""}),a.jsx("th",{style:{padding:10,textAlign:"center"},children:" "}),a.jsx("th",{style:{padding:10,textAlign:"center"},children:""}),a.jsx("th",{style:{padding:10,textAlign:"center"},children:""}),a.jsx("th",{style:{padding:10,textAlign:"center"},children:" "})]})}),a.jsx("tbody",{children:Object.values(Xi).sort((g,E)=>g.crew.localeCompare(E.crew)||g.name.localeCompare(E.name)).map(g=>a.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[a.jsx("td",{style:{padding:10},children:g.crew}),a.jsx("td",{style:{padding:10,fontWeight:"bold"},children:g.name}),a.jsxs("td",{style:{padding:10,textAlign:"center"},children:[g.chapters,""]}),a.jsxs("td",{style:{padding:10,textAlign:"center"},children:[g.progress,"%"]}),a.jsx("td",{style:{padding:10,textAlign:"center"},children:a.jsx("span",{style:{padding:"2px 6px",borderRadius:4,fontSize:11,color:"#fff",background:g.stateLabel===""?"#2E7D32":g.stateLabel===""?"#1E88E5":"#D32F2F"},children:g.stateLabel})}),a.jsxs("td",{style:{padding:10,textAlign:"center"},children:[g.totalMedals,""]})]},g.uid))})]})})]})]}),a.jsxs("div",{style:{marginBottom:20,padding:16,borderRadius:12,background:"#ffffff",boxShadow:"0 4px 12px rgba(0,0,0,0.04)"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:14},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[a.jsx("h3",{style:{margin:0,color:"#1D3557"},children:"[9]    ( 1 )"}),a.jsx("select",{value:yr,onChange:g=>{const E=Number(g.target.value);Zi(E),Aa(E)},style:{padding:"4px 8px",borderRadius:8,border:"1px solid #ccc",fontSize:13},children:[2024,2025,2026,2027].map(g=>a.jsxs("option",{value:g,children:[g,""]},g))})]}),a.jsxs("div",{style:{display:"flex",gap:8},children:[a.jsx("button",{onClick:()=>Aa(),style:{padding:"6px 12px",borderRadius:8,border:"1px solid #457B9D",background:"#fff",color:"#457B9D",fontSize:12,cursor:"pointer"},children:"  "}),a.jsx("button",{onClick:()=>on(!Pt),style:{padding:"6px 12px",borderRadius:8,border:"1px solid #1D3557",background:Pt?"#f1f1f1":"#fff",color:"#1D3557",fontSize:12,fontWeight:"bold",cursor:"pointer"},children:Pt?" ":" "})]})]}),Pt&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{display:"flex",gap:6,marginBottom:16,flexWrap:"wrap"},children:[a.jsx("button",{onClick:()=>Dt("all"),style:_c(yt==="all"),children:" "}),a.jsx("button",{onClick:()=>Dt("full"),style:_c(yt==="full"),children:" 1  "}),ue.map(g=>a.jsxs("button",{onClick:()=>Dt(g),style:_c(yt===g),children:[Ye(g)," "]},g))]}),De?a.jsx("p",{children:" ..."}):a.jsx("div",{style:{overflowX:"auto"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:13},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{background:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[a.jsx("th",{style:{padding:10,textAlign:"left"},children:""}),a.jsx("th",{style:{padding:10,textAlign:"center"},children:"  "}),a.jsx("th",{style:{padding:10,textAlign:"center"},children:" 1"}),a.jsx("th",{style:{padding:10,textAlign:"left",fontSize:11,color:"#666"},children:"  "})]})}),a.jsx("tbody",{children:ky.map(g=>a.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[a.jsx("td",{style:{padding:10,fontWeight:"bold"},children:g.name}),a.jsxs("td",{style:{padding:10,textAlign:"center"},children:[Object.values(g.crews).reduce((E,T)=>E+T,0)," "]}),a.jsx("td",{style:{padding:10,textAlign:"center"},children:a.jsxs("span",{style:{padding:"4px 8px",borderRadius:20,background:g.totalBible>0?"#E9C46A":"#f0f0f0",color:g.totalBible>0?"#000":"#888",fontWeight:"bold",fontSize:12},children:[" ",g.totalBible,""]})}),a.jsx("td",{style:{padding:10,fontSize:11},children:Object.entries(g.crews).map(([E,T])=>a.jsxs("span",{style:{marginRight:8,display:"inline-block"},children:[E,"(",T,")"]},E))})]},g.name))})]})})]})]}),a.jsxs("div",{style:{marginBottom:20,padding:16,borderRadius:12,background:"#FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.04)",borderLeft:"5px solid #1D3557"},children:[a.jsx("h3",{style:{marginTop:0,marginBottom:10,color:"#1D3557"},children:"[10]     "}),a.jsxs("p",{style:{fontSize:12,marginBottom:16,color:"#555"},children:["           .",a.jsx("br",{}),a.jsx("strong",{children:"     "})," ."]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10,marginBottom:20},children:[a.jsx("div",{style:{position:"relative",width:"100%",maxWidth:350},children:a.jsx("input",{type:"text",placeholder:"    (: )",value:pn,onChange:g=>ut(g.target.value),style:{width:"100%",padding:"12px 15px",borderRadius:8,border:"1px solid #1D3557",fontSize:15,background:"#fff",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.05)"}})}),a.jsxs("select",{value:l?`${l.uid}|${sn}`:"",onChange:g=>{const E=g.target.value;if(!E)return;const[T,D]=E.split("|");py(T,D)},style:{width:"100%",maxWidth:350,padding:"10px",borderRadius:8,border:"1px solid #1D3557",fontSize:14,fontWeight:"bold",background:pn?"#FFF9DB":"#fff"},children:[a.jsx("option",{value:"",children:pn?`-- '${pn}'   --`:"--    --"}),(()=>{const g=(pn||"").trim().toLowerCase();if(!g)return null;const E=[];return Object.entries(e||{}).forEach(([T,D])=>{if((D.name||"").toLowerCase().includes(g)){const Y=ue.filter(K=>($[K]||[]).includes(T));D.crew&&!Y.includes(D.crew)&&Y.push(D.crew),Y.length===0?E.push({uid:T,name:D.name,crew:""}):Y.forEach(K=>{E.push({uid:T,name:D.name,crew:K})})}}),E.sort((T,D)=>T.name!==D.name?T.name.localeCompare(D.name):Ye(T.crew).localeCompare(Ye(D.crew))).map((T,D)=>a.jsxs("option",{value:`${T.uid}|${T.crew}`,children:[T.name," (",Ye(T.crew),")"]},`${T.uid}_${T.crew}_${D}`))})()]}),pn&&Object.entries(e||{}).filter(([g,E])=>(E.name||"").toLowerCase().includes(pn.toLowerCase())).length===0&&a.jsx("div",{style:{fontSize:12,color:"#E63946",marginLeft:4},children:"  ."})]}),l?a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:10,marginBottom:16,alignItems:"center"},children:[a.jsxs("span",{style:{fontWeight:"bold",fontSize:15,color:"#1D3557"},children:[" : ",l.name," "]}),a.jsxs("div",{style:{display:"flex",gap:6},children:[a.jsx("select",{value:Gi,onChange:g=>ja(Number(g.target.value)),style:{padding:6,borderRadius:8,border:"1px solid #ccc"},children:[2025,2026,2027].map(g=>a.jsxs("option",{value:g,children:[g,""]},g))}),a.jsx("select",{value:hr,onChange:g=>Qi(Number(g.target.value)),style:{padding:6,borderRadius:8,border:"1px solid #ccc"},children:Array.from({length:12},(g,E)=>E+1).map(g=>a.jsxs("option",{value:g,children:[g,""]},g))}),a.jsxs("select",{value:sn,onChange:g=>Ki(g.target.value),style:{padding:6,borderRadius:8,border:"1px solid #ccc"},children:[a.jsx("option",{value:"",children:" "}),ue.map(g=>a.jsx("option",{value:g,children:Ye(g)},g))]})]})]}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gap:8,padding:10,background:"#f1f3f5",borderRadius:12},children:(()=>rn(Gi,hr).map(E=>{const T=Vt[E],D=E.split("-")[2];return a.jsxs("button",{onClick:()=>my(E,T),style:{padding:"12px 0",borderRadius:8,border:T?"none":"1px solid #dee2e6",background:T?"#1D3557":"#fff",color:T?"#fff":"#495057",fontWeight:"bold",fontSize:13,cursor:"pointer",transition:"all 0.2s"},children:[D,"",a.jsx("div",{style:{fontSize:10,marginTop:2,opacity:.8},children:T?"V":"-"})]},E)}))()}),a.jsx("p",{style:{fontSize:11,color:"#666",marginTop:10},children:"*        . (=)"})]}):a.jsx("div",{style:{padding:"20px",textAlign:"center",background:"#f8f9fa",borderRadius:8,color:"#999"},children:"   ."})]}),a.jsxs("div",{style:{marginBottom:40,padding:16,borderRadius:12,background:"#FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.04)",borderLeft:"5px solid #333"},children:[a.jsx("h3",{style:{marginTop:0,marginBottom:10,color:"#333"},children:"[11]   "}),a.jsx("p",{style:{fontSize:12,marginBottom:16,color:"#555"},children:"          . (   )"}),a.jsx("h4",{style:{fontSize:14,marginBottom:8},children:"  "}),a.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginBottom:20},children:[Object.values(e||{}).filter(g=>g.isAdmin).length===0&&a.jsx("div",{style:{fontSize:13,color:"#999"},children:"  ."}),Object.entries(e||{}).filter(([g,E])=>E.isAdmin).map(([g,E])=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"6px 10px",background:"#f5f5f5",borderRadius:20,border:"1px solid #ddd"},children:[a.jsx("span",{style:{fontWeight:"bold",fontSize:13},children:E.name||g}),a.jsx("button",{onClick:()=>Rf(g,E.name,!0),style:{border:"none",background:"none",cursor:"pointer",fontSize:12,color:"#E63946",padding:0},children:""})]},g))]}),a.jsx("h4",{style:{fontSize:14,marginBottom:8},children:" "}),a.jsxs("div",{style:{display:"flex",gap:8,maxWidth:300},children:[a.jsx("input",{placeholder:" ",id:"newAdminNameInput",style:{flex:1,padding:8,borderRadius:6,border:"1px solid #ccc"}}),a.jsx("button",{onClick:()=>{const g=document.getElementById("newAdminNameInput"),E=(g.value||"").trim();if(!E)return;const T=Object.entries(e||{}).find(([K,J])=>J.name===E);if(!T){alert(`'${E}'    .`);return}const[D,Y]=T;if(Y.isAdmin){alert(" .");return}Rf(D,Y.name,!1),g.value=""},style:{padding:"8px 12px",borderRadius:6,border:"none",background:"#333",color:"#fff",fontWeight:"bold",cursor:"pointer"},children:""})]})]})]})}const _c=t=>({padding:"6px 12px",borderRadius:20,border:"1px solid #457B9D",background:t?"#457B9D":"#fff",color:t?"#fff":"#457B9D",fontSize:12,fontWeight:t?"bold":"normal",cursor:"pointer"});function ck(){const t=Nn(),[e,n]=b.useState({}),[r,i]=b.useState(""),[s,o]=b.useState(!0),[l,c]=b.useState(""),[u,f]=b.useState(""),[d,h]=b.useState(!1),[x,v]=b.useState(""),[w,C]=b.useState("");b.useEffect(()=>{const S=Xw(R=>n(R||{}));return()=>{typeof S=="function"&&S()}},[]);const m=b.useMemo(()=>e&&e[r]||null,[e,r]);b.useEffect(()=>{const S=m||{};o(!!S.enabled),c((S.title||"").toString()),f((S.content||"").toString()),v(""),C("")},[m,r]);const p=b.useMemo(()=>{const S=m==null?void 0:m.version;return parseInt(S||"0",10)||0},[m]),y=b.useMemo(()=>{const S=m==null?void 0:m.updatedAt;if(!S)return"";const R=new Date(S),k=R.getFullYear(),P=String(R.getMonth()+1).padStart(2,"0"),A=String(R.getDate()).padStart(2,"0"),N=String(R.getHours()).padStart(2,"0"),$=String(R.getMinutes()).padStart(2,"0");return`${k}-${P}-${A} ${N}:${$}`},[m]);async function _(){h(!0),v(""),C("");try{await tC(r,{enabled:s,title:(l||"").trim(),content:(u||"").toString()}),v(". ( )"),setTimeout(()=>v(""),2e3)}catch(S){console.error("   ",S),C("   .")}finally{h(!1)}}return a.jsx("div",{style:{minHeight:"100vh",background:"#F8F9FF",padding:"22px 16px 40px",boxSizing:"border-box"},children:a.jsxs("div",{style:{maxWidth:760,margin:"0 auto"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[a.jsx("button",{onClick:()=>t("/admin"),style:{border:"none",background:"#111827",color:"#fff",borderRadius:12,padding:"10px 14px",fontWeight:700,cursor:"pointer"},children:"  "}),a.jsx("div",{style:{fontSize:20,fontWeight:900,color:"#111827"},children:"  "}),a.jsx("div",{style:{width:90}})]}),a.jsxs("div",{style:{marginTop:16,background:"#FFFFFF",borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.08)",border:"1px solid rgba(0,0,0,0.06)"},children:[a.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:10,alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[a.jsx("div",{style:{fontWeight:800,color:"#111827"},children:" "}),a.jsxs("select",{value:r,onChange:S=>i(S.target.value),style:{padding:"10px 12px",borderRadius:12,border:"1px solid rgba(0,0,0,0.18)",fontWeight:700},children:[a.jsx("option",{value:"all",style:{color:"#2563EB",fontWeight:900},children:"   "}),mf.map(S=>a.jsx("option",{value:S.crewKey,children:Ye(S.crewKey)},S.crewKey))]})]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:10,fontWeight:800,color:"#111827"},children:[" ",a.jsx("input",{type:"checkbox",checked:s,onChange:S=>o(S.target.checked),style:{width:18,height:18}})]})]}),a.jsxs("div",{style:{marginTop:12,display:"flex",gap:12,flexWrap:"wrap"},children:[a.jsxs("div",{style:{fontSize:13,color:"#6B7280"},children:[" : ",a.jsx("b",{children:p})]}),y&&a.jsxs("div",{style:{fontSize:13,color:"#6B7280"},children:[" : ",y]})]}),a.jsxs("div",{style:{marginTop:14},children:[a.jsx("div",{style:{fontSize:14,fontWeight:800,color:"#111827",marginBottom:8},children:" ()"}),a.jsx("input",{value:l,onChange:S=>c(S.target.value),placeholder:":  ",style:{width:"100%",padding:"12px 14px",borderRadius:12,border:"1px solid rgba(0,0,0,0.18)",fontSize:15,boxSizing:"border-box"}})]}),a.jsxs("div",{style:{marginTop:14},children:[a.jsx("div",{style:{fontSize:14,fontWeight:800,color:"#111827",marginBottom:8},children:" "}),a.jsx("textarea",{value:u,onChange:S=>f(S.target.value),rows:10,placeholder:"     .\\n(   .)",style:{width:"100%",padding:"12px 14px",borderRadius:12,border:"1px solid rgba(0,0,0,0.18)",fontSize:15,lineHeight:1.6,boxSizing:"border-box",resize:"vertical"}})]}),a.jsxs("div",{style:{marginTop:14,display:"flex",gap:10,alignItems:"center"},children:[a.jsx("button",{onClick:_,disabled:d,style:{border:"none",background:d?"#9CA3AF":"#2563EB",color:"#fff",borderRadius:12,padding:"12px 14px",fontWeight:900,cursor:d?"not-allowed":"pointer",minWidth:120},children:d?"...":""}),x&&a.jsx("div",{style:{fontSize:14,color:"#065F46",fontWeight:800},children:x}),w&&a.jsx("div",{style:{fontSize:14,color:"#B91C1C",fontWeight:800},children:w})]}),a.jsxs("div",{style:{marginTop:18,background:"#F3F4F6",borderRadius:12,padding:12,fontSize:13,color:"#374151",lineHeight:1.6},children:[a.jsx("b",{children:" "}),a.jsxs("div",{children:["  ",a.jsx("b",{children:"ON"}),",  ,    ",a.jsx("b",{children:""}),"    ."]}),a.jsx("div",{children:"     +1 . (   )"})]})]})]})})}function uk(){const[t,e]=b.useState(""),n=Nn();async function r(i){i.preventDefault();try{const s=await kC(t);s&&s.ok&&n("/admin")}catch(s){alert(s&&s.message?s.message:"   .")}}return a.jsxs("div",{style:{minHeight:"100vh",background:"#E8F5E9",padding:24,textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center"},children:[a.jsx("h2",{style:{color:"#1B5E20",marginBottom:24,fontSize:26},children:" "}),a.jsxs("form",{onSubmit:r,style:{maxWidth:420,margin:"0 auto"},children:[a.jsx("input",{placeholder:"",type:"password",value:t,onChange:i=>e(i.target.value),style:{width:"100%",padding:16,borderRadius:10,border:"1px solid #ccc",marginBottom:14,fontSize:18}}),a.jsx("button",{type:"submit",style:{width:"100%",padding:16,borderRadius:10,background:"#1B5E20",color:"#fff",border:"none",fontSize:18},children:""}),a.jsx("div",{style:{marginTop:20},children:a.jsx("button",{type:"button",onClick:()=>n("/home"),style:{background:"none",border:"none",color:"#1565C0",cursor:"pointer",fontSize:14},children:"  "})})]})]})}function Fn({src:t,alt:e}){return a.jsx("img",{src:t,alt:e,style:{width:34,height:34,objectFit:"contain",flexShrink:0},loading:"lazy"})}function xc(){return a.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",style:{width:18,height:18,verticalAlign:"middle"},children:[a.jsx("circle",{cx:"12",cy:"5",r:"2"}),a.jsx("circle",{cx:"12",cy:"12",r:"2"}),a.jsx("circle",{cx:"12",cy:"19",r:"2"})]})}function Yp(){return a.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",style:{width:18,height:18,verticalAlign:"middle"},children:a.jsx("path",{d:"M4 6h16M4 12h16M4 18h16",stroke:"currentColor",strokeWidth:"2"})})}function bc(){return a.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",style:{width:18,height:18,verticalAlign:"middle"},children:[a.jsx("path",{d:"M12 3v10",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M8 7l4-4 4 4",fill:"none",stroke:"currentColor",strokeWidth:"2"}),a.jsx("rect",{x:"5",y:"11",width:"14",height:"10",rx:"2",ry:"2",fill:"none",stroke:"currentColor",strokeWidth:"2"})]})}function Gp(){return a.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",style:{width:18,height:18,verticalAlign:"middle"},children:[a.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M12 7v10M7 12h10",stroke:"currentColor",strokeWidth:"2"})]})}function dk(){return a.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",style:{width:20,height:20,verticalAlign:"middle"},children:a.jsx("path",{d:"M12 4c-4.4 0-8 2.7-8 6s3.6 6 8 6c.5 0 1-.04 1.5-.12L17 19l-.8-3.2C18.3 14.7 20 12.9 20 10c0-3.3-3.6-6-8-6z",fill:"#3C1E1E"})})}function fk(){return a.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",style:{width:20,height:20,verticalAlign:"middle"},children:[a.jsx("rect",{x:"2",y:"2",width:"8",height:"8",rx:"1"}),a.jsx("rect",{x:"4",y:"4",width:"4",height:"4",fill:"currentColor"}),a.jsx("rect",{x:"14",y:"2",width:"8",height:"8",rx:"1"}),a.jsx("rect",{x:"16",y:"4",width:"4",height:"4",fill:"currentColor"}),a.jsx("rect",{x:"2",y:"14",width:"8",height:"8",rx:"1"}),a.jsx("rect",{x:"4",y:"16",width:"4",height:"4",fill:"currentColor"}),a.jsx("rect",{x:"12",y:"12",width:"2",height:"2"}),a.jsx("rect",{x:"15",y:"12",width:"2",height:"2"}),a.jsx("rect",{x:"18",y:"12",width:"2",height:"2"}),a.jsx("rect",{x:"12",y:"15",width:"2",height:"2"}),a.jsx("rect",{x:"14",y:"17",width:"2",height:"2"}),a.jsx("rect",{x:"18",y:"18",width:"2",height:"2"})]})}function hk(){const[t,e]=b.useState(null),n=({children:l})=>a.jsx("div",{style:{background:"#FFFFFF",border:"1px solid rgba(0,0,0,0.08)",borderRadius:14,padding:14,marginTop:12,boxShadow:"0 6px 18px rgba(0,0,0,0.06)"},children:l}),r=({left:l,children:c})=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:"8px 0"},children:[l,a.jsx("div",{style:{flex:1,color:"#1B5E20",fontSize:16,lineHeight:1.35},children:c})]}),i=({children:l})=>a.jsx("div",{style:{fontWeight:800,color:"#1B5E20",marginTop:8,marginBottom:4,fontSize:16},children:l}),s=({kind:l,bg:c,fg:u,icon:f,label:d})=>{const h=t===l;return a.jsxs("button",{type:"button",onClick:()=>e(h?null:l),style:{width:"100%",maxWidth:320,padding:"14px 16px",borderRadius:14,border:"none",background:c,color:u,fontWeight:900,fontSize:20,display:"flex",alignItems:"center",justifyContent:"center",gap:10,cursor:"pointer"},children:[a.jsx("span",{style:{display:"inline-flex",alignItems:"center"},children:f}),a.jsx("span",{children:d})]})},o=a.jsx("span",{style:{margin:"0 6px",color:"#1B5E20",fontWeight:900},children:""});return a.jsxs("div",{style:{maxWidth:520,margin:"0 auto 18px auto"},children:[a.jsx("div",{style:{textAlign:"center",color:"#1B5E20",fontWeight:900,fontSize:18},children:"   "}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:10,marginTop:12},children:[a.jsx(s,{kind:"kakao",bg:"#FEE500",fg:"#3C1E1E",icon:a.jsx(dk,{}),label:"   "}),a.jsx(s,{kind:"qr",bg:"#1565c0",fg:"#fff",icon:a.jsx(fk,{}),label:"QR   "})]}),t==="kakao"&&a.jsxs(n,{children:[a.jsx(i,{children:"1:    "}),a.jsxs(r,{left:a.jsx(Fn,{src:"/icons/galaxy.png",alt:""}),children:[a.jsx("strong",{children:"  "}),"     ",a.jsx(xc,{}),o,"  "]}),a.jsxs(r,{left:a.jsx(Fn,{src:"/icons/apple.png",alt:""}),children:[a.jsx("strong",{children:""}),"    ",a.jsx(bc,{}),o," "]}),a.jsx(i,{children:"2:    "}),a.jsxs(r,{left:a.jsx(Fn,{src:"/icons/samsung-internet.png",alt:""}),children:[a.jsx("strong",{children:""}),"    ",a.jsx(Yp,{}),o,a.jsx("strong",{children:"+ "})," ",a.jsx(Gp,{}),o,""]}),a.jsxs(r,{left:a.jsx(Fn,{src:"/icons/chrome.png",alt:""}),children:[a.jsx("strong",{children:""}),"     ",a.jsx(xc,{}),o," "]}),a.jsxs(r,{left:a.jsx(Fn,{src:"/icons/safari.png",alt:""}),children:[a.jsx("strong",{children:""}),"    ",a.jsx(bc,{}),o," "]})]}),t==="qr"&&a.jsxs(n,{children:[a.jsx(i,{children:"   "}),a.jsxs(r,{left:a.jsx(Fn,{src:"/icons/safari.png",alt:""}),children:[a.jsx("strong",{children:""}),"    ",a.jsx(bc,{}),o," "]}),a.jsxs(r,{left:a.jsx(Fn,{src:"/icons/samsung-internet.png",alt:""}),children:[a.jsx("strong",{children:""}),"    ",a.jsx(Yp,{}),o,a.jsx("strong",{children:"+ "})," ",a.jsx(Gp,{}),o,""]}),a.jsxs(r,{left:a.jsx(Fn,{src:"/icons/chrome.png",alt:""}),children:[a.jsx("strong",{children:""}),"     ",a.jsx(xc,{}),o," "]})]})]})}function Qp({onLogin:t}){const[e,n]=b.useState(""),[r,i]=b.useState(""),[s,o]=b.useState({}),l=Nn();b.useEffect(()=>{const h=vf(x=>o(x||{}));return()=>{typeof h=="function"&&h()}},[]);const c=s.churchName||"",u=s.appDescription||"  .",f=(s.bulletinUrl||"").trim();async function d(h){h.preventDefault();const x=e.trim(),v=(r??"").trim();if(!x){alert("  .");return}if(!/^[-A-Za-z]+$/.test(x)){alert(`     .
(//  )`);return}if(!v){alert(`  .
        .`);return}try{if(t){const C=await t(x,v);C&&C.mustChangePassword?l("/change-password"):l("/home")}}catch(C){alert(C&&C.message?C.message:" .")}}return a.jsxs("div",{style:{minHeight:"100vh",background:"#E8F5E9",padding:24,display:"flex",flexDirection:"column",justifyContent:"center"},children:[a.jsx(hk,{}),a.jsx("h1",{style:{textAlign:"center",color:"#1B5E20",marginBottom:18,fontSize:28},children:" "}),a.jsxs("form",{onSubmit:d,style:{maxWidth:480,margin:"0 auto"},children:[f?a.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",style:{display:"block",width:"100%",padding:14,marginBottom:12,borderRadius:10,textAlign:"center",textDecoration:"none",background:"#1D3557",color:"#fff",fontSize:18,fontWeight:700},children:" "}):null,a.jsx("input",{placeholder:"",value:e,onChange:h=>n(h.target.value),style:{width:"100%",padding:16,borderRadius:10,border:"1px solid #ccc",marginBottom:14,fontSize:18}}),a.jsx("input",{placeholder:"",type:"password",value:r,onChange:h=>i(h.target.value),style:{width:"100%",padding:16,borderRadius:10,border:"1px solid #ccc",marginBottom:14,fontSize:18}}),a.jsx("button",{type:"submit",style:{width:"100%",padding:16,background:"#2E7D32",color:"#fff",border:"none",borderRadius:10,fontWeight:"bold",fontSize:18},children:""}),a.jsx("div",{style:{marginTop:20,textAlign:"center",color:"#1B5E20"},children:c}),a.jsx("p",{style:{textAlign:"center",whiteSpace:"pre-line",marginTop:20,color:"#1B5E20"},children:u})]})]})}function pk({user:t}){const[e,n]=b.useState(""),[r,i]=b.useState(""),s=Nn();b.useEffect(()=>{(!t||!t.uid)&&s("/login")},[t,s]);async function o(l){if(l.preventDefault(),!e||!r){alert("   .");return}if(e!==r){alert("   .");return}try{await CC(t.uid,e),alert(" ."),s("/home")}catch(c){alert(c&&c.message?c.message:"  .")}}return a.jsxs("div",{style:{minHeight:"100vh",background:"#E3F2FD",padding:20},children:[a.jsx("h2",{style:{textAlign:"center",color:"#1565C0",marginBottom:16},children:" "}),a.jsx("p",{style:{textAlign:"center",marginBottom:24},children:"       ."}),a.jsxs("form",{onSubmit:o,style:{maxWidth:400,margin:"0 auto",background:"#fff",padding:20,borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},children:[a.jsxs("div",{style:{marginBottom:12},children:[a.jsx("label",{style:{display:"block",marginBottom:4,fontSize:14},children:" "}),a.jsx("input",{type:"password",value:e,onChange:l=>n(l.target.value),style:{width:"100%",padding:10,borderRadius:6,border:"1px solid #ccc"}})]}),a.jsxs("div",{style:{marginBottom:20},children:[a.jsx("label",{style:{display:"block",marginBottom:4,fontSize:14},children:"  "}),a.jsx("input",{type:"password",value:r,onChange:l=>i(l.target.value),style:{width:"100%",padding:10,borderRadius:6,border:"1px solid #ccc"}})]}),a.jsx("button",{type:"submit",style:{width:"100%",padding:12,borderRadius:6,border:"none",background:"#1565C0",color:"#fff",fontWeight:"bold",cursor:"pointer"},children:"  "})]})]})}function mk(){const[t,e]=b.useState(null);return b.useEffect(()=>{const n=vf(r=>{e(r||{})});return()=>{typeof n=="function"&&n()}},[]),t}const Kp={:{1:" ",2:" ",3:"    ",4:" ",5:" ",6:" ",7:"",8:" ",9:"   ",10:"  ( 1:5-23)",11:"",12:"  ",13:"   ",14:"  ",15:"   ",16:" ",17:": ",18:"  ",19:" ",20:" ",21:"  ",22:"   ",23:"   ",24:"   ",25:" ",26:"  ",27:"  ",28:"   ",29:"   ",30:"   ",31:"  ",32:"    ",33:"  ",34:"   ",35:"   ",36:" ( 1:34-37)",37:" ",38:" ",39:"  ",40:"   ",41:"   ",42:"   ",43:"    ",44:" ",45:"   ",46:"   ",47:"  ",48:"   ",49:"  ",50:"  "},:{2:" ",3:"  ",4:"   ",5:"    ",6:"  ",7:"   ",8:"  :  ",9:"  :  ",10:"  :   ",11:"    ",12:"",13:"",14:" ",15:" ",16:" ",17:"  ( 20:1-13)",18:"  ",19:"    ",20:"( 5:1-21)",21:"  ( 15:12-18)",22:"  ",23:"  ",24:"   ",25:"  ",26:"( 36:8-38)",27:"( 38:1-7)",28:" ( 39:1-7)",29:"  ( 8:1-36)",30:" ( 37:25-28)",31:"   ( 35:30-36:1)",32:" ( 9:6-29)",33:"   ",34:"  ( 10:1-5)",35:" ",36:"   ",37:" ( 25:10-22)",38:" ( 27:1-8)",39:"  ( 28:1-14)",40:" "},:{2:" ",3:" ",4:"  ",5:"  ",6:"  ",7:"  ",8:"    ",9:"   ",10:"    ",11:"   ",12:"    ",13:"    ",14:"    ",15:"  ",16:"",17:"  ",18:"   ",19:" ",20:"   ",21:"   ",22:"  ",23:"   ",24:"   ",25:"",26:" ",27:"  "},:{1:"   ",2:"    ",3:" ",4:"  ",5:"  ",6:" ",7:"   ",8:"   ",9:"  ",10:" ",11:"",12:"  ",13:"  ( 1:19-33)",14:" ",15:"  ",16:"   ",17:" ",18:"  ",19:"  ",20:"   ( 17:1-7)",21:" ",22:"   ",23:"   ",24:"  ",25:"  ",26:"   ",27:" ",28:"  ( 29:38-46)",29:"  ( 23:23-25)",30:"  ",31:"   ",32:"   ( 3:12-22)",33:" ",34:"  ",35:"   ",36:"   "},:{1:"  ( 18:13-17)",2:"   ",3:"    ( 21:21-35)",4:"   ",5:"( 20:1-17)",6:"   ",7:"  ( 34:11-16)",8:"   ",9:" ",10:"   ( 34:1-10)",11:"   ",12:"  ",14:" ",15:"   ( 25:1-7)",16:"( 12:1-20)",17:" ",18:"   ",19:"( 35:9-28;  20:1-9)",20:"   ",21:"   ",22:"  ",23:"   ",24:" ",25:"   ",26:" ",27:"   ",28:"  ( 26:3-13;  7:12-24)",29:"   ",30:"  ",31:"   ",33:" ",34:" "},:{1:"   ",2:"   ",3:"   ",4:"   ",5:"   ",6:"  ",7:" ",8:"  ",9:"   ",10:"  ",11:"  ",12:"  ",13:"  ",14:"   ",15:"  ",16:"    ",17:"   ",18:"  ",19:"  ",20:"",21:"  ",22:"   ",23:"  ",24:"    "},:{1:"    ",2:"   ",3:"    ",4:" ",5:"  ",6:" ",7:"  ",8:"   ",9:"",10:" ",11:" ",12:"  ",13:" ",14:"  ",15:"  ",16:"  ",17:"  ",18:"  ",19:"    ",20:"   ",21:"  "},:{1:"   ",2:"  ",3:"  ",4:"  "},:{1:" ",2:" ",3:"  ",4:" ",5:"   ",6:" ",7:"  ",8:"  ",9:"  ",10:"  ",11:"   ",12:"  ",13:"  ",14:"  ",15:"  ",16:"   ",17:"   ",18:"   ",19:"   ",20:"  ",21:"   ",22:"   ",23:"  ",24:"   ",25:" ",26:"    ",27:"   ",28:"   ",29:"    ",30:"  ",31:"  ( 10:1-14)"},:{1:"     ",2:"   ",3:" ( 3:1-4)",4:" ",5:"    ( 11:1-3)",6:"    ( 13:1-14; 15:25-16:6, 43)",7:"   ( 17:1-15)",8:"   ( 18:1-17)",9:" ",10:"  ( 19:1-19)",11:" ",12:"   ",13:" ",14:"  ",15:" ",16:" ",17:"    ",18:" ",19:"  ",20:" ",21:"     ",22:" (",23:"  ",24:" ( 21:1-27)"},:{1:"   ",2:"   ",3:"  ( 1:3-12)",4:"  ",5:"   ( 2:1-18)",6:"  ",7:" ",8:"  ( 5:2-6:2)",9:"   ",10:"   ( 9:1-12)",11:"   ",12:"  ( 10:1-19)",13:"  ",14:"  ",15:"  ( 13:1-14:1)",16:"  ",17:" ",18:"  ",19:"  ",20:"  ",21:" ",22:"   ( 18:2-27)"},:{2:"  ",3:"  ",4:"  ",5:"  ",6:" ",7:"  ",8:"  ",9:"   ",10:"  ",11:"  ( 22:10-23:15)",12:"  ( 24:1-16)",13:"  ",14:"  ( 25:1-24)",15:"  ( 26:1-23)",16:"  ( 28:1-27)",17:"  ",18:"  ( 29:1-2; 31:1)",19:"    ( 37:1-7)",20:"  ( 32:24-26;  38:1-8, 21-22)",21:"  ( 33:1-20)",22:"  ( 34:1-2)",23:"   ( 34:3-7, 29-33)",24:"  ( 36:9-10)",25:" ( 36:13-21;  52:3-11)"},:{1:" ( 25:12-16)",2:" ",3:"   ",4:" ",5:" ",6:" ",7:" ",8:" ",9:"   ",10:"  ( 31:1-13)",11:"    ( 5:1-10)",12:"    ",13:"  ( 6:1-11)",14:"  ( 5:11-16)",15:"   ",16:" ( 105:1-15; 96:1-13; 106:47-48)",17:"    ( 7:1-17)",18:"  ( 8:1-18)",19:"   ( 10:1-19)",20:"  ( 12:26-31)",21:"  ( 24:1-25)",22:"  ",23:"  ",24:"   ",25:"  ",26:" ",27:"   ",28:"   ",29:"   "},:{1:" ( 10:26-29)",2:"  ( 5:1-18)",3:" ( 7:15-22)",4:"   ( 7:23-51)",5:"  ( 8:1-9)",6:" ( 8:12-21)",7:" ( 8:62-66)",8:" ( 9:10-28)",9:"   ( 10:1-13)",10:"  ( 12:1-20)",11:"   ( 12:21-24)",12:"  ( 14:25-28)",13:"  ( 15:1-8)",14:"   ",15:" ",16:"  ( 15:17-22)",17:"   ",18:"    ( 22:1-28)",19:"   ",20:"  ",21:"  ( 8:17-24)",22:"  ( 8:25-29; 9:21-28)",23:"  ( 11:4-16)",24:"  ( 12:1-16)",25:"  ( 14:2-6)",26:"   ( 14:21-22; 15:1-7)",27:"  ( 15:32-38)",28:"  ( 16:1-5)",29:"    ( 18:1-3)",30:" ",31:" ",32:"   ( 18:13-37; 19:14-19, 35-37;  36:1-22; 37:8-38)",33:"  ( 21:1-9)",34:"   ( 22:1-2)",35:"  ( 23:21-23)",36:"  ( 23:30-35)"},:{1:"   ",2:" ( 7:4-73)",3:"   ",4:"   ",5:"   ",6:"    ",7:"  ",8:"   ",9:"  ",10:"     "},:{2:"  ",3:"  ",4:" ",5:"  ",6:"  ",7:"  ",9:"  ",10:"  ",11:"  ",12:"  ",13:" "},:{2:"  ",3:"    ",4:"   ",5:"    ",6:"   ",7:" ",8:"    ",9:"   ",10:"   "},:{1:"   ",2:"   ",3:"   ",4:"  ",6:" ",8:"  ",9:" ",11:"  ",12:" ",13:" ",15:"   ",16:" ",18:"   ",19:" ",20:"   ",21:" ",22:"   ",23:" ",25:"   ",26:" ",27:"    ",28:" ",29:"  ",32:"  (32:1-37:24)",33:"   ",38:"  ",42:" "},:{3:"       ",4:" ,     ",5:" ,     ",6:" ,       ",7:" ,       ",8:" ,     ",9:" ,     ",11:" ,    ",12:" ,      ",13:" ,    ",14:" ,    ",15:" ",16:" ",17:" ",18:"   ,    ,                  ",19:" ,    ",20:" ,    ",21:" ,    ",22:" ,     ",23:" ",24:" ",25:" ",26:" ",27:" ",28:" ",29:" ",30:" ,   ",31:" ,    ",32:" ",34:"       ",35:" ",36:"   ,    ",37:" ",38:"  ",39:" ,      ",40:" ,    ",41:" ,    ",44:"  ,    ",45:"  ,  ,     ",46:"  ,     ",47:"  ,    ",48:"    ",49:"  ,    ",50:" ",51:" ,    ,         ",52:" ,    ,           ",53:" ,     ",54:" ,     ,             ",55:" ,     ",56:"  ,       ,     ",57:"  ,     ,      ",58:"  ,     ",59:"  ,     ,         ",60:"    ,     ,                 ",61:" ,     ",62:" ,       ",63:" ,    ",64:" ,    ",65:" ,    ",66:",    ",67:"  ,     ",68:" ,    ",69:" ,     ",70:"      ",72:" ",74:" ",75:" ,     ",76:" ,     ",77:" ,       ",78:" ",79:" ",80:" ,     ",81:" ,     ",82:" ",83:"   ",84:"  ,     ",85:"  ,    ",86:" ",87:"    ",88:"       ,     ",89:"  ",98:"",100:" ",101:" ",102:"          ",103:" ",108:"  ",109:" ,    ",110:" ",120:"  ",121:"  ",122:"     ",123:"  ",124:"     ",125:"  ",126:"  ",127:"     ",128:"  ",129:"  ",130:"  ",131:"     ",132:"  ",133:"     ",134:"  ",138:" ",139:" ,    ",140:" ,    ",141:" ",142:"       ",143:" ",144:" ",145:" "},:{1:"  ",2:"  ",3:"  ",4:"  ",5:"   ",6:" ",7:"   ",8:"  ",9:" ",10:" ",25:" ",30:" ",31:"   "},:{1:"   ",2:" ",3:"   ",4:", , ",5:" ",7:"  ",8:" ",9:"     ",11:" ",12:" "},:{},:{1:" ",2:"   ",3:" ",4:"   ",5:" ",6:"  ",7:"    ",8:" ",9:" ",10:"  ",11:" ",12:" ",13:"  ",14:" ",15:"   ",16:"  ",17:"   ",18:"    ",19:"  ",20:"  ",21:"   ",22:"   ",23:"   ",24:"  ",25:"",26:"   ",28:"  ",29:"  ",30:"   ",32:"  ",33:"  ",34:"  ",35:" ",36:"  ( 18:13-27;  32:1-19)",37:"    ( 19:1-7)",38:"   ( 20:1-11;  32:24-26)",39:"  ( 20:12-19)",40:" ",41:"  ",42:" ",43:" ",44:"    ",45:"  ",47:" ",48:"   ",49:"  ",50:"  ",51:" ",52:"  ",54:"  ",55:" ",56:"  ",57:"  ",58:"  ",59:"   ",60:"  ",61:"  ",63:" ",65:"   ",66:"  "},:{1:"   ",2:" ",3:"  ",4:" ",5:"  ",6:"   ",7:"  ",8:" ",9:"    ",10:"    ",11:"   ",12:" ",13:" ",14:" ",15:"   ",16:"  ",17:"  ",18:" ",19:" ",20:" ",21:"     ",22:"   ",23:"  ",24:"   ",25:"     ",26:"    ",27:"   ",28:" ",29:"   ",30:"   ",31:"   ",32:"    ",33:"    ",34:"   ",35:"  ",36:"    ",37:"    ",38:"  ",39:" ( 25:1-12;  52:4-16)",40:"  ( 25:22-24)",42:"   ",43:"  ",44:"    ",45:"   ",46:"   ",47:"   ",48:" ",49:"  ",50:"  ",51:"  ",52:"  ( 24:18-25:7)"},:{2:"   ",3:", , ",4:"  ",5:"  "},:{2:"  ",3:" ( 33:1-9)",4:"  ",5:"   ",6:"   ",7:"  ",8:"  ",9:"   ",10:"   ",11:"  ",12:"    ",13:"  ",14:"   ",15:"     ",16:" ",17:"  ",18:"   ",19:"",20:" ,  ",21:" ",22:"  ",23:"  ",24:"  ",25:"  ",26:"  ",27:"  ",28:"   ",29:"  ",30:"  ",31:"   ",32:"   ",33:"   ( 3:16-21)",34:"   ",35:"   ",36:"  ",37:"  ",38:"  ",39:"  ",40:"   ",41:"  ",42:" ",43:"  ",44:"    ",45:" ",46:" ",47:"  ",48:"    "},:{2:" ",3:"  ",4:"    ",5:"   ",6:"   ",7:"  ",8:"  ",9:" ",10:"    ",11:"    ",12:""},:{1:"  ",2:" ",3:"   ",4:" ",5:"  ",6:"  ",7:"  ",8:"  ",9:"   ",10:"    ",11:"   ",12:"   ",13:"   ",14:"   "},:{1:"   ",2:"    ",3:"  "},:{1:"    ",2:"  ",3:"   ",4:"   ",5:"",6:" ",7:",  ",8:",    ",9:",   "},:{1:" "},:{1:" ",3:"  ",4:"   "},:{1:"   ",2:" ",3:"   ",4:"  ",5:"   ",6:"  ",7:" "},:{1:"   ",2:" "},:{1:" ",2:" ",3:" "},:{1:" ",2:"  ",3:"   "},:{1:"  "},:{1:"   ",2:"  ",3:"    ",4:"   ",5:" ",6:" ",7:"   ",8:"   ",9:"     ",10:"  ",11:" ",12:" ",13:"  ",14:"  "},:{1:"  ",2:"  ",3:"",4:"  "},:{1:"  ( 2:1-7)",2:"   ",3:"   ( 1:1-8;  3:1-18;  1:19-28)",4:" ( 1:12-13;  4:1-13)",5:"  ( 6:20-23)",6:"  ",7:" ( 6:37-38, 41-42)",8:"  ( 1:40-45;  5:12-16)",9:" ( 2:1-12;  5:17-26)",10:"  ( 3:13-19;  6:12-16)",11:" ( 7:18-35)",12:"   ( 2:23-28;  6:1-5)",13:"     ( 4:1-9;  8:4-8)",14:"  ( 6:14-29;  9:7-9)",15:" ( 7:1-23)",16:"   ( 8:11-13;  12:54-56)",17:"  ( 9:2-13;  9:28-36)",18:"  ( 9:33-37, 42-48;  9:46-48; 15:3-7; 17:1-2)",19:"  ( 10:1-12)",20:" ",21:" ( 11:1-11;  19:28-38;  12:12-19)",22:"  ( 14:15-24)",23:"  ( 12:38-40;  11:37-52; 20:45-47)",24:"   ( 13:1-2;  21:5-6)",25:"  ",26:"  ( 14:1-2;  22:1-2;  11:45-53)",27:"  ( 15:1;  23:1-2;  18:28-32)",28:"( 16:1-8;  24:1-12;  20:1-10)"},:{1:" ( 3:13-17;  3:21-22)",2:" ( 9:1-8;  5:17-26)",3:"    ( 12:9-14;  6:6-11)",4:"     ( 13:1-9;  8:4-8)",5:"   ( 8:28-34;  8:26-39)",6:"  ( 13:53-58;  4:16-30)",7:" ( 15:1-20)",8:"  ( 15:32-39)",9:"  ( 17:1-13;  9:28-36)",10:"  ( 19:1-12)",11:" ( 21:1-11;  19:28-40;  12:12-19)",12:"  ( 21:33-46;  20:9-19)",13:"   ( 24:1-2;  21:5-6)",14:"   ( 26:1-5;  22:1-2;  11:45-53)",15:"  ( 27:1-2, 11-14;  23:1-5;  18:28-38)",16:"( 28:1-10;  24:1-12;  20:1-18)"},:{1:"   ",2:" ( 1:18-25)",3:"  ( 3:1-12;  1:1-8;  1:19-28)",4:" ( 4:1-11;  1:12-13)",5:"  ( 4:18-22;  1:16-20)",6:"   ( 12:1-8;  2:23-28)",7:"  ( 8:5-13;  4:43-54)",8:"   ",9:"  ( 10:5-15;  6:7-13)",10:"   ( 11:20-24)",11:" ( 6:9-15; 7:7-11)",12:"  ( 10:26-33; 12:32; 10:19-20)",13:"  ",14:"   ",15:"    ( 18:12-14)",16:"   ",17:", ,   ( 18:6-7; 21:22;  9:42)",18:"  ",19:" ",20:"   ( 21:23-27;  11:27-33)",21:"  ( 12:41-44)",22:" ( 26:1-5, 14-16;  14:1-2, 10-11;  11:45-53)",23:"  ( 27:1-2, 11-14;  15:1-5;  18:28-38)",24:"   ( 16:12-13)"},:{1:"  ( 3:1-12;  1:7-8;  3:15-17)",2:" ",3:" ",4:"  ",5:"  ",6:"  ( 14:13-21;  6:30-44;  9:10-17)",7:"   ",8:"  ",9:"     ",10:"  ",11:"  ",12:"   ( 26:6-13;  14:3-9)",13:"  ",14:"    ",15:"   ",16:" ",17:"",18:"( 26:47-56;  14:43-50;  22:47-53)",19:"  ( 27:32-44;  15:21-32;  23:26-43)",20:"( 28:1-10;  16:1-8;  24:1-2)",21:"  "},:{1:"  ",2:" ",3:"      ",4:"    ",5:" ",6:"  ",7:" ",8:"  ",9:" ( 22:6-16; 26:12-18)",10:"  ",11:"   ",12:"   ",13:"  ",14:"   ",15:" ",16:"   ",17:"  ",18:"  ",19:"  ",20:"   ",21:"  ",22:" ( 9:1-19; 26:12-18)",23:"  ",24:" ",25:"  ",26:" ( 9:1-19; 22:6-16)",27:"  ",28:"  "},:{1:"   ",2:" ",3:"   ",4:"    ",5:"    ",6:"    ",7:"    ",8:"  ",9:"  ",10:"   ",11:"  ",12:"    ",13:"  ",14:"  ",15:"   ",16:""},:{1:"  ",2:"   ",3:" ",4:" ",5:"  ",6:"   ",7:"  ",8:"  ",9:" ",10:"   ",11:"   ",12:" ",13:"",14:" ",15:" ",16:"  "},:{1:"   ",2:"   ",3:"  ",4:"  ",5:"  ",6:"    ",7:"   ",8:" ",9:"   ",10:"   ",11:"  ",12:"    ",13:"  "},:{1:"  ",2:"   ",3:"  ",4:"   ",5:"  ",6:"  "},:{1:"   ",2:"    ",3:"   ",4:"   ",5:"  ",6:" "},:{1:"   ",2:" ",3:"  ",4:""},:{1:"  ",2:"  ",3:"  ",4:""},:{1:"   ",2:"   ",4:"   ",5:"  "},:{1:"   ",2:" ",3:"  "},:{1:"   ",2:"  ",3:"  ",4:" ",5:"  ",6:"   "},:{1:"   ",2:"   ",3:" ",4:" "},:{1:"    ",2:"  ",3:"  "},:{1:"  "},:{2:" ",3:"  ",4:"  ",5:" ",6:"  ",7:"",8:"  ",9:"    ",10:"  ",11:"",12:"  ",13:"  "},:{1:" ",2:"  ",3:"   ",4:"  ",5:"   "},:{1:" ",2:"   ",3:" ",4:"    ",5:"   "},:{1:"   ",2:"   ( 4-13)",3:" "},1:{},2:{},3:{},:{1:"   ( 2:1-17)"},:{1:" ",2:"   ",3:"   ",4:" ",5:"  ",6:"   ",7:"    ",8:"   ",10:"  ",11:" ",12:" ",13:"  ",14:"    ",16:"  ",17:"   ",18:" ",19:"   ",20:"  ",21:"   ",22:"  "}},gk={:[{start:1,end:11,theme:",   "},{start:12,end:25,theme:"  "},{start:26,end:36,theme:"   "},{start:37,end:50,theme:"   "}],:[{start:1,end:18,theme:"   "},{start:19,end:40,theme:"  "}],:[{start:1,end:7,theme:"  "},{start:8,end:10,theme:"  "},{start:11,end:27,theme:"   "}],:[{start:1,end:10,theme:"  "},{start:11,end:25,theme:"  "},{start:26,end:36,theme:"   "}],:[{start:1,end:4,theme:"   "},{start:5,end:26,theme:"   "},{start:27,end:34,theme:"   "}],:[{start:1,end:5,theme:"   "},{start:6,end:12,theme:"   "},{start:13,end:24,theme:"   "}],:[{start:1,end:2,theme:"  "},{start:3,end:16,theme:"   "},{start:17,end:21,theme:",   "}],:[{start:1,end:4,theme:"()  "}],:[{start:1,end:7,theme:"   "},{start:8,end:15,theme:"    "},{start:16,end:31,theme:"   "}],:[{start:1,end:10,theme:"   "},{start:11,end:24,theme:"  , "}],:[{start:1,end:11,theme:"   "},{start:12,end:22,theme:"   "}],:[{start:1,end:17,theme:"   "},{start:18,end:25,theme:"   "}],:[{start:1,end:9,theme:"  "},{start:10,end:29,theme:"    "}],:[{start:1,end:9,theme:"   "},{start:10,end:36,theme:"    "}],:[{start:1,end:10,theme:"   "}],:[{start:1,end:13,theme:"   "}],:[{start:1,end:10,theme:"    "}],:[{start:1,end:42,theme:"    "}],:[{start:1,end:150,theme:"   "}],:[{start:1,end:31,theme:"   "}],:[{start:1,end:12,theme:"   "}],:[{start:1,end:8,theme:"   "}],:[{start:1,end:39,theme:"    "},{start:40,end:66,theme:"     "}],:[{start:1,end:25,theme:"    "},{start:26,end:52,theme:"    "}],:[{start:1,end:5,theme:"    "}],:[{start:1,end:24,theme:"   "},{start:25,end:32,theme:"   "},{start:33,end:48,theme:"    "}],:[{start:1,end:6,theme:"    "},{start:7,end:12,theme:"    "}],:[{start:1,end:14,theme:"    "}],:[{start:1,end:3,theme:"   "}],:[{start:1,end:9,theme:"    "}],:[{start:1,end:1,theme:"   "}],:[{start:1,end:4,theme:"   "}],:[{start:1,end:7,theme:" ,  "}],:[{start:1,end:3,theme:"   "}],:[{start:1,end:3,theme:"  "}],:[{start:1,end:3,theme:"    "}],:[{start:1,end:2,theme:"  "}],:[{start:1,end:14,theme:"   "}],:[{start:1,end:4,theme:"   "}],:[{start:1,end:4,theme:"   "},{start:5,end:7,theme:":   "},{start:8,end:25,theme:"    "},{start:26,end:28,theme:"   "}],:[{start:1,end:10,theme:"   "},{start:11,end:16,theme:"   "}],:[{start:1,end:3,theme:"   "},{start:4,end:19,theme:"    "},{start:20,end:24,theme:"  ,  "}],:[{start:1,end:12,theme:"   "},{start:13,end:21,theme:"     "}],:[{start:1,end:7,theme:"    "},{start:8,end:12,theme:"   "},{start:13,end:28,theme:"    "}],:[{start:1,end:8,theme:"   "},{start:9,end:11,theme:"   "},{start:12,end:16,theme:"   "}],:[{start:1,end:4,theme:"   "},{start:5,end:10,theme:"    "},{start:11,end:16,theme:" , ,  "}],:[{start:1,end:7,theme:"    "},{start:8,end:9,theme:"   "},{start:10,end:13,theme:"   "}],:[{start:1,end:2,theme:"   "},{start:3,end:4,theme:"   "},{start:5,end:6,theme:"   "}],:[{start:1,end:3,theme:"    "},{start:4,end:6,theme:"    "}],:[{start:1,end:2,theme:"    "},{start:3,end:4,theme:"   "}],:[{start:1,end:2,theme:"   "},{start:3,end:4,theme:"     "}],:[{start:1,end:3,theme:"    "},{start:4,end:5,theme:"    "}],:[{start:1,end:2,theme:"     "},{start:3,end:3,theme:"    "}],:[{start:1,end:3,theme:"   "},{start:4,end:6,theme:"   "}],:[{start:1,end:2,theme:"   "},{start:3,end:4,theme:"    "}],:[{start:1,end:3,theme:"   "}],:[{start:1,end:1,theme:"   "}],:[{start:1,end:10,theme:"   "},{start:11,end:13,theme:"   "}],:[{start:1,end:5,theme:"    "}],:[{start:1,end:5,theme:"     "}],:[{start:1,end:3,theme:"    "}],1:[{start:1,end:5,theme:"    "}],2:[{start:1,end:1,theme:"   "}],3:[{start:1,end:1,theme:"    "}],:[{start:1,end:1,theme:"    "}],:[{start:1,end:3,theme:"   "},{start:4,end:18,theme:"    "},{start:19,end:22,theme:"    "}]},yk={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"()",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",1:"",2:"",3:"",:"",:""},vk={:"   ",:"   ",:"   ",:"   ",:"   ",:"   ","()":"   ",:"   ",:"    ",:"      "};function _k({todayPortion:t,todayKey:e,checks:n,toggle:r,isApproved:i,isMobile:s}){if(!t)return null;const{sections:o}=b.useMemo(()=>{const u=v=>v?v.replace(//g,"").replace(/([-]{2,})/g,w=>Up(w)):"",f=v=>{if(!v)return 0;const C=v.replace(/[~]/g,"-").split(",");let m=0;return C.forEach(p=>{const y=p.replace(/[^0-9-]/g," "),_=y.match(/(\d+)\s*-\s*(\d+)/);_?m+=parseInt(_[2])-parseInt(_[1])+1:y.match(/(\d+)/)&&(m+=1)}),m};let d=[];if(t.panorama&&t.panorama.parsedSections)d=t.panorama.parsedSections.map(v=>({subTitle:v.subTitle||"",bibleRef:v.bibleRef}));else{const v=t.items||[],w=[];for(const C of v){if(!C||!C.book||typeof C.chapter!="number")continue;const m=w[w.length-1];m&&m.book===C.book&&C.chapter===m.to+1?m.to=C.chapter:w.push({book:C.book,from:C.chapter,to:C.chapter})}d=w.map(C=>({subTitle:"",bibleRef:C.from===C.to?`${C.book} ${C.from}`:`${C.book} ${C.from}~${C.to}`}))}let h=[];d.forEach(v=>{if(v.bibleRef.includes(",")){const w=v.bibleRef.split(","),C=w[0].match(/^([-a-zA-Z]+)/),m=C?C[1]:"";w.forEach((p,y)=>{let _=p.trim();y>0&&m&&!_.match(/^[-a-zA-Z]+/)&&(_=`${m} ${_}`),h.push({subTitle:v.subTitle,bibleRef:_})})}else h.push(v)});let x=[];if(h.length>0){let v=h.map(p=>({...p,count:f(p.bibleRef),abbreviations:[u(p.bibleRef)]}));const w=p=>{const _=p.bibleRef.replace(//g,"").replace(/[~]/g,"-").match(/^([-\s\u00A0a-zA-Z]+)\s*(\d+)(?:\s*-\s*(\d+))?/);if(_){const S=_[1].trim(),R=parseInt(_[2]),k=_[3]?parseInt(_[3]):R,P=k-R+1;if(P>=2){const A=Math.floor(P/2),N=R+A-1,$=R===N?`${S} ${R}`:`${S} ${R}~${N}`,H=N+1===k?`${S} ${k}`:`${S} ${N+1}~${k}`;return[{...p,bibleRef:$,count:N-R+1,abbreviations:[u($)],subTitle:p.subTitle},{...p,bibleRef:H,count:k-(N+1)+1,abbreviations:[u(H)],subTitle:""}]}}return[p]};for(;v.length>4;){let p=-1,y=1/0;for(let _=0;_<v.length-1;_++){const S=v[_].count+v[_+1].count;S<y&&(y=S,p=_)}if(p!==-1){const _=v[p],S=v[p+1];v.splice(p,2,{..._,count:_.count+S.count,abbreviations:[..._.abbreviations,...S.abbreviations],subTitle:_.subTitle&&S.subTitle&&_.subTitle!==S.subTitle?`${_.subTitle} & ${S.subTitle}`:_.subTitle||S.subTitle})}else break}for(let p=0;p<5&&v.length<3;p++){let y=-1,_=-1;for(let S=0;S<v.length;S++)v[S].count>_&&(_=v[S].count,y=S);if(y!==-1&&v[y].count>=2){const S=w(v[y]);if(S.length>1)v.splice(y,1,...S);else break}else break}let C=0;const m=new Set;x=v.map(p=>{var S;C+=p.count;const y=p.abbreviations.reduce((R,k,P)=>{const A=k.replace(/\s+/g,"");if(P===0)return A;const N=p.abbreviations[P-1],$=N.includes("-"),H=k.includes("-"),q=N.match(/^([^\d]+)\s*\d+/),_e=k.match(/^([^\d]+)\s*\d+/);if(q&&_e&&q[1]===_e[1]&&!$&&!H){const L=k.replace(_e[1],"").trim();return`${R}, ${L.replace(/\s+/g,"")}`}else return q&&_e&&q[1]===""&&_e[1]===""?`${R}, ${A}`:`${R}
${A}`},"");let _=p.subTitle||"";if(!_)try{const k=(p.abbreviations[0]||"").match(/^([-]+)[\u00A0\s](\d+)/);if(k){const P=k[1],A=parseInt(k[2]),N=Object.keys(Kp).find(H=>Up(H)===P)||P,$=gk[N];if($){const H=$.find(q=>A>=q.start&&A<=q.end);H&&(_=H.theme)}if(!_)if(p.count<=5)_=((S=Kp[N])==null?void 0:S[String(A)])||"";else{const H=yk[N];_=vk[H]||""}}}catch(R){console.error("Subtitle auto-gen failed:",R)}return _&&m.has(_)?_="":_&&m.add(_),{...p,bibleRef:y,displayCount:C,subTitle:_}})}return{sections:x}},[t]),l=u=>[-50,30,-55,35][u%4],c=50;return a.jsx("div",{style:{marginTop:18,width:"100%",position:"relative",padding:"10px 0",overflow:"hidden"},children:a.jsxs("div",{style:{position:"relative",width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[o.length===1&&a.jsx("div",{style:{width:"100%",height:40,position:"relative",marginBottom:5},children:a.jsxs("svg",{style:{position:"absolute",top:0,left:"50%",width:200,height:40,transform:"translateX(-50%)"},children:[a.jsx("path",{d:`M 100 0 Q 100 20, ${100+l(0)} 40`,fill:"none",stroke:"rgba(255,255,255,0.7)",strokeWidth:"9",strokeLinecap:"round"}),a.jsx("path",{d:`M 100 0 Q 100 20, ${100+l(0)} 40`,fill:"none",stroke:"rgba(3,71,50,0.2)",strokeWidth:"2.5",strokeDasharray:"6,6"})]})}),o.map((u,f)=>{const d=l(f),h=f===o.length-1;return a.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",position:"relative",marginBottom:h?o.length===1?50:0:c},children:[f===1&&a.jsx("img",{src:"/runner_v2.png",alt:"runner",style:{position:"absolute",right:"22%",top:5,width:28,height:48,zIndex:3}}),f===2&&a.jsx("img",{src:"/sign_v2.png",alt:"sign",style:{position:"absolute",left:"15%",top:-35,width:50,height:"auto",zIndex:3}}),f>=4&&(f%2===0?a.jsx("span",{style:{position:"absolute",right:"1.2%",top:-5,fontSize:36,opacity:1,zIndex:3},children:""}):a.jsx("span",{style:{position:"absolute",left:"1.2%",top:-5,fontSize:36,opacity:1,zIndex:3},children:""})),a.jsxs("div",{style:{transform:`translateX(${d}px)`,transition:"transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",zIndex:2},children:[a.jsx("div",{style:{minWidth:48,height:48,padding:"0 8px",borderRadius:24,background:n[e]?"#1B9C5A":"#034732",border:n[e]?"4px solid rgba(255,255,255,0.2)":"4px solid #F3F4F6",display:"flex",alignItems:"center",justifyContent:"center",fontSize:19,fontWeight:900,color:"#ffffff",boxShadow:"none"},children:u.displayCount}),a.jsxs("div",{style:{position:"absolute",...[1,3].includes(f)?{right:52}:{left:52},width:190,textAlign:[1,3].includes(f)?"right":"left",display:"flex",flexDirection:"column"},children:[u.subTitle&&a.jsx("div",{style:{fontSize:11,fontWeight:900,letterSpacing:"-0.05em",color:"#FFEB3B",opacity:1,textShadow:"0 1px 2px rgba(0,0,0,0.4)",marginBottom:2,lineHeight:1.2,wordBreak:"keep-all"},children:u.subTitle}),a.jsx("div",{style:{fontSize:19,fontWeight:900,color:"#ffffff",textShadow:"0 1px 2px rgba(0,0,0,0.3)",whiteSpace:"pre-wrap",wordBreak:"keep-all",lineHeight:1.2},children:u.bibleRef})]})]}),!h&&a.jsxs("svg",{style:{position:"absolute",top:40,left:"50%",width:260,height:c+8,transform:"translateX(-50%)",zIndex:1,pointerEvents:"none"},children:[a.jsx("path",{d:`M ${130+d} 0 Q ${130+(d+l(f+1))/2+(f%2===0?45:-45)} ${c/2}, ${130+l(f+1)} ${c}`,fill:"none",stroke:n[e]?"rgba(255,255,255,0.4)":"rgba(255,255,255,0.8)",strokeWidth:"10",strokeLinecap:"round"}),a.jsx("path",{d:`M ${130+d} 0 Q ${130+(d+l(f+1))/2+(f%2===0?45:-45)} ${c/2}, ${130+l(f+1)} ${c}`,fill:"none",stroke:n[e]?"rgba(255,255,255,0.75)":"rgba(3,71,50,0.3)",strokeWidth:"2.5",strokeDasharray:"6,8",strokeLinecap:"round"})]}),h&&o.length===1&&a.jsxs("svg",{style:{position:"absolute",top:40,left:"50%",width:200,height:60,transform:"translateX(-50%)",zIndex:1},children:[a.jsx("path",{d:`M ${100+l(0)} 0 Q ${100+l(0)} 30, 100 60`,fill:"none",stroke:"rgba(255,255,255,0.7)",strokeWidth:"9",strokeLinecap:"round"}),a.jsx("path",{d:`M ${100+l(0)} 0 Q ${100+l(0)} 30, 100 60`,fill:"none",stroke:"rgba(3,71,50,0.2)",strokeWidth:"2.5",strokeDasharray:"6,6"})]})]},f)})]})})}function Mn({crewName:t,user:e}){const n=`${Ye(t)} `,[r,i]=b.useState({}),[s,o]=b.useState(new Date),[l,c]=b.useState([]),[u,f]=b.useState(!1),[d,h]=b.useState(""),[x,v]=b.useState(null),[w,C]=b.useState(""),[m,p]=b.useState(!1),[y,_]=b.useState(!1),[S,R]=b.useState(!1),[k,P]=b.useState(null),[A,N]=b.useState(!1),[$,H]=b.useState([]),[q,_e]=b.useState({}),[pe,L]=b.useState({}),[V,I]=b.useState([]);b.useState(!1);const[O,z]=b.useState(!1),Q=mk(),je=(Q&&Q.approval||{})[t]||"manual";b.useEffect(()=>{if(typeof window>"u")return;const j=window.matchMedia("(max-width: 768px)"),X=ae=>z(ae.matches);return z(j.matches),j.addEventListener("change",X),()=>j.removeEventListener("change",X)},[]);const Fe=Nn(),nt=Q0();function Ct(j){if(!j)return"";const X=new Date(j);X.getFullYear();const ae=String(X.getMonth()+1).padStart(2,"0"),De=String(X.getDate()).padStart(2,"0"),Et=String(X.getHours()).padStart(2,"0"),yt=String(X.getMinutes()).padStart(2,"0");return`${ae}-${De} ${Et}:${yt}`}let Ve=YE;t===""?Ve=ly:t===""?Ve=ay:t==="(A)"?Ve=GE:t==="(B)"?Ve=QE:t===""?Ve=270:t===""&&(Ve=124),b.useEffect(()=>{if(!(e!=null&&e.uid))return;const j=bC(t,nt,e.uid,X=>{_(X),R(!0)});return()=>{typeof j=="function"&&j()}},[e,t,nt]),b.useEffect(()=>{if(!(e!=null&&e.uid)||!t||!S)return;if(!(je!=="manual"||y)){N(!1);return}let X=!0;return(async()=>{try{const ae=await Jw(t);if(!X)return;if(!ae||!ae.enabled){N(!1);return}const De=parseInt(ae.version||"0",10)||0,Et=await Zw(e.uid,t);if(!X)return;!!((ae.title||"").trim()||(ae.content||"").trim())&&De>(Et||0)?(P({...ae,version:De}),N(!0)):N(!1)}catch(ae){console.error("    ",ae)}})(),()=>{X=!1}},[e==null?void 0:e.uid,t,S,y,je]);async function Hi(){try{e!=null&&e.uid&&t&&(k!=null&&k.version)&&await eC(e.uid,t,k.version)}catch(j){console.error("      ",j)}finally{N(!1)}}b.useEffect(()=>{e!=null&&e.uid&&S&&(y||e.crew===t&&iC(e.uid).catch(j=>console.error("crew  ",j)))},[e,t,S,y]),b.useEffect(()=>{if(!(e!=null&&e.uid))return;if(!S||!y){i({});return}const j=U0(t,e.uid,i);return()=>{typeof j=="function"&&j()}},[e,t,S,y]),b.useEffect(()=>{const j=gf(De=>L(De||{})),X=nC(t,De=>{_e({[t]:De})}),ae=Fu(t,nt,De=>{const Et=De?Object.keys(De):[];I(Et)});return()=>{typeof j=="function"&&j(),typeof X=="function"&&X(),typeof ae=="function"&&ae()}},[t,nt]),b.useEffect(()=>{if(!t){H([]);return}const X=(q||{})[t],ae=X&&X.users||{},De=new Date,Et=De.getFullYear(),yt=De.getMonth()+1,Dt=rn(Et,yt);if(!Dt||Dt.length===0){H([]);return}const yr=De.getDate(),Zi=Dt.slice(0,yr),Yt=`${Et}-${String(yt).padStart(2,"0")}-${String(yr).padStart(2,"0")}`,vr=cr(t,Dt),Pt={};(vr||[]).forEach(Me=>{!Me||!Me.date||(Pt[Me.date]=Me.chapters||0)});const on=[],gn=new Set;(V||[]).forEach(Me=>{pe[Me],gn.add(Me),Vi(Me,on,ae,Pt,Zi,pe,Dt,Yt)}),Object.entries(pe||{}).forEach(([Me,Dn])=>{gn.has(Me)||Dn.crew===t&&Vi(Me,on,ae,Pt,Zi,pe,Dt,Yt)}),on.sort((Me,Dn)=>(Dn.chapters||0)-(Me.chapters||0)),H(on)},[t,q,pe,V]);function Vi(j,X,ae,De,Et,yt,Dt,yr){const Yt=(ae[j]||{}).checks||{};let vr=0,Pt=0;Et.forEach(Qr=>{const es=De[Qr]||0;es&&(Pt+=es,Yt[Qr]&&(vr+=es))});const on=yt[j]||{},gn=on.name||j,ko=on.medals||{},Me=Pt>0?Math.round(vr/Pt*100):0,Dn=bf({dates:Dt,todayKey:yr,userChecks:Yt,userDailyActivity:on.dailyActivity||{}});X.push({uid:j,name:gn,chapters:vr,progress:Me,stateKey:Dn.key,stateLabel:Dn.label,medals:ko})}b.useEffect(()=>{const j=fC(t,c);return()=>{typeof j=="function"&&j()}},[t]);const Ta=3*24*60*60*1e3,Yi=Date.now()-Ta,Ra=(l||[]).slice(0,20),Gi=(l||[]).filter(j=>(j.timestamp||0)>=Yi),ja=u?Gi:Ra;if(!e||!e.uid)return a.jsxs("div",{style:{padding:20,background:"#F8F9FF",minHeight:"100vh"},children:[a.jsxs("h2",{style:{color:"#034732",fontSize:32,fontWeight:800,textAlign:"center"},children:[" ",n]}),a.jsx("p",{children:"    ."})]});if(je==="manual"&&!y)return a.jsxs("div",{style:{padding:20,background:"#F8F9FF",minHeight:"100vh"},children:[a.jsxs("h2",{style:{color:"#034732",fontSize:32,fontWeight:800,textAlign:"center"},children:[t," "]}),a.jsx("p",{style:{textAlign:"center",marginTop:20,fontSize:16},children:"     ."})]});if(!S)return a.jsxs("div",{style:{padding:20,background:"#F8F9FF",minHeight:"100vh"},children:[a.jsxs("h2",{style:{color:"#034732",fontSize:32,fontWeight:800,textAlign:"center"},children:[" ",n]}),a.jsx("p",{children:"   ..."})]});if(je==="manual"&&!y)return a.jsxs("div",{style:{padding:20,background:"#F8F9FF",minHeight:"100vh"},children:[a.jsxs("h2",{style:{color:"#034732",fontSize:32,fontWeight:800,textAlign:"center"},children:[t," "]}),a.jsx("p",{style:{textAlign:"center",marginTop:20,fontSize:16},children:"     ."})]});if(je==="closed")return a.jsxs("div",{style:{padding:20,background:"#F8F9FF",minHeight:"100vh"},children:[a.jsxs("h2",{style:{color:"#034732",fontSize:32,fontWeight:800,textAlign:"center"},children:[" ",n]}),a.jsx("p",{children:"     .   ."}),a.jsx("button",{onClick:()=>Fe("/home"),style:{marginTop:20,padding:"8px 16px",borderRadius:8,border:"none",background:"#1565C0",color:"#fff",fontWeight:"bold",cursor:"pointer"},children:" "})]});if(je==="manual"&&!y)return a.jsxs("div",{style:{padding:20,background:"#F8F9FF",minHeight:"100vh"},children:[a.jsxs("h2",{style:{color:"#034732",fontSize:32,fontWeight:800,textAlign:"center"},children:[t," "]}),a.jsx("p",{style:{textAlign:"center",marginTop:20,fontSize:16},children:"     ."})]});const hr=s.getFullYear(),Qi=s.getMonth()+1,sn=rn(hr,Qi),Ki=cr(t,sn),Vt=`${hr}-${String(Qi).padStart(2,"0")}-${String(s.getDate()).padStart(2,"0")}`,wo=String(hr).slice(2),An=["","","","","","",""][s.getDay()],pn=`${wo} ${String(Qi).padStart(2,"0")} ${String(s.getDate())}(${An})`,ut=Ki.find(j=>j.date===Vt),rt={};Ki.forEach(j=>{rt[j.date]=j.chapters||0});let At=0;sn.forEach(j=>{r[j]&&(At+=rt[j]||0)});const Ia=(At/10).toFixed(1),qi=Math.min(100,Math.round(At/Ve*100)||0);let pr=ut&&(ut.startLabel||""),mr=ut&&(ut.endLabel||""),Xi=0;if(ut&&(Xi=ut.chapters||ut.chapterCount||0),(!pr||!mr)&&ut&&ut.label){const j=String(ut.label).split("~");j.length===2?(pr=j[0].trim(),mr=j[1].trim()):(pr=ut.label,mr="");const X=ae=>ae?ae.replace(/\(\s*\d+\)\s*$/,"").trim():"";pr=X(pr),mr=X(mr)}function Gr(j){y&&H0(t,e.uid,j,!(r[j]??!1))}function Co(j){const X=new Date(s);X.setDate(X.getDate()+j),o(X)}function Eo(){const j=d.trim();if(!j)return;const X={text:j,user:e.name||"",uid:e.uid,timestamp:Date.now()};aC(t,X).then(()=>{h("")})}function mn(j){!j||j.uid!==e.uid||(v(j.id),C(j.text||""))}async function Ji(j){if(!j||j.uid!==e.uid)return;const X=(w||"").trim();if(!X){alert("  .");return}try{p(!0),await cC(t,j.id,{text:X,editedAt:Date.now()}),v(null),C("")}catch(ae){console.error(ae),alert("   .")}finally{p(!1)}}async function gr(j){if(!(!j||j.uid!==e.uid||!window.confirm("     . ?")))try{p(!0),await uC(t,j.id)}catch(ae){console.error(ae),alert("   .")}finally{p(!1)}}return a.jsxs("div",{style:{minHeight:"100vh",padding:O?"20px 16px 32px":"24px 30px 40px",background:"#E5F3E6",display:"flex",flexDirection:"column",boxSizing:"border-box"},children:[A&&k&&a.jsx("div",{onClick:Hi,style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.45)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:O?18:24},children:a.jsxs("div",{style:{width:"100%",maxWidth:520,background:"#FFFFFF",borderRadius:18,boxShadow:"0 18px 40px rgba(0,0,0,0.22)",padding:O?"18px 18px 16px":"22px 22px 18px",border:"1px solid rgba(0,0,0,0.06)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[a.jsx("div",{style:{fontSize:18,fontWeight:800,color:"#111827"},children:(k.title||`${t} `).toString()}),a.jsx("div",{style:{fontSize:12,color:"#6B7280"},children:" "})]}),a.jsx("div",{style:{marginTop:14,fontSize:15,lineHeight:1.7,color:"#111827",whiteSpace:"pre-wrap"},children:k.content})]})}),a.jsx("h2",{style:{color:"#034732",fontSize:32,fontWeight:800,textAlign:"center",marginBottom:t===""||t===""?10:0},children:n}),t===""&&a.jsx("div",{style:{color:"#4B5563",fontSize:15,fontWeight:500,textAlign:"center",marginBottom:10},children:"30  1"}),t===""&&a.jsx("div",{style:{color:"#4B5563",fontSize:15,fontWeight:500,textAlign:"center",marginBottom:10},children:"30  1"}),(t==="(A)"||t==="(B)")&&a.jsx("div",{style:{color:"#4B5563",fontSize:15,fontWeight:500,textAlign:"center",marginBottom:10},children:"30   "}),t===""&&a.jsx("div",{style:{color:"#4B5563",fontSize:15,fontWeight:500,textAlign:"center",marginBottom:10},children:"30  1"}),t===""&&a.jsx("div",{style:{color:"#4B5563",fontSize:14,fontWeight:500,textAlign:"center",lineHeight:1.6,maxWidth:600,margin:"0 auto"},children:"<   ,            >"}),t===""&&a.jsx("div",{style:{color:"#4B5563",fontSize:14,fontWeight:500,textAlign:"center",lineHeight:1.6,maxWidth:600,margin:"0 auto"},children:"<   ,          >"}),a.jsxs("div",{style:{marginTop:24,display:"flex",alignItems:"center",justifyContent:"center",gap:24},children:[a.jsxs("svg",{width:120,height:120,children:[a.jsx("circle",{stroke:"#E5E7EB",fill:"transparent",strokeWidth:14,r:50,cx:60,cy:60}),a.jsx("circle",{stroke:"#6366F1",fill:"transparent",strokeWidth:14,strokeLinecap:"round",r:50,cx:60,cy:60,strokeDasharray:2*Math.PI*50,strokeDashoffset:2*Math.PI*50-qi/100*(2*Math.PI*50),style:{transition:"stroke-dashoffset 0.4s ease"}})]}),a.jsxs("div",{style:{textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[a.jsx("p",{style:{margin:0,fontSize:15,color:"#4B5563"},children:"  "}),a.jsxs("div",{style:{marginTop:6,display:"flex",alignItems:"baseline",gap:12},children:[a.jsxs("span",{style:{fontSize:28,fontWeight:700},children:[qi,"%"]}),a.jsxs("span",{style:{fontSize:20,fontWeight:600},children:[Ia,"km"]})]}),a.jsxs("div",{style:{marginTop:4,fontSize:16,color:"#4B5563"},children:["(",At," / ",Ve,")"]})]})]}),a.jsx("div",{style:{marginTop:28,width:"100%",display:"flex",justifyContent:"center",position:"relative"},children:a.jsxs("div",{onClick:()=>Gr(Vt),style:{width:O?"96%":"86%",maxWidth:O?"none":540,background:r[Vt]?"linear-gradient(135deg, #2C3E50 0%, #000000 100%)":"linear-gradient(135deg, #1B9C5A 0%, #15803D 100%)",borderRadius:34,padding:O?"20px 8px 60px":"24px 30px 40px",color:"#ffffff",textAlign:"center",boxShadow:"0 12px 28px rgba(0,0,0,0.15)",cursor:y?"pointer":"not-allowed",opacity:y?1:.6,position:"relative",minHeight:O?330:280,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",margin:"0 auto",overflow:"hidden"},children:[a.jsx("button",{onClick:j=>{j.stopPropagation(),Co(-1)},style:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:50,height:80,background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"0 12px 12px 0",cursor:"pointer",zIndex:10,display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx("div",{style:{width:20,height:20,borderLeft:"6px solid #fff",borderBottom:"6px solid #fff",transform:"rotate(45deg)",opacity:1}})}),a.jsx("button",{onClick:j=>{j.stopPropagation(),Co(1)},style:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",width:50,height:80,background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"12px 0 0 12px",cursor:"pointer",zIndex:10,display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx("div",{style:{width:20,height:20,borderRight:"6px solid #fff",borderBottom:"6px solid #fff",transform:"rotate(-45deg)",opacity:1}})}),a.jsx("div",{style:{position:"absolute",bottom:40,left:10,fontSize:24,opacity:.15},children:""}),a.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",padding:"16px 24px",borderRadius:"24px",boxShadow:"0 8px 20px rgba(0,0,0,0.06)",marginBottom:"20px",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.5)",backdropFilter:"blur(4px)",width:O?"90%":"85%",maxWidth:500,boxSizing:"border-box",zIndex:5},children:[a.jsx("div",{style:{fontSize:22,fontWeight:800,color:r[Vt]?"#2C3E50":"#034732"},children:pn}),a.jsxs("div",{style:{marginTop:4,fontSize:O?17:19,fontWeight:700,color:r[Vt]?"#555":"#1B9C5A"},children:[" ( ",Xi,")"]})]}),ut&&a.jsx(_k,{todayPortion:ut,todayKey:Vt,checks:r,toggle:Gr,isApproved:y,isMobile:O}),a.jsx("div",{style:{position:"absolute",left:18,bottom:16,zIndex:5},children:a.jsx("div",{onClick:()=>Gr(Vt),style:{width:60,height:60,borderRadius:"50%",border:"4px solid #F3F4F6",background:"#FFFFFF",boxShadow:"0 4px 10px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",cursor:"pointer",transition:"all 0.3s"},children:a.jsx("span",{style:{fontSize:11,fontWeight:700,color:"rgba(0,0,0,0.25)"},children:"()"})})}),r[Vt]&&a.jsx("div",{style:{position:"absolute",left:-52,bottom:-54,zIndex:10,pointerEvents:"none",width:200,height:200,display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx("img",{src:"/stamps/stamps_source_clean.png",alt:"stamp",style:{width:190,height:190,objectFit:"contain",transform:"rotate(-10deg)",filter:"drop-shadow(0 4px 12px rgba(0,0,0,0.3))",animation:"popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)"}})})]})}),a.jsx("div",{style:{marginTop:10,textAlign:"center",fontSize:15,fontWeight:500,color:"#555"},children:"   "}),a.jsxs("div",{style:{marginTop:14,fontSize:15,lineHeight:1.5,fontWeight:500,textAlign:"center",color:"#555"},children:["     .",a.jsx("br",{}),"    "]}),a.jsx("div",{style:{marginTop:12,background:"#FFFFFF",borderRadius:24,padding:O?"6px 8px 8px":"12px 20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:10,maxWidth:520,width:"88%",marginLeft:"auto",marginRight:"auto"},children:a.jsxs("div",{style:{marginTop:8,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:O?8:16},children:[a.jsxs("button",{onClick:()=>Fe(`/?crew=${encodeURIComponent(t)}&date=${Vt}`),style:{background:"#F7C948",borderRadius:28,padding:O?"20px 26px":"22px 32px",border:"none",color:"#000",fontSize:19,fontWeight:700,lineHeight:1.35,cursor:"pointer",boxShadow:"0 4px 10px rgba(0,0,0,0.15)",minWidth:O?130:170,textAlign:"center"},children:["",a.jsx("br",{}),""]}),a.jsx("img",{src:"/runner.png",alt:"runner",style:{width:O?80:125,height:"auto",objectFit:"contain"}})]})}),a.jsxs("div",{style:{marginTop:32},children:[a.jsx("p",{style:{margin:0,fontWeight:700,fontSize:15},children:" "}),a.jsx("textarea",{value:d,onChange:j=>h(j.target.value),rows:3,placeholder:"    ",style:{width:"100%",marginTop:10,padding:12,borderRadius:12,border:"1px solid #CBD5E1",fontSize:14,resize:"vertical"}}),a.jsx("button",{onClick:Eo,style:{marginTop:10,padding:"10px 18px",border:"none",borderRadius:10,background:"#1B9C5A",color:"#fff",fontSize:15,fontWeight:600,cursor:"pointer"},children:""})]}),a.jsxs("div",{style:{marginTop:24},children:[a.jsx("p",{style:{fontWeight:700,marginBottom:8},children:"  "}),a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:10},children:[a.jsx("button",{onClick:()=>f(j=>!j),style:{padding:"8px 12px",borderRadius:10,border:"1px solid #1B9C5A",background:u?"#1B9C5A":"#fff",color:u?"#fff":"#1B9C5A",cursor:"pointer",fontWeight:700},children:u?"":" ( 3)"}),u&&a.jsx("div",{style:{fontSize:12,color:"#555",alignSelf:"center"},children:" 3    ."})]}),a.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,display:"flex",flexDirection:"column",gap:4},children:ja.map(j=>{const X=j&&j.uid&&e&&j.uid===e.uid,ae=x===j.id;return a.jsxs("li",{style:{padding:10,borderRadius:10,background:"#F1F5F9",fontSize:13,display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:10},children:[a.jsxs("div",{style:{flex:1,minWidth:0},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:6},children:[a.jsx("span",{style:{fontWeight:700},children:j.user}),j.timestamp&&a.jsxs("span",{style:{fontSize:12,color:"#6B7280"},children:[Ct(j.timestamp),j.editedAt?" ()":""]})]}),ae?a.jsxs("div",{style:{marginTop:6},children:[a.jsx("textarea",{value:w,onChange:De=>C(De.target.value),rows:3,style:{width:"100%",padding:10,borderRadius:10,border:"1px solid #CBD5E1",fontSize:13,resize:"vertical",boxSizing:"border-box",background:"#fff"},disabled:m}),a.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[a.jsx("button",{onClick:()=>Ji(j),disabled:m,style:{padding:"8px 12px",borderRadius:10,border:"none",background:"#1B9C5A",color:"#fff",fontWeight:700,cursor:"pointer",opacity:m?.6:1},children:""}),a.jsx("button",{onClick:()=>{v(null),C("")},disabled:m,style:{padding:"8px 12px",borderRadius:10,border:"1px solid #CBD5E1",background:"#fff",color:"#111827",fontWeight:700,cursor:"pointer",opacity:m?.6:1},children:""})]})]}):a.jsx("div",{style:{marginTop:4,color:"#374151",wordBreak:"break-word"},children:j.text})]}),X&&!ae&&a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6,flexShrink:0},children:[a.jsx("button",{onClick:()=>mn(j),disabled:m,style:{padding:"6px 10px",borderRadius:10,border:"1px solid #CBD5E1",background:"#fff",fontWeight:700,cursor:"pointer",opacity:m?.6:1},children:""}),a.jsx("button",{onClick:()=>gr(j),disabled:m,style:{padding:"6px 10px",borderRadius:10,border:"none",background:"#E63946",color:"#fff",fontWeight:800,cursor:"pointer",opacity:m?.6:1},children:""})]})]},j.id)})})]}),a.jsxs("div",{style:{marginTop:28},children:[a.jsx("p",{style:{fontWeight:700,marginBottom:8},children:"    "}),!$||$.length===0?a.jsx("div",{style:{padding:12,borderRadius:12,background:"#F8FAFF",border:"1px solid #E2E8F0",fontSize:13,color:"#64748B"},children:"    ."}):a.jsx("div",{style:{overflowX:"auto"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:12,background:"#F8FAFF",borderRadius:12},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{borderBottom:"1px solid #CBD5E1",padding:6},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #CBD5E1",padding:6,textAlign:"right"},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #CBD5E1",padding:6,textAlign:"right"},children:" "}),a.jsx("th",{style:{borderBottom:"1px solid #CBD5E1",padding:6,textAlign:"center"},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #CBD5E1",padding:6,textAlign:"center"},children:""})]})}),a.jsx("tbody",{children:$.map(j=>a.jsxs("tr",{children:[a.jsx("td",{style:{borderBottom:"1px solid #E2E8F0",padding:6},children:j.name}),a.jsxs("td",{style:{borderBottom:"1px solid #E2E8F0",padding:6,textAlign:"right"},children:[j.progress,"%"]}),a.jsxs("td",{style:{borderBottom:"1px solid #E2E8F0",padding:6,textAlign:"right"},children:[j.chapters,""]}),a.jsx("td",{style:{borderBottom:"1px solid #E2E8F0",padding:6,textAlign:"center"},children:a.jsx("span",{style:{display:"inline-block",padding:"4px 16px",borderRadius:8,background:j.stateKey==="success"?"#DCFCE7":j.stateKey==="running"?"#DBEAFE":j.stateKey==="fail"||j.stateKey==="shortage"?"#E5E7EB":"transparent",color:j.stateKey==="success"?"#166534":j.stateKey==="running"?"#1D4ED8":j.stateKey==="fail"||j.stateKey==="shortage"?"#111827":"#166534",fontWeight:600},children:j.stateLabel||" "})}),a.jsx("td",{style:{borderBottom:"1px solid #E2E8F0",padding:6,textAlign:"center"},children:a.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:4},children:[j.medals&&(j.medals.gold||0)>0&&a.jsxs("div",{className:"medal-wrapper",children:[a.jsx("span",{className:"medal-icon",children:""}),a.jsx("span",{className:"medal-count",children:j.medals.gold})]}),j.medals&&(j.medals.silver||0)>0&&a.jsxs("div",{className:"medal-wrapper",children:[a.jsx("span",{className:"medal-icon",children:""}),a.jsx("span",{className:"medal-count",children:j.medals.silver})]}),j.medals&&(j.medals.bronze||0)>0&&a.jsxs("div",{className:"medal-wrapper",children:[a.jsx("span",{className:"medal-icon",children:""}),a.jsx("span",{className:"medal-count",children:j.medals.bronze})]})]})})]},j.uid))})]})})]}),a.jsx("div",{style:{marginTop:20,textAlign:"center"},children:a.jsx("button",{onClick:()=>Fe("/home"),style:{padding:"10px 24px",borderRadius:999,border:"none",background:"#1565C0",color:"#fff",fontWeight:"bold",cursor:"pointer",fontSize:15,boxShadow:"0 6px 12px rgba(0,0,0,0.2)"},children:" "})})]})}const qp=ue;function xk({user:t}){const[e,n]=b.useState({}),[r,i]=b.useState({}),[s,o]=b.useState({});if(b.useEffect(()=>{if(!t||!t.uid)return;const p=FC(t.uid,y=>i(y||{}));return()=>{typeof p=="function"&&p()}},[t]),b.useEffect(()=>{if(!t||!t.uid)return;const y=new Date().getFullYear(),_=yC(y,S=>{o(S||{})});return()=>{typeof _=="function"&&_()}},[t]),b.useEffect(()=>{if(!t||!t.uid)return;const p=[];return qp.forEach(y=>{const _=U0(y,t.uid,S=>{n(R=>({...R,[y]:S||{}}))});typeof _=="function"&&p.push(_)}),()=>{p.forEach(y=>{try{y()}catch{}})}},[t]),!t||!t.uid)return a.jsxs("div",{style:{padding:20,minHeight:"100vh",background:"#F8F9FF"},children:[a.jsx("h2",{children:"  "}),a.jsx("p",{children:"    ."})]});const l=new Date,c=l.getFullYear(),u=l.getMonth()+1,f=`${c}-${String(u).padStart(2,"0")}-${String(l.getDate()).padStart(2,"0")}`;let d=0,h=0,x=0;const v={};if(qp.forEach(p=>{const y=e[p]||{};Object.entries(y).forEach(([_,S])=>{if(!S)return;const[R,k]=_.split("-"),P=Number(R),A=Number(k);if(!P||!A)return;const N=`${p}_${R}-${k}`;if(!v[N]){const H=rn(P,A),q=cr(p,H),_e={};q.forEach(pe=>{_e[pe.date]=pe.chapters||0}),v[N]=_e}const $=v[N][_]||0;_===f&&(d+=$),P===c&&A===u&&(h+=$),P===c&&(x+=$)})}),t&&t.uid&&s&&t.crew){const p=s[u];if(p){let y=0;const _=p.gold&&p.gold[t.uid],S=p.silver&&p.silver[t.uid],R=p.bronze&&p.bronze[t.uid];if(_||S||R){const k=`${t.crew}_${c}-${u}`;if(!v[k]){const A=rn(c,u),N=cr(t.crew,A),$={};N.forEach(H=>{$[H.date]=H.chapters||0}),v[k]=$}const P=v[k];y=Object.values(P).reduce((A,N)=>A+N,0)}if(y>0&&y>h){const k=y-h;h=y,x+=k}}}const w=(d/10).toFixed(1),C=(h/10).toFixed(1),m=(x/10).toFixed(1);return a.jsxs("div",{style:{padding:20,minHeight:"100vh",background:"#E5F3E6"},children:[a.jsx("h2",{style:{marginBottom:10},children:"  "}),a.jsx("p",{style:{marginBottom:20},children:"    ."}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12,maxWidth:400,marginBottom:30},children:[a.jsxs("div",{style:{background:"#fff",padding:16,borderRadius:10,boxShadow:"0 4px 6px rgba(0,0,0,0.08)"},children:[a.jsx("strong",{children:"  "}),a.jsxs("div",{style:{fontSize:20,marginTop:8},children:[d," (",w,"km)"]})]}),a.jsxs("div",{style:{background:"#fff",padding:16,borderRadius:10,boxShadow:"0 4px 6px rgba(0,0,0,0.08)"},children:[a.jsx("strong",{children:"   "}),a.jsxs("div",{style:{fontSize:20,marginTop:8},children:[h," (",C,"km)"]})]}),a.jsxs("div",{style:{background:"#fff",padding:16,borderRadius:10,boxShadow:"0 4px 6px rgba(0,0,0,0.08)"},children:[a.jsx("strong",{children:"   "}),a.jsxs("div",{style:{fontSize:20,marginTop:8},children:[x," (",m,"km)"]})]}),a.jsxs("div",{style:{background:"#fff",padding:16,borderRadius:10,boxShadow:"0 4px 6px rgba(0,0,0,0.08)",marginTop:12},children:[a.jsx("strong",{children:"  "}),a.jsxs("div",{style:{fontSize:16,marginTop:8,lineHeight:1.6},children:[a.jsxs("div",{children:[" : ",r.gold||0,""]}),a.jsxs("div",{children:[" : ",r.silver||0,""]}),a.jsxs("div",{children:[" : ",r.bronze||0,""]})]})]})]})]})}function bk(t){const[e,n]=b.useState(null),[r,i]=b.useState(!0);b.useEffect(()=>{if(!t){n(null),i(!1);return}const o=WC(t,l=>{n(l),i(!1)});return()=>{try{o&&o()}catch{}}},[t]);const s=b.useCallback(async o=>{t&&await $C(t,o)},[t]);return{bookmark:e,loading:r,saveBookmark:s}}function Sk(){const{search:t}=xf();return lm.useMemo(()=>new URLSearchParams(t),[t])}function wk({user:t}){const e=Sk(),n=Nn(),r=t&&t.uid?t.uid:null,{bookmark:i,loading:s,saveBookmark:o}=bk(r),[l,c]=b.useState(!1),u=e.get("crew")||"",f=e.get("date");b.useEffect(()=>{if(!r||!f||!/^\d{4}-\d{2}-\d{2}$/.test(f))return;const L=F(le,`users/${r}/dailyActivity/${f}`);Vr(L,{biblePageVisited:!0,visitedAt:Date.now()}).catch(V=>{console.error("[dailyActivity] failed to mark biblePageVisited",V)})},[r,f]);const[d,h]=b.useState(null),[x,v]=b.useState(null),[w,C]=b.useState(!0),[m,p]=b.useState(()=>{const L=localStorage.getItem("bibleFont");return L?parseInt(L):18}),[y,_]=b.useState(""),[S,R]=b.useState({book:null,chapter:null}),[k,P]=b.useState(!1);b.useEffect(()=>{localStorage.setItem("bibleFont",m)},[m]),b.useEffect(()=>{async function L(){try{if(!f){_("  ."),C(!1);return}const V=new Date(f+"T00:00:00");if(isNaN(V.getTime())){_("   ."),C(!1);return}const I=V.getFullYear(),O=V.getMonth()+1,z=rn(I,O),ie=cr(u,z).find(nt=>nt.date===f);if(!ie){_("      ."),C(!1);return}const je=await fetch("/bible_kor.json");if(!je.ok)throw new Error("   .");const Fe=await je.json();v(Fe),h(ie),C(!1)}catch(V){console.error(V),_("    ."),C(!1)}}L()},[u,f]);const A=()=>{const L=document.querySelectorAll("[id^='pos-']");if(!L||L.length===0)return null;let V=null,I=1/0;if(L.forEach(z=>{const Q=z.getBoundingClientRect();if(Q.bottom<=0)return;const ie=Math.abs(Q.top-80);ie<I&&(I=ie,V=z)}),!V)return null;const O=V.id.replace("pos-","").split("-");return{book:O[0],chapter:parseInt(O[1],10)}},N=async()=>{if(!r){alert(" .");return}if(!d){alert("   .    .");return}const L=A();if(!L||!L.book||!L.chapter){alert("       .");return}await o({bookId:L.book,chapter:L.chapter}),c(!0),setTimeout(()=>c(!1),1500)},$=()=>{if(!i||!i.bookId||!i.chapter)return;const L=document.getElementById(`pos-${i.bookId}-${i.chapter}`);L?L.scrollIntoView({behavior:"smooth",block:"start"}):alert("     .")},H=L=>{if(!L)return"";const V=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],I=new RegExp("("+V.join("|")+")\\d+:\\d+"),O=L.match(I);if(O){const z=L.indexOf(O[0]);if(z>10)return L.substring(0,z).trim()}return L};if(w)return a.jsxs("div",{style:{minHeight:"100vh",padding:20,background:"#E5FFF5"},children:[a.jsx("h2",{style:{marginTop:0},children:"  "}),a.jsx("p",{children:"  ..."})]});if(y||!d||!x)return a.jsxs("div",{style:{minHeight:"100vh",padding:20,background:"#E5FFF5"},children:[a.jsx("h2",{style:{marginTop:0},children:"  "}),a.jsx("p",{style:{color:"#b91c1c"},children:y||"   ."}),a.jsx("button",{onClick:()=>n(-1),style:{marginTop:16,padding:"8px 16px",borderRadius:999,border:"none",background:"#2563EB",color:"#0f172a",fontWeight:600,cursor:"pointer"},children:" "})]});const q=[];(d.items||[]).forEach(L=>{if(!(L!=null&&L.book)||!(L!=null&&L.chapter))return;const V=`${L.book}:${L.chapter}`;q.includes(V)||q.push(V)});const _e=q.map(L=>{var Q;const[V,I]=L.split(":"),O=parseInt(I,10),z=(Q=x==null?void 0:x[V])==null?void 0:Q[String(O)];return{book:V,chapter:O,verses:z||{}}}),pe=d.panorama?d.panorama.parsedSections.map(L=>({...L,chapters:L.items.map(V=>{var O;const I=(O=x==null?void 0:x[V.book])==null?void 0:O[String(V.chapter)];return{book:V.book,chapter:V.chapter,verses:I||{}}})})):null;return a.jsx("div",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "SF Pro Text", "Apple SD Gothic Neo", system-ui',background:k?"#050509":"#f2f2f7",minHeight:"100vh"},children:a.jsxs("div",{style:{maxWidth:820,margin:"0 auto",minHeight:"100vh",padding:"12px 12px 24px",display:"flex",flexDirection:"column",gap:12},children:[a.jsxs("div",{style:{position:"sticky",top:0,zIndex:20,padding:"8px 4px 10px",marginBottom:4,display:"flex",alignItems:"center",justifyContent:"space-between",backdropFilter:"blur(18px)",WebkitBackdropFilter:"blur(18px)",background:k?"rgba(15,23,42,0.9)":"rgba(242,242,247,0.9)",borderBottom:k?"1px solid rgba(15,23,42,0.9)":"1px solid rgba(226,232,240,0.9)"},children:[a.jsx("button",{onClick:()=>n(-1),style:{width:54,padding:"6px 8px",borderRadius:14,border:"none",background:k?"rgba(15,23,42,0.8)":"#ffffff",boxShadow:k?"0 4px 10px rgba(0,0,0,0.45)":"0 4px 10px rgba(148,163,184,0.55)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:0,fontSize:18,cursor:"pointer",color:k?"#E5E7EB":"#111827"},children:""}),a.jsxs("button",{onClick:()=>P(L=>!L),"aria-label":k?"  ":" ",style:{padding:"6px 10px",borderRadius:999,border:"1px solid",borderColor:k?"rgba(255,255,255,0.18)":"rgba(15,23,42,0.12)",background:k?"rgba(255,255,255,0.08)":"rgba(15,23,42,0.06)",color:k?"#E5E7EB":"#111827",fontSize:13,fontWeight:700,display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[a.jsx("span",{style:{fontSize:16,lineHeight:1},children:k?"":""}),a.jsx("span",{style:{whiteSpace:"nowrap",lineHeight:1.2,letterSpacing:"0.01em"},children:k?" ":""})]})]}),a.jsxs("div",{style:{borderRadius:18,padding:14,color:k?"#E5E7EB":"#0f172a",background:k?"rgba(15,23,42,0.95)":"rgba(255,255,255,0.96)",boxShadow:k?"0 10px 25px rgba(0,0,0,0.7)":"0 8px 22px rgba(148,163,184,0.35)",display:"flex",flexDirection:"column",gap:10},children:[!s&&a.jsxs("div",{style:{padding:"9px 11px",borderRadius:12,color:k?"#E5E7EB":"#0f172a",background:k?"rgba(15,23,42,0.9)":"rgba(248,250,252,0.95)",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:13,gap:8},children:[a.jsx("span",{children:i?`  : ${i.bookId} ${i.chapter}`:"   ."}),i&&a.jsx("button",{onClick:$,style:{padding:"6px 10px",borderRadius:999,border:"none",background:"#4a6cf7",color:"#F9FAFB",fontSize:12,cursor:"pointer",whiteSpace:"nowrap"},children:" "})]}),a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[a.jsxs("div",{style:{display:"flex",gap:8},children:[a.jsx("button",{onClick:()=>p(L=>Math.max(14,L-2)),style:{padding:"6px 10px",borderRadius:10,border:"none",background:k?"#020617":"#E5E7EB",color:k?"#E5E7EB":"#111827",fontWeight:600,cursor:"pointer"},children:"A-"}),a.jsx("button",{onClick:()=>p(L=>Math.min(26,L+2)),style:{padding:"6px 10px",borderRadius:10,border:"none",background:k?"#020617":"#E5E7EB",color:k?"#E5E7EB":"#111827",fontWeight:600,cursor:"pointer"},children:"A+"})]}),a.jsxs("div",{style:{fontSize:12,opacity:.8},children:[": ",f]})]}),d.panorama?a.jsxs("div",{style:{marginTop:8},children:[a.jsx("div",{style:{fontSize:26,fontWeight:800,color:"#1F8A70",letterSpacing:"-0.02em",marginBottom:8},children:d.panorama.mainTitle}),a.jsx("div",{style:{fontSize:16,fontWeight:600,opacity:.9,display:"flex",flexWrap:"wrap",gap:"8px 10px"},children:d.panorama.sections.map((L,V)=>a.jsxs("span",{style:{background:k?"rgba(31,138,112,0.25)":"#E5F3E6",color:k?"#86EFAC":"#1F8A70",padding:"4px 10px",borderRadius:10,border:k?"1px solid rgba(134,239,172,0.2)":"none"},children:[L.subTitle," (",L.bibleRef,")"]},V))})]}):a.jsxs("div",{style:{marginTop:12,fontSize:Math.max(22,m+4),letterSpacing:"0.01em",fontWeight:800},children:[u,"  ",d.label]})]})]}),a.jsx("div",{style:{flex:1,overflowY:"auto",background:k?"rgba(15,23,42,0.98)":"#ffffff",color:k?"#E5E7EB":"#0f172a",borderRadius:22,padding:18,boxShadow:k?"0 16px 40px rgba(0,0,0,0.8)":"0 16px 40px rgba(148,163,184,0.45)"},children:pe?pe.map((L,V)=>a.jsxs("div",{style:{marginBottom:40},children:[a.jsxs("div",{style:{padding:"8px 12px",background:k?"rgba(31,138,112,0.2)":"#E5F3E6",borderRadius:12,marginBottom:16,borderLeft:"4px solid #1F8A70"},children:[a.jsxs("div",{style:{fontSize:13,color:"#1F8A70",fontWeight:700,marginBottom:2},children:["SECTION ",V+1]}),a.jsxs("div",{style:{fontSize:18,fontWeight:800},children:[L.subTitle," (",L.bibleRef,")"]})]}),L.chapters.map(I=>a.jsxs("div",{id:`pos-${I.book}-${I.chapter}`,style:{marginBottom:22},children:[a.jsxs("h3",{style:{margin:"0 0 10px",fontSize:18,fontWeight:700},children:[I.book," ",I.chapter,""]}),Object.keys(I.verses).sort((O,z)=>parseInt(O,10)-parseInt(z,10)).map(O=>{const z=I.verses[O]||"",Q=z.match(/^<([^>]+)>\s*(.*)$/),ie=Q?Q[1]:null,je=Q?Q[2]:z;return a.jsxs("div",{style:{margin:"6px 0"},children:[ie&&a.jsxs("div",{style:{color:"#1F8A70",fontWeight:700,fontSize:"1.05em",marginBottom:4},children:["[ ",ie," ]"]}),a.jsxs("p",{style:{margin:"2px 0",fontSize:m,letterSpacing:"0.01em",lineHeight:1.65},children:[a.jsxs("strong",{children:[O,"."]})," ",H(je)]})]},O)})]},I.book+I.chapter))]},V)):_e.map(L=>{const V=Object.keys(L.verses).sort((I,O)=>parseInt(I,10)-parseInt(O,10));return a.jsxs("div",{id:`pos-${L.book}-${L.chapter}`,style:{marginBottom:22},onMouseEnter:()=>R({book:L.book,chapter:L.chapter}),children:[a.jsxs("h3",{style:{margin:"0 0 10px",fontSize:18,fontWeight:700},children:[L.book," ",L.chapter,""]}),V.map(I=>{const O=L.verses[I]||"",z=O.match(/^<([^>]+)>\s*(.*)$/),Q=z?z[1]:null,ie=z?z[2]:O;return a.jsxs("div",{style:{margin:"6px 0"},children:[Q&&a.jsxs("div",{style:{color:"#1F8A70",fontWeight:700,fontSize:"1.05em",marginBottom:4},children:["[ ",Q," ]"]}),a.jsxs("p",{style:{margin:"2px 0",fontSize:m,letterSpacing:"0.01em",lineHeight:1.65},children:[a.jsxs("strong",{children:[I,"."]})," ",H(ie)]})]},I)})]},L.book+L.chapter)})}),a.jsx("div",{style:{height:40}}),a.jsxs("button",{onClick:N,style:{position:"fixed",right:20,bottom:24,zIndex:9999,padding:"10px 16px",borderRadius:999,border:"none",background:"rgba(255,255,255,0.9)",color:"#0f172a",fontWeight:"bold",fontSize:14,boxShadow:"0 14px 30px rgba(15,23,42,0.35)",cursor:"pointer",display:"flex",alignItems:"center",gap:8},children:[a.jsx("span",{style:{fontSize:18},children:""}),a.jsx("span",{children:" "})]}),l&&a.jsx("div",{style:{position:"fixed",inset:0,zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.25)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:a.jsxs("div",{style:{width:"85%",maxWidth:340,padding:"16px 18px",borderRadius:28,background:"rgba(255,255,255,0.85)",color:"#0f172a",boxShadow:"0 20px 40px rgba(0,0,0,0.35)",textAlign:"center"},children:[a.jsx("div",{style:{width:48,height:48,margin:"0 auto 10px",borderRadius:24,background:"#34C759",display:"flex",alignItems:"center",justifyContent:"center",fontSize:24,color:"#fff"},children:""}),a.jsx("div",{style:{fontSize:16,fontWeight:700,marginBottom:4},children:" "}),a.jsx("div",{style:{fontSize:13,color:"#475569"},children:"      "})]})})]})})}function Ck({user:t}){const e=Nn(),[n,r]=b.useState({}),[i,s]=b.useState({}),[o,l]=b.useState({});b.useEffect(()=>{const u=V0(v=>r(v||{})),f=gf(v=>s(v||{})),d=new Date,h=`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}`,x=[];return ue.forEach(v=>{const w=F(le,`approvals/${h}/${v}`),C=Ce(w,m=>{const p=m.val()?Object.keys(m.val()):[];l(y=>({...y,[v]:p}))});x.push(C)}),()=>{typeof u=="function"&&u(),typeof f=="function"&&f(),x.forEach(v=>v())}},[]);const c=b.useMemo(()=>{const u=new Date,f=u.getFullYear(),d=u.getMonth()+1,h=rn(f,d);if(!h||h.length===0)return{dates:[],todayKey:"",byCrew:{}};const x=u.getDate(),v=`${f}-${String(d).padStart(2,"0")}-${String(x).padStart(2,"0")}`,w=h.slice(0,x),C={};ue.forEach(_=>C[_]=[]);const m=new Set,p={};ue.forEach(_=>{const S=cr(_,h),R={};(S||[]).forEach(k=>{!k||!k.date||(R[k.date]=typeof k.chapters=="number"?k.chapters:0)}),p[_]=R});const y=(_,S,R)=>{if(!_||!C[_])return;const k=n[_]||{},P=k.users&&k.users[S]||{},A=p[_]||{},$=(P||{}).checks||{};let H=0,q=0;w.forEach(I=>{const O=A[I]||0;O&&(q+=O,$[I]&&(H+=O))});const _e=R.name||S,pe=R.medals||{},L=q>0?Math.round(H/q*100):0,V=bf({dates:h,todayKey:v,userChecks:$,userDailyActivity:R.dailyActivity||{}});C[_].push({uid:S,name:_e,chapters:H,progress:L,stateKey:V.key,stateLabel:V.label,medals:pe})};return ue.forEach(_=>{(o[_]||[]).forEach(R=>{m.add(R);const k=(i||{})[R];k&&y(_,R,k)})}),Object.entries(i||{}).forEach(([_,S])=>{if(m.has(_))return;const R=S.crew;R&&C[R]&&y(R,_,S)}),Object.keys(C).forEach(_=>{C[_].sort((S,R)=>(R.chapters||0)-(S.chapters||0))}),{dates:h,todayKey:v,byCrew:C}},[n,i,o]);return a.jsxs("div",{style:{padding:25,minHeight:"100vh",background:"#E5F3E6",color:"#034732"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[a.jsx("h2",{style:{margin:0,fontSize:26},children:"   "}),a.jsx("button",{onClick:()=>e("/home"),style:{padding:"10px 14px",borderRadius:12,border:"none",background:"#E8F6F0",color:"#1E7F74",fontWeight:900,cursor:"pointer"},children:"  "})]}),a.jsxs("div",{style:{fontSize:12,color:"#2F3A33",marginBottom:14},children:[" ",a.jsx("b",{children:"  /   .. /   /  !"}),"  ."]}),ue.map(u=>{const f=c.byCrew&&c.byCrew[u]||[];return a.jsxs("div",{style:{marginBottom:16,padding:14,borderRadius:12,background:"#FFFFFF",boxShadow:"0 4px 10px rgba(0,0,0,0.06)"},children:[a.jsx("h3",{style:{margin:0,marginBottom:10},children:Ye(u)}),f.length===0?a.jsx("div",{style:{fontSize:12,color:"#64748B"},children:"    ."}):a.jsx("div",{style:{overflowX:"auto"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:12,background:"#F8FAFF",borderRadius:12},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{borderBottom:"1px solid #CBD5E1",padding:6,textAlign:"left"},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #CBD5E1",padding:6,textAlign:"right"},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #CBD5E1",padding:6,textAlign:"right"},children:" "}),a.jsx("th",{style:{borderBottom:"1px solid #CBD5E1",padding:6,textAlign:"center"},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #CBD5E1",padding:6,textAlign:"center"},children:""})]})}),a.jsx("tbody",{children:f.map(d=>{var h,x,v;return a.jsxs("tr",{children:[a.jsx("td",{style:{borderBottom:"1px solid #E2E8F0",padding:6},children:d.name}),a.jsxs("td",{style:{borderBottom:"1px solid #E2E8F0",padding:6,textAlign:"right"},children:[d.progress,"%"]}),a.jsxs("td",{style:{borderBottom:"1px solid #E2E8F0",padding:6,textAlign:"right"},children:[d.chapters,""]}),a.jsx("td",{style:{borderBottom:"1px solid #E2E8F0",padding:6,textAlign:"center"},children:(()=>{const w=d.stateLabel||" ",C=d.stateKey||"",m=C==="success"||w.includes(""),p=C==="ready"||w.includes(""),y=C==="running"||w.includes("");if(C==="fail"||w.includes("!"),p)return a.jsx("span",{style:{color:"#166534",fontWeight:600},children:w});const _={display:"inline-block",borderRadius:8,padding:"4px 16px",fontWeight:600,backgroundColor:m?"#DCFCE7":y?"#DBEAFE":"#E5E7EB",color:m?"#166534":y?"#1D4ED8":"#111827"};return a.jsx("span",{style:_,children:w})})()}),a.jsx("td",{style:{borderBottom:"1px solid #E2E8F0",padding:6,textAlign:"center"},children:a.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:4},children:[(((h=d.medals)==null?void 0:h.gold)||0)>0&&a.jsxs("div",{children:[a.jsx("span",{children:""})," ",a.jsx("b",{children:d.medals.gold})]}),(((x=d.medals)==null?void 0:x.silver)||0)>0&&a.jsxs("div",{children:[a.jsx("span",{children:""})," ",a.jsx("b",{children:d.medals.silver})]}),(((v=d.medals)==null?void 0:v.bronze)||0)>0&&a.jsxs("div",{children:[a.jsx("span",{children:""})," ",a.jsx("b",{children:d.medals.bronze})]})]})})]},d.uid)})})]})})]},u)})]})}function Ek(){const[t,e]=b.useState(null);b.useEffect(()=>{try{const r=localStorage.getItem("biblecrew_user");r&&e(JSON.parse(r))}catch(r){console.error(r)}},[]);async function n(r,i){const s=(r||"").trim();if(!s)return null;const o=await SC(s,i||""),l={uid:o.uid,name:o.name||s,crew:o.crew||null,mustChangePassword:!!o.mustChangePassword};return e(l),localStorage.setItem("biblecrew_user",JSON.stringify(l)),l}return a.jsx(zE,{children:a.jsxs(OE,{children:[a.jsx(Oe,{path:"/admin-login",element:a.jsx(uk,{})}),a.jsx(Oe,{path:"/",element:a.jsx(Qp,{onLogin:n})}),a.jsx(Oe,{path:"/login",element:a.jsx(Qp,{onLogin:n})}),a.jsx(Oe,{path:"/home",element:a.jsx($E,{user:t})}),a.jsx(Oe,{path:"/crew-members",element:a.jsx(Ck,{user:t})}),a.jsx(Oe,{path:"/change-password",element:a.jsx(pk,{user:t})}),a.jsx(Oe,{path:"/",element:a.jsx(Mn,{crewName:"",user:t})}),a.jsx(Oe,{path:"/",element:a.jsx(Mn,{crewName:"",user:t})}),a.jsx(Oe,{path:"/A",element:a.jsx(Mn,{crewName:"(A)",user:t})}),a.jsx(Oe,{path:"/B",element:a.jsx(Mn,{crewName:"(B)",user:t})}),a.jsx(Oe,{path:"/",element:a.jsx(Mn,{crewName:"",user:t})}),a.jsx(Oe,{path:"/",element:a.jsx(Mn,{crewName:"",user:t})}),a.jsx(Oe,{path:"/",element:a.jsx(Mn,{crewName:"",user:t})}),a.jsx(Oe,{path:"/",element:a.jsx(Mn,{crewName:"",user:t})}),a.jsx(Oe,{path:"/",element:a.jsx(WE,{})}),a.jsx(Oe,{path:"/records",element:a.jsx(xk,{user:t})}),a.jsx(Oe,{path:"/",element:a.jsx(wk,{user:t})}),a.jsx(Oe,{path:"/admin",element:a.jsx(ak,{})}),a.jsx(Oe,{path:"/admin/class-notice",element:a.jsx(ck,{})})]})})}const kk=document.getElementById("root"),Tk=u1(kk);Tk.render(a.jsx(Ek,{}));
