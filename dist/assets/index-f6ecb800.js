function ty(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ny(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $p={exports:{}},zl={},Wp={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zs=Symbol.for("react.element"),ry=Symbol.for("react.portal"),iy=Symbol.for("react.fragment"),sy=Symbol.for("react.strict_mode"),oy=Symbol.for("react.profiler"),ly=Symbol.for("react.provider"),ay=Symbol.for("react.context"),cy=Symbol.for("react.forward_ref"),uy=Symbol.for("react.suspense"),dy=Symbol.for("react.memo"),hy=Symbol.for("react.lazy"),bh=Symbol.iterator;function fy(t){return t===null||typeof t!="object"?null:(t=bh&&t[bh]||t["@@iterator"],typeof t=="function"?t:null)}var Up={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hp=Object.assign,Vp={};function Ti(t,e,n){this.props=t,this.context=e,this.refs=Vp,this.updater=n||Up}Ti.prototype.isReactComponent={};Ti.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ti.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Yp(){}Yp.prototype=Ti.prototype;function Du(t,e,n){this.props=t,this.context=e,this.refs=Vp,this.updater=n||Up}var Fu=Du.prototype=new Yp;Fu.constructor=Du;Hp(Fu,Ti.prototype);Fu.isPureReactComponent=!0;var Sh=Array.isArray,Gp=Object.prototype.hasOwnProperty,Mu={current:null},Qp={key:!0,ref:!0,__self:!0,__source:!0};function Kp(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Gp.call(e,r)&&!Qp.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Zs,type:t,key:s,ref:o,props:i,_owner:Mu.current}}function py(t,e){return{$$typeof:Zs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ou(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zs}function my(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wh=/\/+/g;function Ia(t,e){return typeof t=="object"&&t!==null&&t.key!=null?my(""+t.key):e.toString(36)}function zo(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Zs:case ry:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ia(o,0):r,Sh(i)?(n="",t!=null&&(n=t.replace(wh,"$&/")+"/"),zo(i,e,n,"",function(u){return u})):i!=null&&(Ou(i)&&(i=py(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(wh,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Sh(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+Ia(s,l);o+=zo(s,e,n,c,i)}else if(c=fy(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+Ia(s,l++),o+=zo(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bo(t,e,n){if(t==null)return t;var r=[],i=0;return zo(t,r,"","",function(s){return e.call(n,s,i++)}),r}function gy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var at={current:null},$o={transition:null},yy={ReactCurrentDispatcher:at,ReactCurrentBatchConfig:$o,ReactCurrentOwner:Mu};function qp(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:bo,forEach:function(t,e,n){bo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bo(t,function(){e++}),e},toArray:function(t){return bo(t,function(e){return e})||[]},only:function(t){if(!Ou(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=Ti;te.Fragment=iy;te.Profiler=oy;te.PureComponent=Du;te.StrictMode=sy;te.Suspense=uy;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yy;te.act=qp;te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Hp({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Mu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Gp.call(e,c)&&!Qp.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Zs,type:t.type,key:i,ref:s,props:r,_owner:o}};te.createContext=function(t){return t={$$typeof:ay,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ly,_context:t},t.Consumer=t};te.createElement=Kp;te.createFactory=function(t){var e=Kp.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:cy,render:t}};te.isValidElement=Ou;te.lazy=function(t){return{$$typeof:hy,_payload:{_status:-1,_result:t},_init:gy}};te.memo=function(t,e){return{$$typeof:dy,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=$o.transition;$o.transition={};try{t()}finally{$o.transition=e}};te.unstable_act=qp;te.useCallback=function(t,e){return at.current.useCallback(t,e)};te.useContext=function(t){return at.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return at.current.useDeferredValue(t)};te.useEffect=function(t,e){return at.current.useEffect(t,e)};te.useId=function(){return at.current.useId()};te.useImperativeHandle=function(t,e,n){return at.current.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return at.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return at.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return at.current.useMemo(t,e)};te.useReducer=function(t,e,n){return at.current.useReducer(t,e,n)};te.useRef=function(t){return at.current.useRef(t)};te.useState=function(t){return at.current.useState(t)};te.useSyncExternalStore=function(t,e,n){return at.current.useSyncExternalStore(t,e,n)};te.useTransition=function(){return at.current.useTransition()};te.version="18.3.1";Wp.exports=te;var _=Wp.exports;const Xp=ny(_),vy=ty({__proto__:null,default:Xp},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y=_,xy=Symbol.for("react.element"),by=Symbol.for("react.fragment"),Sy=Object.prototype.hasOwnProperty,wy=_y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cy={key:!0,ref:!0,__self:!0,__source:!0};function Jp(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Sy.call(e,r)&&!Cy.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:xy,type:t,key:s,ref:o,props:i,_owner:wy.current}}zl.Fragment=by;zl.jsx=Jp;zl.jsxs=Jp;$p.exports=zl;var a=$p.exports;var Zp={exports:{}},St={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,P){var B=j.length;j.push(P);e:for(;0<B;){var W=B-1>>>1,G=j[W];if(0<i(G,P))j[W]=P,j[B]=G,B=W;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var P=j[0],B=j.pop();if(B!==P){j[0]=B;e:for(var W=0,G=j.length,be=G>>>1;W<be;){var $e=2*(W+1)-1,Ne=j[$e],Je=$e+1,Ft=j[Je];if(0>i(Ne,B))Je<G&&0>i(Ft,Ne)?(j[W]=Ft,j[Je]=B,W=Je):(j[W]=Ne,j[$e]=B,W=$e);else if(Je<G&&0>i(Ft,B))j[W]=Ft,j[Je]=B,W=Je;else break e}}return P}function i(j,P){var B=j.sortIndex-P.sortIndex;return B!==0?B:j.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,v=!1,y=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(j){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=j)r(u),P.sortIndex=P.expirationTime,e(c,P);else break;P=n(u)}}function x(j){if(C=!1,g(j),!y)if(n(c)!==null)y=!0,O(w);else{var P=n(u);P!==null&&$(x,P.startTime-j)}}function w(j,P){y=!1,C&&(C=!1,m(N),N=-1),v=!0;var B=f;try{for(g(P),d=n(c);d!==null&&(!(d.expirationTime>P)||j&&!H());){var W=d.callback;if(typeof W=="function"){d.callback=null,f=d.priorityLevel;var G=W(d.expirationTime<=P);P=t.unstable_now(),typeof G=="function"?d.callback=G:d===n(c)&&r(c),g(P)}else r(c);d=n(c)}if(d!==null)var be=!0;else{var $e=n(u);$e!==null&&$(x,$e.startTime-P),be=!1}return be}finally{d=null,f=B,v=!1}}var k=!1,S=null,N=-1,A=5,I=-1;function H(){return!(t.unstable_now()-I<A)}function Q(){if(S!==null){var j=t.unstable_now();I=j;var P=!0;try{P=S(!0,j)}finally{P?q():(k=!1,S=null)}}else k=!1}var q;if(typeof p=="function")q=function(){p(Q)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,de=re.port2;re.port1.onmessage=Q,q=function(){de.postMessage(null)}}else q=function(){E(Q,0)};function O(j){S=j,k||(k=!0,q())}function $(j,P){N=E(function(){j(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,O(w))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var B=f;f=P;try{return j()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,P){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var B=f;f=j;try{return P()}finally{f=B}},t.unstable_scheduleCallback=function(j,P,B){var W=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,j){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,j={id:h++,callback:P,priorityLevel:j,startTime:B,expirationTime:G,sortIndex:-1},B>W?(j.sortIndex=B,e(u,j),n(c)===null&&j===n(u)&&(C?(m(N),N=-1):C=!0,$(x,B-W))):(j.sortIndex=G,e(c,j),y||v||(y=!0,O(w))),j},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(j){var P=f;return function(){var B=f;f=P;try{return j.apply(this,arguments)}finally{f=B}}}})(tm);em.exports=tm;var Ey=em.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky=_,bt=Ey;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nm=new Set,Cs={};function Cr(t,e){hi(t,e),hi(t+"Capture",e)}function hi(t,e){for(Cs[t]=e,t=0;t<e.length;t++)nm.add(e[t])}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_c=Object.prototype.hasOwnProperty,Ty=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ch={},Eh={};function Ry(t){return _c.call(Eh,t)?!0:_c.call(Ch,t)?!1:Ty.test(t)?Eh[t]=!0:(Ch[t]=!0,!1)}function jy(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Iy(t,e,n,r){if(e===null||typeof e>"u"||jy(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ct(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qe[t]=new ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qe[e]=new ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qe[t]=new ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qe[t]=new ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qe[t]=new ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qe[t]=new ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qe[t]=new ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qe[t]=new ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qe[t]=new ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bu=/[\-:]([a-z])/g;function Lu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bu,Lu);qe[e]=new ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bu,Lu);qe[e]=new ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bu,Lu);qe[e]=new ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qe[t]=new ct(t,1,!1,t.toLowerCase(),null,!1,!1)});qe.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qe[t]=new ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function zu(t,e,n,r){var i=qe.hasOwnProperty(e)?qe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Iy(e,n,i,r)&&(n=null),r||i===null?Ry(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _n=ky.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,So=Symbol.for("react.element"),Ur=Symbol.for("react.portal"),Hr=Symbol.for("react.fragment"),$u=Symbol.for("react.strict_mode"),xc=Symbol.for("react.profiler"),rm=Symbol.for("react.provider"),im=Symbol.for("react.context"),Wu=Symbol.for("react.forward_ref"),bc=Symbol.for("react.suspense"),Sc=Symbol.for("react.suspense_list"),Uu=Symbol.for("react.memo"),En=Symbol.for("react.lazy"),sm=Symbol.for("react.offscreen"),kh=Symbol.iterator;function Ki(t){return t===null||typeof t!="object"?null:(t=kh&&t[kh]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Object.assign,Na;function ls(t){if(Na===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Na=e&&e[1]||""}return`
`+Na+t}var Aa=!1;function Pa(t,e){if(!t||Aa)return"";Aa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Aa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ls(t):""}function Ny(t){switch(t.tag){case 5:return ls(t.type);case 16:return ls("Lazy");case 13:return ls("Suspense");case 19:return ls("SuspenseList");case 0:case 2:case 15:return t=Pa(t.type,!1),t;case 11:return t=Pa(t.type.render,!1),t;case 1:return t=Pa(t.type,!0),t;default:return""}}function wc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Hr:return"Fragment";case Ur:return"Portal";case xc:return"Profiler";case $u:return"StrictMode";case bc:return"Suspense";case Sc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case im:return(t.displayName||"Context")+".Consumer";case rm:return(t._context.displayName||"Context")+".Provider";case Wu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Uu:return e=t.displayName||null,e!==null?e:wc(t.type)||"Memo";case En:e=t._payload,t=t._init;try{return wc(t(e))}catch{}}return null}function Ay(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wc(e);case 8:return e===$u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function om(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Py(t){var e=om(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wo(t){t._valueTracker||(t._valueTracker=Py(t))}function lm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=om(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Cc(t,e){var n=e.checked;return Ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Th(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function am(t,e){e=e.checked,e!=null&&zu(t,"checked",e,!1)}function Ec(t,e){am(t,e);var n=Vn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kc(t,e.type,n):e.hasOwnProperty("defaultValue")&&kc(t,e.type,Vn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Rh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kc(t,e,n){(e!=="number"||Jo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var as=Array.isArray;function ni(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Tc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return Ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(as(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vn(n)}}function cm(t,e){var n=Vn(e.value),r=Vn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ih(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function um(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?um(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Co,dm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Co=Co||document.createElement("div"),Co.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Co.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Es(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ds={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dy=["Webkit","ms","Moz","O"];Object.keys(ds).forEach(function(t){Dy.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ds[e]=ds[t]})});function hm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ds.hasOwnProperty(t)&&ds[t]?(""+e).trim():e+"px"}function fm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=hm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Fy=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jc(t,e){if(e){if(Fy[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function Ic(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nc=null;function Hu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ac=null,ri=null,ii=null;function Nh(t){if(t=no(t)){if(typeof Ac!="function")throw Error(D(280));var e=t.stateNode;e&&(e=Vl(e),Ac(t.stateNode,t.type,e))}}function pm(t){ri?ii?ii.push(t):ii=[t]:ri=t}function mm(){if(ri){var t=ri,e=ii;if(ii=ri=null,Nh(t),e)for(t=0;t<e.length;t++)Nh(e[t])}}function gm(t,e){return t(e)}function ym(){}var Da=!1;function vm(t,e,n){if(Da)return t(e,n);Da=!0;try{return gm(t,e,n)}finally{Da=!1,(ri!==null||ii!==null)&&(ym(),mm())}}function ks(t,e){var n=t.stateNode;if(n===null)return null;var r=Vl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var Pc=!1;if(fn)try{var qi={};Object.defineProperty(qi,"passive",{get:function(){Pc=!0}}),window.addEventListener("test",qi,qi),window.removeEventListener("test",qi,qi)}catch{Pc=!1}function My(t,e,n,r,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var hs=!1,Zo=null,el=!1,Dc=null,Oy={onError:function(t){hs=!0,Zo=t}};function By(t,e,n,r,i,s,o,l,c){hs=!1,Zo=null,My.apply(Oy,arguments)}function Ly(t,e,n,r,i,s,o,l,c){if(By.apply(this,arguments),hs){if(hs){var u=Zo;hs=!1,Zo=null}else throw Error(D(198));el||(el=!0,Dc=u)}}function Er(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _m(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ah(t){if(Er(t)!==t)throw Error(D(188))}function zy(t){var e=t.alternate;if(!e){if(e=Er(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ah(i),t;if(s===r)return Ah(i),e;s=s.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function xm(t){return t=zy(t),t!==null?bm(t):null}function bm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bm(t);if(e!==null)return e;t=t.sibling}return null}var Sm=bt.unstable_scheduleCallback,Ph=bt.unstable_cancelCallback,$y=bt.unstable_shouldYield,Wy=bt.unstable_requestPaint,Ie=bt.unstable_now,Uy=bt.unstable_getCurrentPriorityLevel,Vu=bt.unstable_ImmediatePriority,wm=bt.unstable_UserBlockingPriority,tl=bt.unstable_NormalPriority,Hy=bt.unstable_LowPriority,Cm=bt.unstable_IdlePriority,$l=null,Jt=null;function Vy(t){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot($l,t,void 0,(t.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Qy,Yy=Math.log,Gy=Math.LN2;function Qy(t){return t>>>=0,t===0?32:31-(Yy(t)/Gy|0)|0}var Eo=64,ko=4194304;function cs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=cs(l):(s&=o,s!==0&&(r=cs(s)))}else o=n&~i,o!==0?r=cs(o):s!==0&&(r=cs(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ut(e),i=1<<n,r|=t[n],e&=~i;return r}function Ky(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qy(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ut(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=Ky(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function Fc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Em(){var t=Eo;return Eo<<=1,!(Eo&4194240)&&(Eo=64),t}function Fa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function eo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ut(e),t[e]=n}function Xy(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ut(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Yu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ut(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ce=0;function km(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Tm,Gu,Rm,jm,Im,Mc=!1,To=[],Pn=null,Dn=null,Fn=null,Ts=new Map,Rs=new Map,Tn=[],Jy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dh(t,e){switch(t){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":Ts.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rs.delete(e.pointerId)}}function Xi(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=no(e),e!==null&&Gu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Zy(t,e,n,r,i){switch(e){case"focusin":return Pn=Xi(Pn,t,e,n,r,i),!0;case"dragenter":return Dn=Xi(Dn,t,e,n,r,i),!0;case"mouseover":return Fn=Xi(Fn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ts.set(s,Xi(Ts.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rs.set(s,Xi(Rs.get(s)||null,t,e,n,r,i)),!0}return!1}function Nm(t){var e=ar(t.target);if(e!==null){var n=Er(e);if(n!==null){if(e=n.tag,e===13){if(e=_m(n),e!==null){t.blockedOn=e,Im(t.priority,function(){Rm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Oc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nc=r,n.target.dispatchEvent(r),Nc=null}else return e=no(n),e!==null&&Gu(e),t.blockedOn=n,!1;e.shift()}return!0}function Fh(t,e,n){Wo(t)&&n.delete(e)}function ev(){Mc=!1,Pn!==null&&Wo(Pn)&&(Pn=null),Dn!==null&&Wo(Dn)&&(Dn=null),Fn!==null&&Wo(Fn)&&(Fn=null),Ts.forEach(Fh),Rs.forEach(Fh)}function Ji(t,e){t.blockedOn===e&&(t.blockedOn=null,Mc||(Mc=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,ev)))}function js(t){function e(i){return Ji(i,t)}if(0<To.length){Ji(To[0],t);for(var n=1;n<To.length;n++){var r=To[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Pn!==null&&Ji(Pn,t),Dn!==null&&Ji(Dn,t),Fn!==null&&Ji(Fn,t),Ts.forEach(e),Rs.forEach(e),n=0;n<Tn.length;n++)r=Tn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Tn.length&&(n=Tn[0],n.blockedOn===null);)Nm(n),n.blockedOn===null&&Tn.shift()}var si=_n.ReactCurrentBatchConfig,rl=!0;function tv(t,e,n,r){var i=ce,s=si.transition;si.transition=null;try{ce=1,Qu(t,e,n,r)}finally{ce=i,si.transition=s}}function nv(t,e,n,r){var i=ce,s=si.transition;si.transition=null;try{ce=4,Qu(t,e,n,r)}finally{ce=i,si.transition=s}}function Qu(t,e,n,r){if(rl){var i=Oc(t,e,n,r);if(i===null)Va(t,e,r,il,n),Dh(t,r);else if(Zy(i,t,e,n,r))r.stopPropagation();else if(Dh(t,r),e&4&&-1<Jy.indexOf(t)){for(;i!==null;){var s=no(i);if(s!==null&&Tm(s),s=Oc(t,e,n,r),s===null&&Va(t,e,r,il,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Va(t,e,r,null,n)}}var il=null;function Oc(t,e,n,r){if(il=null,t=Hu(r),t=ar(t),t!==null)if(e=Er(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_m(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return il=t,null}function Am(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uy()){case Vu:return 1;case wm:return 4;case tl:case Hy:return 16;case Cm:return 536870912;default:return 16}default:return 16}}var jn=null,Ku=null,Uo=null;function Pm(){if(Uo)return Uo;var t,e=Ku,n=e.length,r,i="value"in jn?jn.value:jn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Uo=i.slice(t,1<r?1-r:void 0)}function Ho(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ro(){return!0}function Mh(){return!1}function wt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ro:Mh,this.isPropagationStopped=Mh,this}return Ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ro)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ro)},persist:function(){},isPersistent:Ro}),e}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qu=wt(Ri),to=Ee({},Ri,{view:0,detail:0}),rv=wt(to),Ma,Oa,Zi,Wl=Ee({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zi&&(Zi&&t.type==="mousemove"?(Ma=t.screenX-Zi.screenX,Oa=t.screenY-Zi.screenY):Oa=Ma=0,Zi=t),Ma)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),Oh=wt(Wl),iv=Ee({},Wl,{dataTransfer:0}),sv=wt(iv),ov=Ee({},to,{relatedTarget:0}),Ba=wt(ov),lv=Ee({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),av=wt(lv),cv=Ee({},Ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uv=wt(cv),dv=Ee({},Ri,{data:0}),Bh=wt(dv),hv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pv[t])?!!e[t]:!1}function Xu(){return mv}var gv=Ee({},to,{key:function(t){if(t.key){var e=hv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ho(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xu,charCode:function(t){return t.type==="keypress"?Ho(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ho(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yv=wt(gv),vv=Ee({},Wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lh=wt(vv),_v=Ee({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xu}),xv=wt(_v),bv=Ee({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sv=wt(bv),wv=Ee({},Wl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Cv=wt(wv),Ev=[9,13,27,32],Ju=fn&&"CompositionEvent"in window,fs=null;fn&&"documentMode"in document&&(fs=document.documentMode);var kv=fn&&"TextEvent"in window&&!fs,Dm=fn&&(!Ju||fs&&8<fs&&11>=fs),zh=String.fromCharCode(32),$h=!1;function Fm(t,e){switch(t){case"keyup":return Ev.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vr=!1;function Tv(t,e){switch(t){case"compositionend":return Mm(e);case"keypress":return e.which!==32?null:($h=!0,zh);case"textInput":return t=e.data,t===zh&&$h?null:t;default:return null}}function Rv(t,e){if(Vr)return t==="compositionend"||!Ju&&Fm(t,e)?(t=Pm(),Uo=Ku=jn=null,Vr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dm&&e.locale!=="ko"?null:e.data;default:return null}}var jv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jv[t.type]:e==="textarea"}function Om(t,e,n,r){pm(r),e=sl(e,"onChange"),0<e.length&&(n=new qu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ps=null,Is=null;function Iv(t){Qm(t,0)}function Ul(t){var e=Qr(t);if(lm(e))return t}function Nv(t,e){if(t==="change")return e}var Bm=!1;if(fn){var La;if(fn){var za="oninput"in document;if(!za){var Uh=document.createElement("div");Uh.setAttribute("oninput","return;"),za=typeof Uh.oninput=="function"}La=za}else La=!1;Bm=La&&(!document.documentMode||9<document.documentMode)}function Hh(){ps&&(ps.detachEvent("onpropertychange",Lm),Is=ps=null)}function Lm(t){if(t.propertyName==="value"&&Ul(Is)){var e=[];Om(e,Is,t,Hu(t)),vm(Iv,e)}}function Av(t,e,n){t==="focusin"?(Hh(),ps=e,Is=n,ps.attachEvent("onpropertychange",Lm)):t==="focusout"&&Hh()}function Pv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ul(Is)}function Dv(t,e){if(t==="click")return Ul(e)}function Fv(t,e){if(t==="input"||t==="change")return Ul(e)}function Mv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yt=typeof Object.is=="function"?Object.is:Mv;function Ns(t,e){if(Yt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_c.call(e,i)||!Yt(t[i],e[i]))return!1}return!0}function Vh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yh(t,e){var n=Vh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vh(n)}}function zm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $m(){for(var t=window,e=Jo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jo(t.document)}return e}function Zu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ov(t){var e=$m(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zm(n.ownerDocument.documentElement,n)){if(r!==null&&Zu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Yh(n,s);var o=Yh(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Bv=fn&&"documentMode"in document&&11>=document.documentMode,Yr=null,Bc=null,ms=null,Lc=!1;function Gh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lc||Yr==null||Yr!==Jo(r)||(r=Yr,"selectionStart"in r&&Zu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ms&&Ns(ms,r)||(ms=r,r=sl(Bc,"onSelect"),0<r.length&&(e=new qu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Yr)))}function jo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gr={animationend:jo("Animation","AnimationEnd"),animationiteration:jo("Animation","AnimationIteration"),animationstart:jo("Animation","AnimationStart"),transitionend:jo("Transition","TransitionEnd")},$a={},Wm={};fn&&(Wm=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function Hl(t){if($a[t])return $a[t];if(!Gr[t])return t;var e=Gr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Wm)return $a[t]=e[n];return t}var Um=Hl("animationend"),Hm=Hl("animationiteration"),Vm=Hl("animationstart"),Ym=Hl("transitionend"),Gm=new Map,Qh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(t,e){Gm.set(t,e),Cr(e,[t])}for(var Wa=0;Wa<Qh.length;Wa++){var Ua=Qh[Wa],Lv=Ua.toLowerCase(),zv=Ua[0].toUpperCase()+Ua.slice(1);Xn(Lv,"on"+zv)}Xn(Um,"onAnimationEnd");Xn(Hm,"onAnimationIteration");Xn(Vm,"onAnimationStart");Xn("dblclick","onDoubleClick");Xn("focusin","onFocus");Xn("focusout","onBlur");Xn(Ym,"onTransitionEnd");hi("onMouseEnter",["mouseout","mouseover"]);hi("onMouseLeave",["mouseout","mouseover"]);hi("onPointerEnter",["pointerout","pointerover"]);hi("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$v=new Set("cancel close invalid load scroll toggle".split(" ").concat(us));function Kh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Ly(r,e,void 0,t),t.currentTarget=null}function Qm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;Kh(i,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;Kh(i,l,u),s=c}}}if(el)throw t=Dc,el=!1,Dc=null,t}function ve(t,e){var n=e[Hc];n===void 0&&(n=e[Hc]=new Set);var r=t+"__bubble";n.has(r)||(Km(e,t,2,!1),n.add(r))}function Ha(t,e,n){var r=0;e&&(r|=4),Km(n,t,r,e)}var Io="_reactListening"+Math.random().toString(36).slice(2);function As(t){if(!t[Io]){t[Io]=!0,nm.forEach(function(n){n!=="selectionchange"&&($v.has(n)||Ha(n,!1,t),Ha(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Io]||(e[Io]=!0,Ha("selectionchange",!1,e))}}function Km(t,e,n,r){switch(Am(e)){case 1:var i=tv;break;case 4:i=nv;break;default:i=Qu}n=i.bind(null,e,n,t),i=void 0,!Pc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Va(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ar(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}vm(function(){var u=s,h=Hu(n),d=[];e:{var f=Gm.get(t);if(f!==void 0){var v=qu,y=t;switch(t){case"keypress":if(Ho(n)===0)break e;case"keydown":case"keyup":v=yv;break;case"focusin":y="focus",v=Ba;break;case"focusout":y="blur",v=Ba;break;case"beforeblur":case"afterblur":v=Ba;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Oh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=sv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=xv;break;case Um:case Hm:case Vm:v=av;break;case Ym:v=Sv;break;case"scroll":v=rv;break;case"wheel":v=Cv;break;case"copy":case"cut":case"paste":v=uv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Lh}var C=(e&4)!==0,E=!C&&t==="scroll",m=C?f!==null?f+"Capture":null:f;C=[];for(var p=u,g;p!==null;){g=p;var x=g.stateNode;if(g.tag===5&&x!==null&&(g=x,m!==null&&(x=ks(p,m),x!=null&&C.push(Ps(p,x,g)))),E)break;p=p.return}0<C.length&&(f=new v(f,y,null,n,h),d.push({event:f,listeners:C}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==Nc&&(y=n.relatedTarget||n.fromElement)&&(ar(y)||y[pn]))break e;if((v||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=u,y=y?ar(y):null,y!==null&&(E=Er(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(C=Oh,x="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(C=Lh,x="onPointerLeave",m="onPointerEnter",p="pointer"),E=v==null?f:Qr(v),g=y==null?f:Qr(y),f=new C(x,p+"leave",v,n,h),f.target=E,f.relatedTarget=g,x=null,ar(h)===u&&(C=new C(m,p+"enter",y,n,h),C.target=g,C.relatedTarget=E,x=C),E=x,v&&y)t:{for(C=v,m=y,p=0,g=C;g;g=zr(g))p++;for(g=0,x=m;x;x=zr(x))g++;for(;0<p-g;)C=zr(C),p--;for(;0<g-p;)m=zr(m),g--;for(;p--;){if(C===m||m!==null&&C===m.alternate)break t;C=zr(C),m=zr(m)}C=null}else C=null;v!==null&&qh(d,f,v,C,!1),y!==null&&E!==null&&qh(d,E,y,C,!0)}}e:{if(f=u?Qr(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var w=Nv;else if(Wh(f))if(Bm)w=Fv;else{w=Pv;var k=Av}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=Dv);if(w&&(w=w(t,u))){Om(d,w,n,h);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&kc(f,"number",f.value)}switch(k=u?Qr(u):window,t){case"focusin":(Wh(k)||k.contentEditable==="true")&&(Yr=k,Bc=u,ms=null);break;case"focusout":ms=Bc=Yr=null;break;case"mousedown":Lc=!0;break;case"contextmenu":case"mouseup":case"dragend":Lc=!1,Gh(d,n,h);break;case"selectionchange":if(Bv)break;case"keydown":case"keyup":Gh(d,n,h)}var S;if(Ju)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Vr?Fm(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Dm&&n.locale!=="ko"&&(Vr||N!=="onCompositionStart"?N==="onCompositionEnd"&&Vr&&(S=Pm()):(jn=h,Ku="value"in jn?jn.value:jn.textContent,Vr=!0)),k=sl(u,N),0<k.length&&(N=new Bh(N,t,null,n,h),d.push({event:N,listeners:k}),S?N.data=S:(S=Mm(n),S!==null&&(N.data=S)))),(S=kv?Tv(t,n):Rv(t,n))&&(u=sl(u,"onBeforeInput"),0<u.length&&(h=new Bh("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=S))}Qm(d,e)})}function Ps(t,e,n){return{instance:t,listener:e,currentTarget:n}}function sl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ks(t,n),s!=null&&r.unshift(Ps(t,s,i)),s=ks(t,e),s!=null&&r.push(Ps(t,s,i))),t=t.return}return r}function zr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qh(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=ks(n,s),c!=null&&o.unshift(Ps(n,c,l))):i||(c=ks(n,s),c!=null&&o.push(Ps(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Wv=/\r\n?/g,Uv=/\u0000|\uFFFD/g;function Xh(t){return(typeof t=="string"?t:""+t).replace(Wv,`
`).replace(Uv,"")}function No(t,e,n){if(e=Xh(e),Xh(t)!==e&&n)throw Error(D(425))}function ol(){}var zc=null,$c=null;function Wc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Uc=typeof setTimeout=="function"?setTimeout:void 0,Hv=typeof clearTimeout=="function"?clearTimeout:void 0,Jh=typeof Promise=="function"?Promise:void 0,Vv=typeof queueMicrotask=="function"?queueMicrotask:typeof Jh<"u"?function(t){return Jh.resolve(null).then(t).catch(Yv)}:Uc;function Yv(t){setTimeout(function(){throw t})}function Ya(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),js(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);js(e)}function Mn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ji=Math.random().toString(36).slice(2),Xt="__reactFiber$"+ji,Ds="__reactProps$"+ji,pn="__reactContainer$"+ji,Hc="__reactEvents$"+ji,Gv="__reactListeners$"+ji,Qv="__reactHandles$"+ji;function ar(t){var e=t[Xt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pn]||n[Xt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zh(t);t!==null;){if(n=t[Xt])return n;t=Zh(t)}return e}t=n,n=t.parentNode}return null}function no(t){return t=t[Xt]||t[pn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function Vl(t){return t[Ds]||null}var Vc=[],Kr=-1;function Jn(t){return{current:t}}function _e(t){0>Kr||(t.current=Vc[Kr],Vc[Kr]=null,Kr--)}function ge(t,e){Kr++,Vc[Kr]=t.current,t.current=e}var Yn={},rt=Jn(Yn),ft=Jn(!1),gr=Yn;function fi(t,e){var n=t.type.contextTypes;if(!n)return Yn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pt(t){return t=t.childContextTypes,t!=null}function ll(){_e(ft),_e(rt)}function ef(t,e,n){if(rt.current!==Yn)throw Error(D(168));ge(rt,e),ge(ft,n)}function qm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(D(108,Ay(t)||"Unknown",i));return Ee({},n,r)}function al(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yn,gr=rt.current,ge(rt,t),ge(ft,ft.current),!0}function tf(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=qm(t,e,gr),r.__reactInternalMemoizedMergedChildContext=t,_e(ft),_e(rt),ge(rt,t)):_e(ft),ge(ft,n)}var ln=null,Yl=!1,Ga=!1;function Xm(t){ln===null?ln=[t]:ln.push(t)}function Kv(t){Yl=!0,Xm(t)}function Zn(){if(!Ga&&ln!==null){Ga=!0;var t=0,e=ce;try{var n=ln;for(ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ln=null,Yl=!1}catch(i){throw ln!==null&&(ln=ln.slice(t+1)),Sm(Vu,Zn),i}finally{ce=e,Ga=!1}}return null}var qr=[],Xr=0,cl=null,ul=0,Tt=[],Rt=0,yr=null,an=1,cn="";function ir(t,e){qr[Xr++]=ul,qr[Xr++]=cl,cl=t,ul=e}function Jm(t,e,n){Tt[Rt++]=an,Tt[Rt++]=cn,Tt[Rt++]=yr,yr=t;var r=an;t=cn;var i=32-Ut(r)-1;r&=~(1<<i),n+=1;var s=32-Ut(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,an=1<<32-Ut(e)+i|n<<i|r,cn=s+t}else an=1<<s|n<<i|r,cn=t}function ed(t){t.return!==null&&(ir(t,1),Jm(t,1,0))}function td(t){for(;t===cl;)cl=qr[--Xr],qr[Xr]=null,ul=qr[--Xr],qr[Xr]=null;for(;t===yr;)yr=Tt[--Rt],Tt[Rt]=null,cn=Tt[--Rt],Tt[Rt]=null,an=Tt[--Rt],Tt[Rt]=null}var xt=null,_t=null,xe=!1,zt=null;function Zm(t,e){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xt=t,_t=Mn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xt=t,_t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=yr!==null?{id:an,overflow:cn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xt=t,_t=null,!0):!1;default:return!1}}function Yc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gc(t){if(xe){var e=_t;if(e){var n=e;if(!nf(t,e)){if(Yc(t))throw Error(D(418));e=Mn(n.nextSibling);var r=xt;e&&nf(t,e)?Zm(r,n):(t.flags=t.flags&-4097|2,xe=!1,xt=t)}}else{if(Yc(t))throw Error(D(418));t.flags=t.flags&-4097|2,xe=!1,xt=t}}}function rf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xt=t}function Ao(t){if(t!==xt)return!1;if(!xe)return rf(t),xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wc(t.type,t.memoizedProps)),e&&(e=_t)){if(Yc(t))throw eg(),Error(D(418));for(;e;)Zm(t,e),e=Mn(e.nextSibling)}if(rf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_t=Mn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_t=null}}else _t=xt?Mn(t.stateNode.nextSibling):null;return!0}function eg(){for(var t=_t;t;)t=Mn(t.nextSibling)}function pi(){_t=xt=null,xe=!1}function nd(t){zt===null?zt=[t]:zt.push(t)}var qv=_n.ReactCurrentBatchConfig;function es(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function Po(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sf(t){var e=t._init;return e(t._payload)}function tg(t){function e(m,p){if(t){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=zn(m,p),m.index=0,m.sibling=null,m}function s(m,p,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,p,g,x){return p===null||p.tag!==6?(p=ec(g,m.mode,x),p.return=m,p):(p=i(p,g),p.return=m,p)}function c(m,p,g,x){var w=g.type;return w===Hr?h(m,p,g.props.children,x,g.key):p!==null&&(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===En&&sf(w)===p.type)?(x=i(p,g.props),x.ref=es(m,p,g),x.return=m,x):(x=Xo(g.type,g.key,g.props,null,m.mode,x),x.ref=es(m,p,g),x.return=m,x)}function u(m,p,g,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=tc(g,m.mode,x),p.return=m,p):(p=i(p,g.children||[]),p.return=m,p)}function h(m,p,g,x,w){return p===null||p.tag!==7?(p=fr(g,m.mode,x,w),p.return=m,p):(p=i(p,g),p.return=m,p)}function d(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ec(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case So:return g=Xo(p.type,p.key,p.props,null,m.mode,g),g.ref=es(m,null,p),g.return=m,g;case Ur:return p=tc(p,m.mode,g),p.return=m,p;case En:var x=p._init;return d(m,x(p._payload),g)}if(as(p)||Ki(p))return p=fr(p,m.mode,g,null),p.return=m,p;Po(m,p)}return null}function f(m,p,g,x){var w=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return w!==null?null:l(m,p,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case So:return g.key===w?c(m,p,g,x):null;case Ur:return g.key===w?u(m,p,g,x):null;case En:return w=g._init,f(m,p,w(g._payload),x)}if(as(g)||Ki(g))return w!==null?null:h(m,p,g,x,null);Po(m,g)}return null}function v(m,p,g,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(g)||null,l(p,m,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case So:return m=m.get(x.key===null?g:x.key)||null,c(p,m,x,w);case Ur:return m=m.get(x.key===null?g:x.key)||null,u(p,m,x,w);case En:var k=x._init;return v(m,p,g,k(x._payload),w)}if(as(x)||Ki(x))return m=m.get(g)||null,h(p,m,x,w,null);Po(p,x)}return null}function y(m,p,g,x){for(var w=null,k=null,S=p,N=p=0,A=null;S!==null&&N<g.length;N++){S.index>N?(A=S,S=null):A=S.sibling;var I=f(m,S,g[N],x);if(I===null){S===null&&(S=A);break}t&&S&&I.alternate===null&&e(m,S),p=s(I,p,N),k===null?w=I:k.sibling=I,k=I,S=A}if(N===g.length)return n(m,S),xe&&ir(m,N),w;if(S===null){for(;N<g.length;N++)S=d(m,g[N],x),S!==null&&(p=s(S,p,N),k===null?w=S:k.sibling=S,k=S);return xe&&ir(m,N),w}for(S=r(m,S);N<g.length;N++)A=v(S,m,N,g[N],x),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?N:A.key),p=s(A,p,N),k===null?w=A:k.sibling=A,k=A);return t&&S.forEach(function(H){return e(m,H)}),xe&&ir(m,N),w}function C(m,p,g,x){var w=Ki(g);if(typeof w!="function")throw Error(D(150));if(g=w.call(g),g==null)throw Error(D(151));for(var k=w=null,S=p,N=p=0,A=null,I=g.next();S!==null&&!I.done;N++,I=g.next()){S.index>N?(A=S,S=null):A=S.sibling;var H=f(m,S,I.value,x);if(H===null){S===null&&(S=A);break}t&&S&&H.alternate===null&&e(m,S),p=s(H,p,N),k===null?w=H:k.sibling=H,k=H,S=A}if(I.done)return n(m,S),xe&&ir(m,N),w;if(S===null){for(;!I.done;N++,I=g.next())I=d(m,I.value,x),I!==null&&(p=s(I,p,N),k===null?w=I:k.sibling=I,k=I);return xe&&ir(m,N),w}for(S=r(m,S);!I.done;N++,I=g.next())I=v(S,m,N,I.value,x),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?N:I.key),p=s(I,p,N),k===null?w=I:k.sibling=I,k=I);return t&&S.forEach(function(Q){return e(m,Q)}),xe&&ir(m,N),w}function E(m,p,g,x){if(typeof g=="object"&&g!==null&&g.type===Hr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case So:e:{for(var w=g.key,k=p;k!==null;){if(k.key===w){if(w=g.type,w===Hr){if(k.tag===7){n(m,k.sibling),p=i(k,g.props.children),p.return=m,m=p;break e}}else if(k.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===En&&sf(w)===k.type){n(m,k.sibling),p=i(k,g.props),p.ref=es(m,k,g),p.return=m,m=p;break e}n(m,k);break}else e(m,k);k=k.sibling}g.type===Hr?(p=fr(g.props.children,m.mode,x,g.key),p.return=m,m=p):(x=Xo(g.type,g.key,g.props,null,m.mode,x),x.ref=es(m,p,g),x.return=m,m=x)}return o(m);case Ur:e:{for(k=g.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(m,p.sibling),p=i(p,g.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=tc(g,m.mode,x),p.return=m,m=p}return o(m);case En:return k=g._init,E(m,p,k(g._payload),x)}if(as(g))return y(m,p,g,x);if(Ki(g))return C(m,p,g,x);Po(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,g),p.return=m,m=p):(n(m,p),p=ec(g,m.mode,x),p.return=m,m=p),o(m)):n(m,p)}return E}var mi=tg(!0),ng=tg(!1),dl=Jn(null),hl=null,Jr=null,rd=null;function id(){rd=Jr=hl=null}function sd(t){var e=dl.current;_e(dl),t._currentValue=e}function Qc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function oi(t,e){hl=t,rd=Jr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dt=!0),t.firstContext=null)}function At(t){var e=t._currentValue;if(rd!==t)if(t={context:t,memoizedValue:e,next:null},Jr===null){if(hl===null)throw Error(D(308));Jr=t,hl.dependencies={lanes:0,firstContext:t}}else Jr=Jr.next=t;return e}var cr=null;function od(t){cr===null?cr=[t]:cr.push(t)}function rg(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,od(e)):(n.next=i.next,i.next=n),e.interleaved=n,mn(t,r)}function mn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var kn=!1;function ld(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ig(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function On(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,mn(t,n)}return i=r.interleaved,i===null?(e.next=e,od(r)):(e.next=i.next,i.next=e),r.interleaved=e,mn(t,n)}function Vo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yu(t,n)}}function of(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fl(t,e,n,r){var i=t.updateQueue;kn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(s!==null){var d=i.baseState;o=0,h=u=c=null,l=s;do{var f=l.lane,v=l.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,C=l;switch(f=e,v=n,C.tag){case 1:if(y=C.payload,typeof y=="function"){d=y.call(v,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=C.payload,f=typeof y=="function"?y.call(v,d,f):y,f==null)break e;d=Ee({},d,f);break e;case 2:kn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else v={eventTime:v,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=v,c=d):h=h.next=v,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(h===null&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);_r|=o,t.lanes=o,t.memoizedState=d}}function lf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var ro={},Zt=Jn(ro),Fs=Jn(ro),Ms=Jn(ro);function ur(t){if(t===ro)throw Error(D(174));return t}function ad(t,e){switch(ge(Ms,e),ge(Fs,t),ge(Zt,ro),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rc(e,t)}_e(Zt),ge(Zt,e)}function gi(){_e(Zt),_e(Fs),_e(Ms)}function sg(t){ur(Ms.current);var e=ur(Zt.current),n=Rc(e,t.type);e!==n&&(ge(Fs,t),ge(Zt,n))}function cd(t){Fs.current===t&&(_e(Zt),_e(Fs))}var we=Jn(0);function pl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qa=[];function ud(){for(var t=0;t<Qa.length;t++)Qa[t]._workInProgressVersionPrimary=null;Qa.length=0}var Yo=_n.ReactCurrentDispatcher,Ka=_n.ReactCurrentBatchConfig,vr=0,Ce=null,Me=null,He=null,ml=!1,gs=!1,Os=0,Xv=0;function et(){throw Error(D(321))}function dd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yt(t[n],e[n]))return!1;return!0}function hd(t,e,n,r,i,s){if(vr=s,Ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yo.current=t===null||t.memoizedState===null?t_:n_,t=n(r,i),gs){s=0;do{if(gs=!1,Os=0,25<=s)throw Error(D(301));s+=1,He=Me=null,e.updateQueue=null,Yo.current=r_,t=n(r,i)}while(gs)}if(Yo.current=gl,e=Me!==null&&Me.next!==null,vr=0,He=Me=Ce=null,ml=!1,e)throw Error(D(300));return t}function fd(){var t=Os!==0;return Os=0,t}function Kt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Ce.memoizedState=He=t:He=He.next=t,He}function Pt(){if(Me===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var e=He===null?Ce.memoizedState:He.next;if(e!==null)He=e,Me=t;else{if(t===null)throw Error(D(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},He===null?Ce.memoizedState=He=t:He=He.next=t}return He}function Bs(t,e){return typeof e=="function"?e(t):e}function qa(t){var e=Pt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=Me,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var h=u.lane;if((vr&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=r):c=c.next=d,Ce.lanes|=h,_r|=h}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,Yt(r,e.memoizedState)||(dt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ce.lanes|=s,_r|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xa(t){var e=Pt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Yt(s,e.memoizedState)||(dt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function og(){}function lg(t,e){var n=Ce,r=Pt(),i=e(),s=!Yt(r.memoizedState,i);if(s&&(r.memoizedState=i,dt=!0),r=r.queue,pd(ug.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,Ls(9,cg.bind(null,n,r,i,e),void 0,null),Ye===null)throw Error(D(349));vr&30||ag(n,e,i)}return i}function ag(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cg(t,e,n,r){e.value=n,e.getSnapshot=r,dg(e)&&hg(t)}function ug(t,e,n){return n(function(){dg(e)&&hg(t)})}function dg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yt(t,n)}catch{return!0}}function hg(t){var e=mn(t,1);e!==null&&Ht(e,t,1,-1)}function af(t){var e=Kt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:t},e.queue=t,t=t.dispatch=e_.bind(null,Ce,t),[e.memoizedState,t]}function Ls(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function fg(){return Pt().memoizedState}function Go(t,e,n,r){var i=Kt();Ce.flags|=t,i.memoizedState=Ls(1|e,n,void 0,r===void 0?null:r)}function Gl(t,e,n,r){var i=Pt();r=r===void 0?null:r;var s=void 0;if(Me!==null){var o=Me.memoizedState;if(s=o.destroy,r!==null&&dd(r,o.deps)){i.memoizedState=Ls(e,n,s,r);return}}Ce.flags|=t,i.memoizedState=Ls(1|e,n,s,r)}function cf(t,e){return Go(8390656,8,t,e)}function pd(t,e){return Gl(2048,8,t,e)}function pg(t,e){return Gl(4,2,t,e)}function mg(t,e){return Gl(4,4,t,e)}function gg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yg(t,e,n){return n=n!=null?n.concat([t]):null,Gl(4,4,gg.bind(null,e,t),n)}function md(){}function vg(t,e){var n=Pt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _g(t,e){var n=Pt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function xg(t,e,n){return vr&21?(Yt(n,e)||(n=Em(),Ce.lanes|=n,_r|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dt=!0),t.memoizedState=n)}function Jv(t,e){var n=ce;ce=n!==0&&4>n?n:4,t(!0);var r=Ka.transition;Ka.transition={};try{t(!1),e()}finally{ce=n,Ka.transition=r}}function bg(){return Pt().memoizedState}function Zv(t,e,n){var r=Ln(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Sg(t))wg(e,n);else if(n=rg(t,e,n,r),n!==null){var i=ot();Ht(n,t,r,i),Cg(n,e,r)}}function e_(t,e,n){var r=Ln(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sg(t))wg(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Yt(l,o)){var c=e.interleaved;c===null?(i.next=i,od(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=rg(t,e,i,r),n!==null&&(i=ot(),Ht(n,t,r,i),Cg(n,e,r))}}function Sg(t){var e=t.alternate;return t===Ce||e!==null&&e===Ce}function wg(t,e){gs=ml=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Cg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yu(t,n)}}var gl={readContext:At,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},t_={readContext:At,useCallback:function(t,e){return Kt().memoizedState=[t,e===void 0?null:e],t},useContext:At,useEffect:cf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Go(4194308,4,gg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Go(4194308,4,t,e)},useInsertionEffect:function(t,e){return Go(4,2,t,e)},useMemo:function(t,e){var n=Kt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Zv.bind(null,Ce,t),[r.memoizedState,t]},useRef:function(t){var e=Kt();return t={current:t},e.memoizedState=t},useState:af,useDebugValue:md,useDeferredValue:function(t){return Kt().memoizedState=t},useTransition:function(){var t=af(!1),e=t[0];return t=Jv.bind(null,t[1]),Kt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ce,i=Kt();if(xe){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),Ye===null)throw Error(D(349));vr&30||ag(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,cf(ug.bind(null,r,s,t),[t]),r.flags|=2048,Ls(9,cg.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Kt(),e=Ye.identifierPrefix;if(xe){var n=cn,r=an;n=(r&~(1<<32-Ut(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Os++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Xv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},n_={readContext:At,useCallback:vg,useContext:At,useEffect:pd,useImperativeHandle:yg,useInsertionEffect:pg,useLayoutEffect:mg,useMemo:_g,useReducer:qa,useRef:fg,useState:function(){return qa(Bs)},useDebugValue:md,useDeferredValue:function(t){var e=Pt();return xg(e,Me.memoizedState,t)},useTransition:function(){var t=qa(Bs)[0],e=Pt().memoizedState;return[t,e]},useMutableSource:og,useSyncExternalStore:lg,useId:bg,unstable_isNewReconciler:!1},r_={readContext:At,useCallback:vg,useContext:At,useEffect:pd,useImperativeHandle:yg,useInsertionEffect:pg,useLayoutEffect:mg,useMemo:_g,useReducer:Xa,useRef:fg,useState:function(){return Xa(Bs)},useDebugValue:md,useDeferredValue:function(t){var e=Pt();return Me===null?e.memoizedState=t:xg(e,Me.memoizedState,t)},useTransition:function(){var t=Xa(Bs)[0],e=Pt().memoizedState;return[t,e]},useMutableSource:og,useSyncExternalStore:lg,useId:bg,unstable_isNewReconciler:!1};function Bt(t,e){if(t&&t.defaultProps){e=Ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Kc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ql={isMounted:function(t){return(t=t._reactInternals)?Er(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ot(),i=Ln(t),s=dn(r,i);s.payload=e,n!=null&&(s.callback=n),e=On(t,s,i),e!==null&&(Ht(e,t,i,r),Vo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ot(),i=Ln(t),s=dn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=On(t,s,i),e!==null&&(Ht(e,t,i,r),Vo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ot(),r=Ln(t),i=dn(n,r);i.tag=2,e!=null&&(i.callback=e),e=On(t,i,r),e!==null&&(Ht(e,t,r,n),Vo(e,t,r))}};function uf(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ns(n,r)||!Ns(i,s):!0}function Eg(t,e,n){var r=!1,i=Yn,s=e.contextType;return typeof s=="object"&&s!==null?s=At(s):(i=pt(e)?gr:rt.current,r=e.contextTypes,s=(r=r!=null)?fi(t,i):Yn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ql,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function df(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ql.enqueueReplaceState(e,e.state,null)}function qc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ld(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=At(s):(s=pt(e)?gr:rt.current,i.context=fi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Kc(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ql.enqueueReplaceState(i,i.state,null),fl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function yi(t,e){try{var n="",r=e;do n+=Ny(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ja(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var i_=typeof WeakMap=="function"?WeakMap:Map;function kg(t,e,n){n=dn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vl||(vl=!0,lu=r),Xc(t,e)},n}function Tg(t,e,n){n=dn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Xc(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Xc(t,e),typeof r!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function hf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new i_;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=v_.bind(null,t,e,n),e.then(t,t))}function ff(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pf(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dn(-1,1),e.tag=2,On(n,e,1))),n.lanes|=1),t)}var s_=_n.ReactCurrentOwner,dt=!1;function it(t,e,n,r){e.child=t===null?ng(e,null,n,r):mi(e,t.child,n,r)}function mf(t,e,n,r,i){n=n.render;var s=e.ref;return oi(e,i),r=hd(t,e,n,r,s,i),n=fd(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gn(t,e,i)):(xe&&n&&ed(e),e.flags|=1,it(t,e,r,i),e.child)}function gf(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!wd(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Rg(t,e,s,r,i)):(t=Xo(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ns,n(o,r)&&t.ref===e.ref)return gn(t,e,i)}return e.flags|=1,t=zn(s,r),t.ref=e.ref,t.return=e,e.child=t}function Rg(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ns(s,r)&&t.ref===e.ref)if(dt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(dt=!0);else return e.lanes=t.lanes,gn(t,e,i)}return Jc(t,e,n,r,i)}function jg(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(ei,vt),vt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(ei,vt),vt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ge(ei,vt),vt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ge(ei,vt),vt|=r;return it(t,e,i,n),e.child}function Ig(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jc(t,e,n,r,i){var s=pt(n)?gr:rt.current;return s=fi(e,s),oi(e,i),n=hd(t,e,n,r,s,i),r=fd(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gn(t,e,i)):(xe&&r&&ed(e),e.flags|=1,it(t,e,n,i),e.child)}function yf(t,e,n,r,i){if(pt(n)){var s=!0;al(e)}else s=!1;if(oi(e,i),e.stateNode===null)Qo(t,e),Eg(e,n,r),qc(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=At(u):(u=pt(n)?gr:rt.current,u=fi(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&df(e,o,r,u),kn=!1;var f=e.memoizedState;o.state=f,fl(e,r,o,i),c=e.memoizedState,l!==r||f!==c||ft.current||kn?(typeof h=="function"&&(Kc(e,n,h,r),c=e.memoizedState),(l=kn||uf(e,n,l,r,f,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ig(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Bt(e.type,l),o.props=u,d=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=At(c):(c=pt(n)?gr:rt.current,c=fi(e,c));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==c)&&df(e,o,r,c),kn=!1,f=e.memoizedState,o.state=f,fl(e,r,o,i);var y=e.memoizedState;l!==d||f!==y||ft.current||kn?(typeof v=="function"&&(Kc(e,n,v,r),y=e.memoizedState),(u=kn||uf(e,n,u,r,f,y,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Zc(t,e,n,r,s,i)}function Zc(t,e,n,r,i,s){Ig(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&tf(e,n,!1),gn(t,e,s);r=e.stateNode,s_.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=mi(e,t.child,null,s),e.child=mi(e,null,l,s)):it(t,e,l,s),e.memoizedState=r.state,i&&tf(e,n,!0),e.child}function Ng(t){var e=t.stateNode;e.pendingContext?ef(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ef(t,e.context,!1),ad(t,e.containerInfo)}function vf(t,e,n,r,i){return pi(),nd(i),e.flags|=256,it(t,e,n,r),e.child}var eu={dehydrated:null,treeContext:null,retryLane:0};function tu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ag(t,e,n){var r=e.pendingProps,i=we.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ge(we,i&1),t===null)return Gc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Xl(o,r,0,null),t=fr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=tu(n),e.memoizedState=eu,t):gd(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return o_(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=zn(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=zn(l,s):(s=fr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?tu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=eu,r}return s=t.child,t=s.sibling,r=zn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function gd(t,e){return e=Xl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Do(t,e,n,r){return r!==null&&nd(r),mi(e,t.child,null,n),t=gd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function o_(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ja(Error(D(422))),Do(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Xl({mode:"visible",children:r.children},i,0,null),s=fr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&mi(e,t.child,null,o),e.child.memoizedState=tu(o),e.memoizedState=eu,s);if(!(e.mode&1))return Do(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(D(419)),r=Ja(s,r,void 0),Do(t,e,o,r)}if(l=(o&t.childLanes)!==0,dt||l){if(r=Ye,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,mn(t,i),Ht(r,t,i,-1))}return Sd(),r=Ja(Error(D(421))),Do(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=__.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,_t=Mn(i.nextSibling),xt=e,xe=!0,zt=null,t!==null&&(Tt[Rt++]=an,Tt[Rt++]=cn,Tt[Rt++]=yr,an=t.id,cn=t.overflow,yr=e),e=gd(e,r.children),e.flags|=4096,e)}function _f(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qc(t.return,e,n)}function Za(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Pg(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(it(t,e,r.children,n),r=we.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_f(t,n,e);else if(t.tag===19)_f(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ge(we,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&pl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Za(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&pl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Za(e,!0,n,null,s);break;case"together":Za(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_r|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=zn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function l_(t,e,n){switch(e.tag){case 3:Ng(e),pi();break;case 5:sg(e);break;case 1:pt(e.type)&&al(e);break;case 4:ad(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ge(dl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ge(we,we.current&1),e.flags|=128,null):n&e.child.childLanes?Ag(t,e,n):(ge(we,we.current&1),t=gn(t,e,n),t!==null?t.sibling:null);ge(we,we.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Pg(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ge(we,we.current),r)break;return null;case 22:case 23:return e.lanes=0,jg(t,e,n)}return gn(t,e,n)}var Dg,nu,Fg,Mg;Dg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nu=function(){};Fg=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ur(Zt.current);var s=null;switch(n){case"input":i=Cc(t,i),r=Cc(t,r),s=[];break;case"select":i=Ee({},i,{value:void 0}),r=Ee({},r,{value:void 0}),s=[];break;case"textarea":i=Tc(t,i),r=Tc(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ol)}jc(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cs.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cs.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ve("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Mg=function(t,e,n,r){n!==r&&(e.flags|=4)};function ts(t,e){if(!xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function a_(t,e,n){var r=e.pendingProps;switch(td(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(e),null;case 1:return pt(e.type)&&ll(),tt(e),null;case 3:return r=e.stateNode,gi(),_e(ft),_e(rt),ud(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ao(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zt!==null&&(uu(zt),zt=null))),nu(t,e),tt(e),null;case 5:cd(e);var i=ur(Ms.current);if(n=e.type,t!==null&&e.stateNode!=null)Fg(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return tt(e),null}if(t=ur(Zt.current),Ao(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Xt]=e,r[Ds]=s,t=(e.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(i=0;i<us.length;i++)ve(us[i],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":Th(r,s),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ve("invalid",r);break;case"textarea":jh(r,s),ve("invalid",r)}jc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&No(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&No(r.textContent,l,t),i=["children",""+l]):Cs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":wo(r),Rh(r,s,!0);break;case"textarea":wo(r),Ih(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ol)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=um(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xt]=e,t[Ds]=r,Dg(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ic(n,r),n){case"dialog":ve("cancel",t),ve("close",t),i=r;break;case"iframe":case"object":case"embed":ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<us.length;i++)ve(us[i],t);i=r;break;case"source":ve("error",t),i=r;break;case"img":case"image":case"link":ve("error",t),ve("load",t),i=r;break;case"details":ve("toggle",t),i=r;break;case"input":Th(t,r),i=Cc(t,r),ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ee({},r,{value:void 0}),ve("invalid",t);break;case"textarea":jh(t,r),i=Tc(t,r),ve("invalid",t);break;default:i=r}jc(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?fm(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&dm(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Es(t,c):typeof c=="number"&&Es(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cs.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ve("scroll",t):c!=null&&zu(t,s,c,o))}switch(n){case"input":wo(t),Rh(t,r,!1);break;case"textarea":wo(t),Ih(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ni(t,!!r.multiple,s,!1):r.defaultValue!=null&&ni(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ol)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tt(e),null;case 6:if(t&&e.stateNode!=null)Mg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=ur(Ms.current),ur(Zt.current),Ao(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xt]=e,(s=r.nodeValue!==n)&&(t=xt,t!==null))switch(t.tag){case 3:No(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&No(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xt]=e,e.stateNode=r}return tt(e),null;case 13:if(_e(we),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xe&&_t!==null&&e.mode&1&&!(e.flags&128))eg(),pi(),e.flags|=98560,s=!1;else if(s=Ao(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(D(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[Xt]=e}else pi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tt(e),s=!1}else zt!==null&&(uu(zt),zt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||we.current&1?Le===0&&(Le=3):Sd())),e.updateQueue!==null&&(e.flags|=4),tt(e),null);case 4:return gi(),nu(t,e),t===null&&As(e.stateNode.containerInfo),tt(e),null;case 10:return sd(e.type._context),tt(e),null;case 17:return pt(e.type)&&ll(),tt(e),null;case 19:if(_e(we),s=e.memoizedState,s===null)return tt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ts(s,!1);else{if(Le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=pl(t),o!==null){for(e.flags|=128,ts(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ge(we,we.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ie()>vi&&(e.flags|=128,r=!0,ts(s,!1),e.lanes=4194304)}else{if(!r)if(t=pl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ts(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!xe)return tt(e),null}else 2*Ie()-s.renderingStartTime>vi&&n!==1073741824&&(e.flags|=128,r=!0,ts(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ie(),e.sibling=null,n=we.current,ge(we,r?n&1|2:n&1),e):(tt(e),null);case 22:case 23:return bd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vt&1073741824&&(tt(e),e.subtreeFlags&6&&(e.flags|=8192)):tt(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function c_(t,e){switch(td(e),e.tag){case 1:return pt(e.type)&&ll(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gi(),_e(ft),_e(rt),ud(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cd(e),null;case 13:if(_e(we),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));pi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _e(we),null;case 4:return gi(),null;case 10:return sd(e.type._context),null;case 22:case 23:return bd(),null;case 24:return null;default:return null}}var Fo=!1,nt=!1,u_=typeof WeakSet=="function"?WeakSet:Set,z=null;function Zr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(t,e,r)}else n.current=null}function ru(t,e,n){try{n()}catch(r){ke(t,e,r)}}var xf=!1;function d_(t,e){if(zc=rl,t=$m(),Zu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var v;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(v=d.firstChild)!==null;)f=d,d=v;for(;;){if(d===t)break t;if(f===n&&++u===i&&(l=o),f===s&&++h===r&&(c=o),(v=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for($c={focusedElem:t,selectionRange:n},rl=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var C=y.memoizedProps,E=y.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?C:Bt(e.type,C),E);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(x){ke(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return y=xf,xf=!1,y}function ys(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ru(e,n,s)}i=i.next}while(i!==r)}}function Kl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function iu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Og(t){var e=t.alternate;e!==null&&(t.alternate=null,Og(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xt],delete e[Ds],delete e[Hc],delete e[Gv],delete e[Qv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Bg(t){return t.tag===5||t.tag===3||t.tag===4}function bf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Bg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function su(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ol));else if(r!==4&&(t=t.child,t!==null))for(su(t,e,n),t=t.sibling;t!==null;)su(t,e,n),t=t.sibling}function ou(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ou(t,e,n),t=t.sibling;t!==null;)ou(t,e,n),t=t.sibling}var Ge=null,Lt=!1;function Sn(t,e,n){for(n=n.child;n!==null;)Lg(t,e,n),n=n.sibling}function Lg(t,e,n){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount($l,n)}catch{}switch(n.tag){case 5:nt||Zr(n,e);case 6:var r=Ge,i=Lt;Ge=null,Sn(t,e,n),Ge=r,Lt=i,Ge!==null&&(Lt?(t=Ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(Lt?(t=Ge,n=n.stateNode,t.nodeType===8?Ya(t.parentNode,n):t.nodeType===1&&Ya(t,n),js(t)):Ya(Ge,n.stateNode));break;case 4:r=Ge,i=Lt,Ge=n.stateNode.containerInfo,Lt=!0,Sn(t,e,n),Ge=r,Lt=i;break;case 0:case 11:case 14:case 15:if(!nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ru(n,e,o),i=i.next}while(i!==r)}Sn(t,e,n);break;case 1:if(!nt&&(Zr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ke(n,e,l)}Sn(t,e,n);break;case 21:Sn(t,e,n);break;case 22:n.mode&1?(nt=(r=nt)||n.memoizedState!==null,Sn(t,e,n),nt=r):Sn(t,e,n);break;default:Sn(t,e,n)}}function Sf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new u_),e.forEach(function(r){var i=x_.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ot(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ge=l.stateNode,Lt=!1;break e;case 3:Ge=l.stateNode.containerInfo,Lt=!0;break e;case 4:Ge=l.stateNode.containerInfo,Lt=!0;break e}l=l.return}if(Ge===null)throw Error(D(160));Lg(s,o,i),Ge=null,Lt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ke(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zg(e,t),e=e.sibling}function zg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ot(e,t),Qt(t),r&4){try{ys(3,t,t.return),Kl(3,t)}catch(C){ke(t,t.return,C)}try{ys(5,t,t.return)}catch(C){ke(t,t.return,C)}}break;case 1:Ot(e,t),Qt(t),r&512&&n!==null&&Zr(n,n.return);break;case 5:if(Ot(e,t),Qt(t),r&512&&n!==null&&Zr(n,n.return),t.flags&32){var i=t.stateNode;try{Es(i,"")}catch(C){ke(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&am(i,s),Ic(l,o);var u=Ic(l,s);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];h==="style"?fm(i,d):h==="dangerouslySetInnerHTML"?dm(i,d):h==="children"?Es(i,d):zu(i,h,d,u)}switch(l){case"input":Ec(i,s);break;case"textarea":cm(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?ni(i,!!s.multiple,v,!1):f!==!!s.multiple&&(s.defaultValue!=null?ni(i,!!s.multiple,s.defaultValue,!0):ni(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ds]=s}catch(C){ke(t,t.return,C)}}break;case 6:if(Ot(e,t),Qt(t),r&4){if(t.stateNode===null)throw Error(D(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(C){ke(t,t.return,C)}}break;case 3:if(Ot(e,t),Qt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{js(e.containerInfo)}catch(C){ke(t,t.return,C)}break;case 4:Ot(e,t),Qt(t);break;case 13:Ot(e,t),Qt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(_d=Ie())),r&4&&Sf(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(nt=(u=nt)||h,Ot(e,t),nt=u):Ot(e,t),Qt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(z=t,h=t.child;h!==null;){for(d=z=h;z!==null;){switch(f=z,v=f.child,f.tag){case 0:case 11:case 14:case 15:ys(4,f,f.return);break;case 1:Zr(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(C){ke(r,n,C)}}break;case 5:Zr(f,f.return);break;case 22:if(f.memoizedState!==null){Cf(d);continue}}v!==null?(v.return=f,z=v):Cf(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=hm("display",o))}catch(C){ke(t,t.return,C)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(C){ke(t,t.return,C)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ot(e,t),Qt(t),r&4&&Sf(t);break;case 21:break;default:Ot(e,t),Qt(t)}}function Qt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Bg(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Es(i,""),r.flags&=-33);var s=bf(t);ou(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=bf(t);su(t,l,o);break;default:throw Error(D(161))}}catch(c){ke(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function h_(t,e,n){z=t,$g(t)}function $g(t,e,n){for(var r=(t.mode&1)!==0;z!==null;){var i=z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Fo;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||nt;l=Fo;var u=nt;if(Fo=o,(nt=c)&&!u)for(z=i;z!==null;)o=z,c=o.child,o.tag===22&&o.memoizedState!==null?Ef(i):c!==null?(c.return=o,z=c):Ef(i);for(;s!==null;)z=s,$g(s),s=s.sibling;z=i,Fo=l,nt=u}wf(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,z=s):wf(t)}}function wf(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nt||Kl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Bt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&lf(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lf(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&js(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}nt||e.flags&512&&iu(e)}catch(f){ke(e,e.return,f)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function Cf(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function Ef(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Kl(4,e)}catch(c){ke(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){ke(e,i,c)}}var s=e.return;try{iu(e)}catch(c){ke(e,s,c)}break;case 5:var o=e.return;try{iu(e)}catch(c){ke(e,o,c)}}}catch(c){ke(e,e.return,c)}if(e===t){z=null;break}var l=e.sibling;if(l!==null){l.return=e.return,z=l;break}z=e.return}}var f_=Math.ceil,yl=_n.ReactCurrentDispatcher,yd=_n.ReactCurrentOwner,Nt=_n.ReactCurrentBatchConfig,ie=0,Ye=null,De=null,Ke=0,vt=0,ei=Jn(0),Le=0,zs=null,_r=0,ql=0,vd=0,vs=null,ut=null,_d=0,vi=1/0,on=null,vl=!1,lu=null,Bn=null,Mo=!1,In=null,_l=0,_s=0,au=null,Ko=-1,qo=0;function ot(){return ie&6?Ie():Ko!==-1?Ko:Ko=Ie()}function Ln(t){return t.mode&1?ie&2&&Ke!==0?Ke&-Ke:qv.transition!==null?(qo===0&&(qo=Em()),qo):(t=ce,t!==0||(t=window.event,t=t===void 0?16:Am(t.type)),t):1}function Ht(t,e,n,r){if(50<_s)throw _s=0,au=null,Error(D(185));eo(t,n,r),(!(ie&2)||t!==Ye)&&(t===Ye&&(!(ie&2)&&(ql|=n),Le===4&&Rn(t,Ke)),mt(t,r),n===1&&ie===0&&!(e.mode&1)&&(vi=Ie()+500,Yl&&Zn()))}function mt(t,e){var n=t.callbackNode;qy(t,e);var r=nl(t,t===Ye?Ke:0);if(r===0)n!==null&&Ph(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ph(n),e===1)t.tag===0?Kv(kf.bind(null,t)):Xm(kf.bind(null,t)),Vv(function(){!(ie&6)&&Zn()}),n=null;else{switch(km(r)){case 1:n=Vu;break;case 4:n=wm;break;case 16:n=tl;break;case 536870912:n=Cm;break;default:n=tl}n=Kg(n,Wg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Wg(t,e){if(Ko=-1,qo=0,ie&6)throw Error(D(327));var n=t.callbackNode;if(li()&&t.callbackNode!==n)return null;var r=nl(t,t===Ye?Ke:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xl(t,r);else{e=r;var i=ie;ie|=2;var s=Hg();(Ye!==t||Ke!==e)&&(on=null,vi=Ie()+500,hr(t,e));do try{g_();break}catch(l){Ug(t,l)}while(1);id(),yl.current=s,ie=i,De!==null?e=0:(Ye=null,Ke=0,e=Le)}if(e!==0){if(e===2&&(i=Fc(t),i!==0&&(r=i,e=cu(t,i))),e===1)throw n=zs,hr(t,0),Rn(t,r),mt(t,Ie()),n;if(e===6)Rn(t,r);else{if(i=t.current.alternate,!(r&30)&&!p_(i)&&(e=xl(t,r),e===2&&(s=Fc(t),s!==0&&(r=s,e=cu(t,s))),e===1))throw n=zs,hr(t,0),Rn(t,r),mt(t,Ie()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:sr(t,ut,on);break;case 3:if(Rn(t,r),(r&130023424)===r&&(e=_d+500-Ie(),10<e)){if(nl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ot(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Uc(sr.bind(null,t,ut,on),e);break}sr(t,ut,on);break;case 4:if(Rn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ut(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*f_(r/1960))-r,10<r){t.timeoutHandle=Uc(sr.bind(null,t,ut,on),r);break}sr(t,ut,on);break;case 5:sr(t,ut,on);break;default:throw Error(D(329))}}}return mt(t,Ie()),t.callbackNode===n?Wg.bind(null,t):null}function cu(t,e){var n=vs;return t.current.memoizedState.isDehydrated&&(hr(t,e).flags|=256),t=xl(t,e),t!==2&&(e=ut,ut=n,e!==null&&uu(e)),t}function uu(t){ut===null?ut=t:ut.push.apply(ut,t)}function p_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Yt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rn(t,e){for(e&=~vd,e&=~ql,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ut(e),r=1<<n;t[n]=-1,e&=~r}}function kf(t){if(ie&6)throw Error(D(327));li();var e=nl(t,0);if(!(e&1))return mt(t,Ie()),null;var n=xl(t,e);if(t.tag!==0&&n===2){var r=Fc(t);r!==0&&(e=r,n=cu(t,r))}if(n===1)throw n=zs,hr(t,0),Rn(t,e),mt(t,Ie()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,sr(t,ut,on),mt(t,Ie()),null}function xd(t,e){var n=ie;ie|=1;try{return t(e)}finally{ie=n,ie===0&&(vi=Ie()+500,Yl&&Zn())}}function xr(t){In!==null&&In.tag===0&&!(ie&6)&&li();var e=ie;ie|=1;var n=Nt.transition,r=ce;try{if(Nt.transition=null,ce=1,t)return t()}finally{ce=r,Nt.transition=n,ie=e,!(ie&6)&&Zn()}}function bd(){vt=ei.current,_e(ei)}function hr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Hv(n)),De!==null)for(n=De.return;n!==null;){var r=n;switch(td(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ll();break;case 3:gi(),_e(ft),_e(rt),ud();break;case 5:cd(r);break;case 4:gi();break;case 13:_e(we);break;case 19:_e(we);break;case 10:sd(r.type._context);break;case 22:case 23:bd()}n=n.return}if(Ye=t,De=t=zn(t.current,null),Ke=vt=e,Le=0,zs=null,vd=ql=_r=0,ut=vs=null,cr!==null){for(e=0;e<cr.length;e++)if(n=cr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}cr=null}return t}function Ug(t,e){do{var n=De;try{if(id(),Yo.current=gl,ml){for(var r=Ce.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ml=!1}if(vr=0,He=Me=Ce=null,gs=!1,Os=0,yd.current=null,n===null||n.return===null){Le=1,zs=e,De=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=Ke,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=ff(o);if(v!==null){v.flags&=-257,pf(v,o,l,s,e),v.mode&1&&hf(s,u,e),e=v,c=u;var y=e.updateQueue;if(y===null){var C=new Set;C.add(c),e.updateQueue=C}else y.add(c);break e}else{if(!(e&1)){hf(s,u,e),Sd();break e}c=Error(D(426))}}else if(xe&&l.mode&1){var E=ff(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),pf(E,o,l,s,e),nd(yi(c,l));break e}}s=c=yi(c,l),Le!==4&&(Le=2),vs===null?vs=[s]:vs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=kg(s,c,e);of(s,m);break e;case 1:l=c;var p=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Bn===null||!Bn.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=Tg(s,l,e);of(s,x);break e}}s=s.return}while(s!==null)}Yg(n)}catch(w){e=w,De===n&&n!==null&&(De=n=n.return);continue}break}while(1)}function Hg(){var t=yl.current;return yl.current=gl,t===null?gl:t}function Sd(){(Le===0||Le===3||Le===2)&&(Le=4),Ye===null||!(_r&268435455)&&!(ql&268435455)||Rn(Ye,Ke)}function xl(t,e){var n=ie;ie|=2;var r=Hg();(Ye!==t||Ke!==e)&&(on=null,hr(t,e));do try{m_();break}catch(i){Ug(t,i)}while(1);if(id(),ie=n,yl.current=r,De!==null)throw Error(D(261));return Ye=null,Ke=0,Le}function m_(){for(;De!==null;)Vg(De)}function g_(){for(;De!==null&&!$y();)Vg(De)}function Vg(t){var e=Qg(t.alternate,t,vt);t.memoizedProps=t.pendingProps,e===null?Yg(t):De=e,yd.current=null}function Yg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=c_(n,e),n!==null){n.flags&=32767,De=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Le=6,De=null;return}}else if(n=a_(n,e,vt),n!==null){De=n;return}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);Le===0&&(Le=5)}function sr(t,e,n){var r=ce,i=Nt.transition;try{Nt.transition=null,ce=1,y_(t,e,n,r)}finally{Nt.transition=i,ce=r}return null}function y_(t,e,n,r){do li();while(In!==null);if(ie&6)throw Error(D(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Xy(t,s),t===Ye&&(De=Ye=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mo||(Mo=!0,Kg(tl,function(){return li(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Nt.transition,Nt.transition=null;var o=ce;ce=1;var l=ie;ie|=4,yd.current=null,d_(t,n),zg(n,t),Ov($c),rl=!!zc,$c=zc=null,t.current=n,h_(n),Wy(),ie=l,ce=o,Nt.transition=s}else t.current=n;if(Mo&&(Mo=!1,In=t,_l=i),s=t.pendingLanes,s===0&&(Bn=null),Vy(n.stateNode),mt(t,Ie()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vl)throw vl=!1,t=lu,lu=null,t;return _l&1&&t.tag!==0&&li(),s=t.pendingLanes,s&1?t===au?_s++:(_s=0,au=t):_s=0,Zn(),null}function li(){if(In!==null){var t=km(_l),e=Nt.transition,n=ce;try{if(Nt.transition=null,ce=16>t?16:t,In===null)var r=!1;else{if(t=In,In=null,_l=0,ie&6)throw Error(D(331));var i=ie;for(ie|=4,z=t.current;z!==null;){var s=z,o=s.child;if(z.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(z=u;z!==null;){var h=z;switch(h.tag){case 0:case 11:case 15:ys(8,h,s)}var d=h.child;if(d!==null)d.return=h,z=d;else for(;z!==null;){h=z;var f=h.sibling,v=h.return;if(Og(h),h===u){z=null;break}if(f!==null){f.return=v,z=f;break}z=v}}}var y=s.alternate;if(y!==null){var C=y.child;if(C!==null){y.child=null;do{var E=C.sibling;C.sibling=null,C=E}while(C!==null)}}z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,z=o;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ys(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,z=m;break e}z=s.return}}var p=t.current;for(z=p;z!==null;){o=z;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,z=g;else e:for(o=p;z!==null;){if(l=z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Kl(9,l)}}catch(w){ke(l,l.return,w)}if(l===o){z=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,z=x;break e}z=l.return}}if(ie=i,Zn(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot($l,t)}catch{}r=!0}return r}finally{ce=n,Nt.transition=e}}return!1}function Tf(t,e,n){e=yi(n,e),e=kg(t,e,1),t=On(t,e,1),e=ot(),t!==null&&(eo(t,1,e),mt(t,e))}function ke(t,e,n){if(t.tag===3)Tf(t,t,n);else for(;e!==null;){if(e.tag===3){Tf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bn===null||!Bn.has(r))){t=yi(n,t),t=Tg(e,t,1),e=On(e,t,1),t=ot(),e!==null&&(eo(e,1,t),mt(e,t));break}}e=e.return}}function v_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ot(),t.pingedLanes|=t.suspendedLanes&n,Ye===t&&(Ke&n)===n&&(Le===4||Le===3&&(Ke&130023424)===Ke&&500>Ie()-_d?hr(t,0):vd|=n),mt(t,e)}function Gg(t,e){e===0&&(t.mode&1?(e=ko,ko<<=1,!(ko&130023424)&&(ko=4194304)):e=1);var n=ot();t=mn(t,e),t!==null&&(eo(t,e,n),mt(t,n))}function __(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Gg(t,n)}function x_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),Gg(t,n)}var Qg;Qg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ft.current)dt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dt=!1,l_(t,e,n);dt=!!(t.flags&131072)}else dt=!1,xe&&e.flags&1048576&&Jm(e,ul,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qo(t,e),t=e.pendingProps;var i=fi(e,rt.current);oi(e,n),i=hd(null,e,r,t,i,n);var s=fd();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pt(r)?(s=!0,al(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ld(e),i.updater=Ql,e.stateNode=i,i._reactInternals=e,qc(e,r,t,n),e=Zc(null,e,r,!0,s,n)):(e.tag=0,xe&&s&&ed(e),it(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qo(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=S_(r),t=Bt(r,t),i){case 0:e=Jc(null,e,r,t,n);break e;case 1:e=yf(null,e,r,t,n);break e;case 11:e=mf(null,e,r,t,n);break e;case 14:e=gf(null,e,r,Bt(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),Jc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),yf(t,e,r,i,n);case 3:e:{if(Ng(e),t===null)throw Error(D(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ig(t,e),fl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=yi(Error(D(423)),e),e=vf(t,e,r,n,i);break e}else if(r!==i){i=yi(Error(D(424)),e),e=vf(t,e,r,n,i);break e}else for(_t=Mn(e.stateNode.containerInfo.firstChild),xt=e,xe=!0,zt=null,n=ng(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pi(),r===i){e=gn(t,e,n);break e}it(t,e,r,n)}e=e.child}return e;case 5:return sg(e),t===null&&Gc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Wc(r,i)?o=null:s!==null&&Wc(r,s)&&(e.flags|=32),Ig(t,e),it(t,e,o,n),e.child;case 6:return t===null&&Gc(e),null;case 13:return Ag(t,e,n);case 4:return ad(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=mi(e,null,r,n):it(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),mf(t,e,r,i,n);case 7:return it(t,e,e.pendingProps,n),e.child;case 8:return it(t,e,e.pendingProps.children,n),e.child;case 12:return it(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ge(dl,r._currentValue),r._currentValue=o,s!==null)if(Yt(s.value,o)){if(s.children===i.children&&!ft.current){e=gn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=dn(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Qc(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(D(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Qc(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}it(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,oi(e,n),i=At(i),r=r(i),e.flags|=1,it(t,e,r,n),e.child;case 14:return r=e.type,i=Bt(r,e.pendingProps),i=Bt(r.type,i),gf(t,e,r,i,n);case 15:return Rg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),Qo(t,e),e.tag=1,pt(r)?(t=!0,al(e)):t=!1,oi(e,n),Eg(e,r,i),qc(e,r,i,n),Zc(null,e,r,!0,t,n);case 19:return Pg(t,e,n);case 22:return jg(t,e,n)}throw Error(D(156,e.tag))};function Kg(t,e){return Sm(t,e)}function b_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(t,e,n,r){return new b_(t,e,n,r)}function wd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function S_(t){if(typeof t=="function")return wd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wu)return 11;if(t===Uu)return 14}return 2}function zn(t,e){var n=t.alternate;return n===null?(n=jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xo(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")wd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Hr:return fr(n.children,i,s,e);case $u:o=8,i|=8;break;case xc:return t=jt(12,n,e,i|2),t.elementType=xc,t.lanes=s,t;case bc:return t=jt(13,n,e,i),t.elementType=bc,t.lanes=s,t;case Sc:return t=jt(19,n,e,i),t.elementType=Sc,t.lanes=s,t;case sm:return Xl(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rm:o=10;break e;case im:o=9;break e;case Wu:o=11;break e;case Uu:o=14;break e;case En:o=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=jt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function fr(t,e,n,r){return t=jt(7,t,r,e),t.lanes=n,t}function Xl(t,e,n,r){return t=jt(22,t,r,e),t.elementType=sm,t.lanes=n,t.stateNode={isHidden:!1},t}function ec(t,e,n){return t=jt(6,t,null,e),t.lanes=n,t}function tc(t,e,n){return e=jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function w_(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fa(0),this.expirationTimes=Fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fa(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cd(t,e,n,r,i,s,o,l,c){return t=new w_(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=jt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ld(s),t}function C_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ur,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function qg(t){if(!t)return Yn;t=t._reactInternals;e:{if(Er(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(pt(n))return qm(t,n,e)}return e}function Xg(t,e,n,r,i,s,o,l,c){return t=Cd(n,r,!0,t,i,s,o,l,c),t.context=qg(null),n=t.current,r=ot(),i=Ln(n),s=dn(r,i),s.callback=e??null,On(n,s,i),t.current.lanes=i,eo(t,i,r),mt(t,r),t}function Jl(t,e,n,r){var i=e.current,s=ot(),o=Ln(i);return n=qg(n),e.context===null?e.context=n:e.pendingContext=n,e=dn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=On(i,e,o),t!==null&&(Ht(t,i,o,s),Vo(t,i,o)),o}function bl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Rf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ed(t,e){Rf(t,e),(t=t.alternate)&&Rf(t,e)}function E_(){return null}var Jg=typeof reportError=="function"?reportError:function(t){console.error(t)};function kd(t){this._internalRoot=t}Zl.prototype.render=kd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));Jl(t,e,null,null)};Zl.prototype.unmount=kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xr(function(){Jl(null,t,null,null)}),e[pn]=null}};function Zl(t){this._internalRoot=t}Zl.prototype.unstable_scheduleHydration=function(t){if(t){var e=jm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Tn.length&&e!==0&&e<Tn[n].priority;n++);Tn.splice(n,0,t),n===0&&Nm(t)}};function Td(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ea(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jf(){}function k_(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=bl(o);s.call(u)}}var o=Xg(e,r,t,0,null,!1,!1,"",jf);return t._reactRootContainer=o,t[pn]=o.current,As(t.nodeType===8?t.parentNode:t),xr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=bl(c);l.call(u)}}var c=Cd(t,0,!1,null,null,!1,!1,"",jf);return t._reactRootContainer=c,t[pn]=c.current,As(t.nodeType===8?t.parentNode:t),xr(function(){Jl(e,c,n,r)}),c}function ta(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=bl(o);l.call(c)}}Jl(e,o,t,i)}else o=k_(n,e,t,i,r);return bl(o)}Tm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cs(e.pendingLanes);n!==0&&(Yu(e,n|1),mt(e,Ie()),!(ie&6)&&(vi=Ie()+500,Zn()))}break;case 13:xr(function(){var r=mn(t,1);if(r!==null){var i=ot();Ht(r,t,1,i)}}),Ed(t,1)}};Gu=function(t){if(t.tag===13){var e=mn(t,134217728);if(e!==null){var n=ot();Ht(e,t,134217728,n)}Ed(t,134217728)}};Rm=function(t){if(t.tag===13){var e=Ln(t),n=mn(t,e);if(n!==null){var r=ot();Ht(n,t,e,r)}Ed(t,e)}};jm=function(){return ce};Im=function(t,e){var n=ce;try{return ce=t,e()}finally{ce=n}};Ac=function(t,e,n){switch(e){case"input":if(Ec(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Vl(r);if(!i)throw Error(D(90));lm(r),Ec(r,i)}}}break;case"textarea":cm(t,n);break;case"select":e=n.value,e!=null&&ni(t,!!n.multiple,e,!1)}};gm=xd;ym=xr;var T_={usingClientEntryPoint:!1,Events:[no,Qr,Vl,pm,mm,xd]},ns={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R_={bundleType:ns.bundleType,version:ns.version,rendererPackageName:ns.rendererPackageName,rendererConfig:ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_n.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xm(t),t===null?null:t.stateNode},findFiberByHostInstance:ns.findFiberByHostInstance||E_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oo.isDisabled&&Oo.supportsFiber)try{$l=Oo.inject(R_),Jt=Oo}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T_;St.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Td(e))throw Error(D(200));return C_(t,e,null,n)};St.createRoot=function(t,e){if(!Td(t))throw Error(D(299));var n=!1,r="",i=Jg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Cd(t,1,!1,null,null,n,!1,r,i),t[pn]=e.current,As(t.nodeType===8?t.parentNode:t),new kd(e)};St.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=xm(e),t=t===null?null:t.stateNode,t};St.flushSync=function(t){return xr(t)};St.hydrate=function(t,e,n){if(!ea(e))throw Error(D(200));return ta(null,t,e,!0,n)};St.hydrateRoot=function(t,e,n){if(!Td(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Jg;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Xg(e,null,t,1,n??null,i,!1,s,o),t[pn]=e.current,As(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zl(e)};St.render=function(t,e,n){if(!ea(e))throw Error(D(200));return ta(null,t,e,!1,n)};St.unmountComponentAtNode=function(t){if(!ea(t))throw Error(D(40));return t._reactRootContainer?(xr(function(){ta(null,null,t,!1,function(){t._reactRootContainer=null,t[pn]=null})}),!0):!1};St.unstable_batchedUpdates=xd;St.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ea(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return ta(t,e,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function Zg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zg)}catch(t){console.error(t)}}Zg(),Zp.exports=St;var j_=Zp.exports,e1,If=j_;e1=If.createRoot,If.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M=function(t,e){if(!t)throw Ii(e)},Ii=function(t){return new Error("Firebase Database ("+t1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},I_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Rd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,h=s>>2,d=(s&3)<<4|l>>4;let f=(l&15)<<2|u>>6,v=u&63;c||(v=64,o||(f=64)),r.push(n[h],n[d],n[f],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):I_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||d==null)throw new N_;const f=s<<2|l>>4;if(r.push(f),u!==64){const v=l<<4&240|u>>2;if(r.push(v),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class N_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r1=function(t){const e=n1(t);return Rd.encodeByteArray(e,!0)},Sl=function(t){return r1(t).replace(/\./g,"")},du=function(t){try{return Rd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t){return i1(void 0,t)}function i1(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!P_(n)||(t[n]=i1(t[n],e[n]));return t}function P_(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=()=>D_().__FIREBASE_DEFAULTS__,M_=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},O_=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&du(t[1]);return e&&JSON.parse(e)},s1=()=>{try{return F_()||M_()||O_()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},B_=t=>{var e,n;return(n=(e=s1())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},L_=t=>{const e=B_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},o1=()=>{var t;return(t=s1())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Sl(JSON.stringify(n)),Sl(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($_())}function W_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a1(){return t1.NODE_ADMIN===!0}function U_(){try{return typeof indexedDB=="object"}catch{return!1}}function H_(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="FirebaseError";class so extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=V_,Object.setPrototypeOf(this,so.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,c1.prototype.create)}}class c1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Y_(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new so(i,l,r)}}function Y_(t,e){return t.replace(G_,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const G_=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(t){return JSON.parse(t)}function Be(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=$s(du(s[0])||""),n=$s(du(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Q_=function(t){const e=u1(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},K_=function(t){const e=u1(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _i(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Nf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wl(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function hu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Af(s)&&Af(o)){if(!hu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Af(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4],u,h;for(let d=0;d<80;d++){d<40?d<20?(u=l^s&(o^l),h=1518500249):(u=s^o^l,h=1859775393):d<60?(u=s&o|l&(s|o),h=2400959708):(u=s^o^l,h=3395469782);const f=(i<<5|i>>>27)+u+c+h+r[d]&4294967295;c=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function na(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,M(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ra=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t){return t&&t._delegate?t._delegate:t}class Ws{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new io;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tx(e))try{this.getOrInitializeService({instanceIdentifier:or})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=or){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=or){return this.instances.has(e)}getOptions(e=or){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ex(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=or){return this.component?this.component.multipleInstances?e:or:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ex(t){return t===or?void 0:t}function tx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Z_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const rx={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},ix=pe.INFO,sx={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},ox=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=sx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class d1{constructor(e){this.name=e,this._logLevel=ix,this._logHandler=ox,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const lx=(t,e)=>e.some(n=>t instanceof n);let Pf,Df;function ax(){return Pf||(Pf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cx(){return Df||(Df=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h1=new WeakMap,fu=new WeakMap,f1=new WeakMap,nc=new WeakMap,jd=new WeakMap;function ux(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($n(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&h1.set(n,t)}).catch(()=>{}),jd.set(e,t),e}function dx(t){if(fu.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fu.set(t,e)}let pu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||f1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $n(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hx(t){pu=t(pu)}function fx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(rc(this),e,...n);return f1.set(r,e.sort?e.sort():[e]),$n(r)}:cx().includes(t)?function(...e){return t.apply(rc(this),e),$n(h1.get(this))}:function(...e){return $n(t.apply(rc(this),e))}}function px(t){return typeof t=="function"?fx(t):(t instanceof IDBTransaction&&dx(t),lx(t,ax())?new Proxy(t,pu):t)}function $n(t){if(t instanceof IDBRequest)return ux(t);if(nc.has(t))return nc.get(t);const e=px(t);return e!==t&&(nc.set(t,e),jd.set(e,t)),e}const rc=t=>jd.get(t);function mx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=$n(o);return r&&o.addEventListener("upgradeneeded",c=>{r($n(o.result),c.oldVersion,c.newVersion,$n(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const gx=["get","getKey","getAll","getAllKeys","count"],yx=["put","add","delete","clear"],ic=new Map;function Ff(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ic.get(e))return ic.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gx.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return ic.set(e,s),s}hx(t=>({...t,get:(e,n,r)=>Ff(e,n)||t.get(e,n,r),has:(e,n)=>!!Ff(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_x(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _x(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mu="@firebase/app",Mf="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn=new d1("@firebase/app"),xx="@firebase/app-compat",bx="@firebase/analytics-compat",Sx="@firebase/analytics",wx="@firebase/app-check-compat",Cx="@firebase/app-check",Ex="@firebase/auth",kx="@firebase/auth-compat",Tx="@firebase/database",Rx="@firebase/data-connect",jx="@firebase/database-compat",Ix="@firebase/functions",Nx="@firebase/functions-compat",Ax="@firebase/installations",Px="@firebase/installations-compat",Dx="@firebase/messaging",Fx="@firebase/messaging-compat",Mx="@firebase/performance",Ox="@firebase/performance-compat",Bx="@firebase/remote-config",Lx="@firebase/remote-config-compat",zx="@firebase/storage",$x="@firebase/storage-compat",Wx="@firebase/firestore",Ux="@firebase/vertexai-preview",Hx="@firebase/firestore-compat",Vx="firebase",Yx="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu="[DEFAULT]",Gx={[mu]:"fire-core",[xx]:"fire-core-compat",[Sx]:"fire-analytics",[bx]:"fire-analytics-compat",[Cx]:"fire-app-check",[wx]:"fire-app-check-compat",[Ex]:"fire-auth",[kx]:"fire-auth-compat",[Tx]:"fire-rtdb",[Rx]:"fire-data-connect",[jx]:"fire-rtdb-compat",[Ix]:"fire-fn",[Nx]:"fire-fn-compat",[Ax]:"fire-iid",[Px]:"fire-iid-compat",[Dx]:"fire-fcm",[Fx]:"fire-fcm-compat",[Mx]:"fire-perf",[Ox]:"fire-perf-compat",[Bx]:"fire-rc",[Lx]:"fire-rc-compat",[zx]:"fire-gcs",[$x]:"fire-gcs-compat",[Wx]:"fire-fst",[Hx]:"fire-fst-compat",[Ux]:"fire-vertex","fire-js":"fire-js",[Vx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new Map,Qx=new Map,yu=new Map;function Of(t,e){try{t.container.addComponent(e)}catch(n){yn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function El(t){const e=t.name;if(yu.has(e))return yn.debug(`There were multiple attempts to register component ${e}.`),!1;yu.set(e,t);for(const n of Cl.values())Of(n,t);for(const n of Qx.values())Of(n,t);return!0}function Kx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wn=new c1("app","Firebase",qx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=Yx;function p1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:gu,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Wn.create("bad-app-name",{appName:String(i)});if(n||(n=o1()),!n)throw Wn.create("no-options");const s=Cl.get(i);if(s){if(hu(n,s.options)&&hu(r,s.config))return s;throw Wn.create("duplicate-app",{appName:i})}const o=new nx(i);for(const c of yu.values())o.addComponent(c);const l=new Xx(n,r,o);return Cl.set(i,l),l}function Zx(t=gu){const e=Cl.get(t);if(!e&&t===gu&&o1())return p1();if(!e)throw Wn.create("no-app",{appName:t});return e}function ai(t,e,n){var r;let i=(r=Gx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yn.warn(l.join(" "));return}El(new Ws(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="firebase-heartbeat-database",tb=1,Us="firebase-heartbeat-store";let sc=null;function m1(){return sc||(sc=mx(eb,tb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Us)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wn.create("idb-open",{originalErrorMessage:t.message})})),sc}async function nb(t){try{const n=(await m1()).transaction(Us),r=await n.objectStore(Us).get(g1(t));return await n.done,r}catch(e){if(e instanceof so)yn.warn(e.message);else{const n=Wn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yn.warn(n.message)}}}async function Bf(t,e){try{const r=(await m1()).transaction(Us,"readwrite");await r.objectStore(Us).put(e,g1(t)),await r.done}catch(n){if(n instanceof so)yn.warn(n.message);else{const r=Wn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yn.warn(r.message)}}}function g1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=1024,ib=30*24*60*60*1e3;class sb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Lf();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=ib}),this._storage.overwrite(this._heartbeatsCache))}catch(r){yn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Lf(),{heartbeatsToSend:r,unsentEntries:i}=ob(this._heartbeatsCache.heartbeats),s=Sl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return yn.warn(n),""}}}function Lf(){return new Date().toISOString().substring(0,10)}function ob(t,e=rb){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),zf(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zf(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U_()?H_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function zf(t){return Sl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(t){El(new Ws("platform-logger",e=>new vx(e),"PRIVATE")),El(new Ws("heartbeat",e=>new sb(e),"PRIVATE")),ai(mu,Mf,t),ai(mu,Mf,"esm2017"),ai("fire-js","")}ab("");var cb="firebase",ub="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai(cb,ub,"app");const $f="@firebase/database",Wf="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y1="";function db(t){y1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Be(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:$s(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return tn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new hb(e)}}catch{}return new fb},dr=v1("localStorage"),vu=v1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new d1("@firebase/database"),pb=function(){let t=1;return function(){return t++}}(),_1=function(t){const e=J_(t),n=new X_;n.update(e);const r=n.digest();return Rd.encodeByteArray(r)},oo=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=oo.apply(null,r):typeof r=="object"?e+=Be(r):e+=r,e+=" "}return e};let pr=null,Uf=!0;const mb=function(t,e){M(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(ci.logLevel=pe.VERBOSE,pr=ci.log.bind(ci),e&&vu.set("logging_enabled",!0)):typeof t=="function"?pr=t:(pr=null,vu.remove("logging_enabled"))},Qe=function(...t){if(Uf===!0&&(Uf=!1,pr===null&&vu.get("logging_enabled")===!0&&mb(!0)),pr){const e=oo.apply(null,t);pr(e)}},lo=function(t){return function(...e){Qe(t,...e)}},_u=function(...t){const e="FIREBASE INTERNAL ERROR: "+oo(...t);ci.error(e)},vn=function(...t){const e=`FIREBASE FATAL ERROR: ${oo(...t)}`;throw ci.error(e),new Error(e)},lt=function(...t){const e="FIREBASE WARNING: "+oo(...t);ci.warn(e)},gb=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&lt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Id=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},yb=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},xi="[MIN_NAME]",br="[MAX_NAME]",Tr=function(t,e){if(t===e)return 0;if(t===xi||e===br)return-1;if(e===xi||t===br)return 1;{const n=Hf(t),r=Hf(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},vb=function(t,e){return t===e?0:t<e?-1:1},rs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Be(e))},Nd=function(t){if(typeof t!="object"||t===null)return Be(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Be(e[r]),n+=":",n+=Nd(t[e[r]]);return n+="}",n},x1=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Xe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const b1=function(t){M(!Id(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,c;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(c=n;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const h=u.join("");let d="";for(c=0;c<64;c+=8){let f=parseInt(h.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},_b=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},xb=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function bb(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Sb=new RegExp("^-?(0*)\\d{1,10}$"),wb=-2147483648,Cb=2147483647,Hf=function(t){if(Sb.test(t)){const e=Number(t);if(e>=wb&&e<=Cb)return e}return null},Ni=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw lt("Exception was thrown by user callback.",n),e},Math.floor(0))}},Eb=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},xs=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){lt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',lt(e)}}class ui{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ui.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="5",S1="v",w1="s",C1="r",E1="f",k1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,T1="ls",R1="p",xu="ac",j1="websocket",I1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n,r,i,s=!1,o="",l=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=dr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&dr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Rb(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function A1(t,e,n){M(typeof e=="string","typeof type must == string"),M(typeof n=="object","typeof params must == object");let r;if(e===j1)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===I1)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Rb(t)&&(n.ns=t.namespace);const i=[];return Xe(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(){this.counters_={}}incrementCounter(e,n=1){tn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return A_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc={},lc={};function Pd(t){const e=t.toString();return oc[e]||(oc[e]=new jb),oc[e]}function Ib(t,e){const n=t.toString();return lc[n]||(lc[n]=e()),lc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ni(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="start",Ab="close",Pb="pLPCommand",Db="pRTLPCB",P1="id",D1="pw",F1="ser",Fb="cb",Mb="seg",Ob="ts",Bb="d",Lb="dframe",M1=1870,O1=30,zb=M1-O1,$b=25e3,Wb=3e4;class ti{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=lo(e),this.stats_=Pd(n),this.urlFn=c=>(this.appCheckToken&&(c[xu]=this.appCheckToken),A1(n,I1,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Nb(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Wb)),yb(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Dd((...s)=>{const[o,l,c,u,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Vf)this.id=l,this.password=c;else if(o===Ab)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Vf]="t",r[F1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Fb]=this.scriptTagHolder.uniqueCallbackIdentifier),r[S1]=Ad,this.transportSessionId&&(r[w1]=this.transportSessionId),this.lastSessionId&&(r[T1]=this.lastSessionId),this.applicationId&&(r[R1]=this.applicationId),this.appCheckToken&&(r[xu]=this.appCheckToken),typeof location<"u"&&location.hostname&&k1.test(location.hostname)&&(r[C1]=E1);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ti.forceAllow_=!0}static forceDisallow(){ti.forceDisallow_=!0}static isAvailable(){return ti.forceAllow_?!0:!ti.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!_b()&&!xb()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Be(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=r1(n),i=x1(r,zb);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Lb]="t",r[P1]=e,r[D1]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Be(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Dd{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=pb(),window[Pb+this.uniqueCallbackIdentifier]=e,window[Db+this.uniqueCallbackIdentifier]=n,this.myIFrame=Dd.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Qe("frame writing exception"),l.stack&&Qe(l.stack),Qe(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Qe("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[P1]=this.myID,e[D1]=this.myPW,e[F1]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+O1+r.length<=M1;){const o=this.pendingSegs.shift();r=r+"&"+Mb+i+"="+o.seg+"&"+Ob+i+"="+o.ts+"&"+Bb+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor($b)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Qe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=16384,Hb=45e3;let kl=null;typeof MozWebSocket<"u"?kl=MozWebSocket:typeof WebSocket<"u"&&(kl=WebSocket);class $t{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=lo(this.connId),this.stats_=Pd(n),this.connURL=$t.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[S1]=Ad,typeof location<"u"&&location.hostname&&k1.test(location.hostname)&&(o[C1]=E1),n&&(o[w1]=n),r&&(o[T1]=r),i&&(o[xu]=i),s&&(o[R1]=s),A1(e,j1,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,dr.set("previous_websocket_failure",!0);try{let r;a1(),this.mySock=new kl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){$t.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&kl!==null&&!$t.forceDisallow_}static previouslyFailed(){return dr.isInMemoryStorage||dr.get("previous_websocket_failure")===!0}markConnectionHealthy(){dr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=$s(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(M(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Be(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=x1(n,Ub);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Hb))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}$t.responsesRequiredToBeHealthy=2;$t.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ti,$t]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=$t&&$t.isAvailable();let r=n&&!$t.previouslyFailed();if(e.webSocketOnly&&(n||lt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[$t];else{const i=this.transports_=[];for(const s of Hs.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Hs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Hs.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=6e4,Yb=5e3,Gb=10*1024,Qb=100*1024,ac="t",Yf="d",Kb="s",Gf="r",qb="e",Qf="o",Kf="a",qf="n",Xf="p",Xb="h";class Jb{constructor(e,n,r,i,s,o,l,c,u,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=lo("c:"+this.id+":"),this.transportManager_=new Hs(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=xs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Qb?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Gb?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ac in e){const n=e[ac];n===Kf?this.upgradeIfSecondaryHealthy_():n===Gf?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Qf&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=rs("t",e),r=rs("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Xf,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Kf,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:qf,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=rs("t",e),r=rs("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=rs(ac,e);if(Yf in e){const r=e[Yf];if(n===Xb){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===qf){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Kb?this.onConnectionShutdown_(r):n===Gf?this.onReset_(r):n===qb?_u("Server Error: "+r):n===Qf?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):_u("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ad!==r&&lt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),xs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Vb))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Yb))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Xf,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(dr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.allowedEvents_=e,this.listeners_={},M(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){M(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends L1{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!l1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Tl}getInitialEvent(e){return M(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=32,Zf=768;class ue{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function oe(){return new ue("")}function J(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Gn(t){return t.pieces_.length-t.pieceNum_}function me(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ue(t.pieces_,e)}function Fd(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Zb(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Vs(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function z1(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ue(e,0)}function Te(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ue)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ue(n,0)}function ee(t){return t.pieceNum_>=t.pieces_.length}function st(t,e){const n=J(t),r=J(e);if(n===null)return e;if(n===r)return st(me(t),me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function e2(t,e){const n=Vs(t,0),r=Vs(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Tr(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function Md(t,e){if(Gn(t)!==Gn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function It(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Gn(t)>Gn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class t2{constructor(e,n){this.errorPrefix_=n,this.parts_=Vs(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ra(this.parts_[r]);$1(this)}}function n2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ra(e),$1(t)}function r2(t){const e=t.parts_.pop();t.byteLength_-=ra(e),t.parts_.length>0&&(t.byteLength_-=1)}function $1(t){if(t.byteLength_>Zf)throw new Error(t.errorPrefix_+"has a key path longer than "+Zf+" bytes ("+t.byteLength_+").");if(t.parts_.length>Jf)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Jf+") or object contains a cycle "+lr(t))}function lr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od extends L1{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Od}getInitialEvent(e){return M(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=1e3,i2=60*5*1e3,ep=30*1e3,s2=1.3,o2=3e4,l2="server_kill",tp=3;class hn extends B1{constructor(e,n,r,i,s,o,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=hn.nextPersistentConnectionId_++,this.log_=lo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=is,this.maxReconnectDelay_=i2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!a1())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Od.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Tl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Be(s)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new io,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),M(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const c=l.d,u=l.s;hn.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&tn(e,"w")){const r=_i(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();lt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||K_(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ep)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Q_(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),M(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Be(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):_u("Unrecognized action received from server: "+Be(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=is,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=is,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>o2&&(this.reconnectDelay_=is),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*s2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+hn.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const c=function(){l?l.close():(o=!0,r())},u=function(d){M(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:c,sendRequest:u};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?Qe("getToken() completed but was canceled"):(Qe("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,l=new Jb(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,v=>{lt(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(l2)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&lt(d),c())}}}interrupt(e){Qe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Qe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Nf(this.interruptReasons_)&&(this.reconnectDelay_=is,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Nd(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ue(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Qe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=tp&&(this.reconnectDelay_=ep,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Qe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=tp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+y1.replace(/\./g,"-")]=1,l1()?e["framework.cordova"]=1:W_()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Tl.getInstance().currentlyOnline();return Nf(this.interruptReasons_)&&e}}hn.nextPersistentConnectionId_=0;hn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Z(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Z(xi,e),i=new Z(xi,n);return this.compare(r,i)!==0}minPost(){return Z.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo;class W1 extends ia{static get __EMPTY_NODE(){return Bo}static set __EMPTY_NODE(e){Bo=e}compare(e,n){return Tr(e.name,n.name)}isDefinedOn(e){throw Ii("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Z.MIN}maxPost(){return new Z(br,Bo)}makePost(e,n){return M(typeof e=="string","KeyIndex indexValue must always be a string."),new Z(e,Bo)}toString(){return".key"}}const di=new W1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ve{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ve.RED,this.left=i??ht.EMPTY_NODE,this.right=s??ht.EMPTY_NODE}copy(e,n,r,i,s){return new Ve(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ht.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ht.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ve.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ve.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ve.RED=!0;Ve.BLACK=!1;class a2{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ve(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ht{constructor(e,n=ht.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ht(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ve.BLACK,null,null))}remove(e){return new ht(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ve.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Lo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Lo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Lo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Lo(this.root_,null,this.comparator_,!0,e)}}ht.EMPTY_NODE=new a2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(t,e){return Tr(t.name,e.name)}function Bd(t,e){return Tr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu;function u2(t){bu=t}const U1=function(t){return typeof t=="number"?"number:"+b1(t):"string:"+t},H1=function(t){if(t.isLeafNode()){const e=t.val();M(typeof e=="string"||typeof e=="number"||typeof e=="object"&&tn(e,".sv"),"Priority must be a string or number.")}else M(t===bu||t.isEmpty(),"priority of unexpected type.");M(t===bu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let np;class Ue{constructor(e,n=Ue.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),H1(this.priorityNode_)}static set __childrenNodeConstructor(e){np=e}static get __childrenNodeConstructor(){return np}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ue(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ue.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ee(e)?this:J(e)===".priority"?this.priorityNode_:Ue.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ue.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=J(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(M(r!==".priority"||Gn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ue.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+U1(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=b1(this.value_):e+=this.value_,this.lazyHash_=_1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ue.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ue.__childrenNodeConstructor?-1:(M(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Ue.VALUE_TYPE_ORDER.indexOf(n),s=Ue.VALUE_TYPE_ORDER.indexOf(r);return M(i>=0,"Unknown leaf type: "+n),M(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ue.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V1,Y1;function d2(t){V1=t}function h2(t){Y1=t}class f2 extends ia{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Tr(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Z.MIN}maxPost(){return new Z(br,new Ue("[PRIORITY-POST]",Y1))}makePost(e,n){const r=V1(e);return new Z(n,new Ue("[PRIORITY-POST]",r))}toString(){return".priority"}}const Re=new f2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=Math.log(2);class m2{constructor(e){const n=s=>parseInt(Math.log(s)/p2,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Rl=function(t,e,n,r){t.sort(e);const i=function(c,u){const h=u-c;let d,f;if(h===0)return null;if(h===1)return d=t[c],f=n?n(d):d,new Ve(f,d.node,Ve.BLACK,null,null);{const v=parseInt(h/2,10)+c,y=i(c,v),C=i(v+1,u);return d=t[v],f=n?n(d):d,new Ve(f,d.node,Ve.BLACK,y,C)}},s=function(c){let u=null,h=null,d=t.length;const f=function(y,C){const E=d-y,m=d;d-=y;const p=i(E+1,m),g=t[E],x=n?n(g):g;v(new Ve(x,g.node,C,null,p))},v=function(y){u?(u.left=y,u=y):(h=y,u=y)};for(let y=0;y<c.count;++y){const C=c.nextBitIsOne(),E=Math.pow(2,c.count-(y+1));C?f(E,Ve.BLACK):(f(E,Ve.BLACK),f(E,Ve.RED))}return h},o=new m2(t.length),l=s(o);return new ht(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cc;const $r={};class un{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return M($r&&Re,"ChildrenNode.ts has not been loaded"),cc=cc||new un({".priority":$r},{".priority":Re}),cc}get(e){const n=_i(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ht?n:null}hasIndex(e){return tn(this.indexSet_,e.toString())}addIndex(e,n){M(e!==di,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Z.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=Rl(r,e.getCompare()):l=$r;const c=e.toString(),u=Object.assign({},this.indexSet_);u[c]=e;const h=Object.assign({},this.indexes_);return h[c]=l,new un(h,u)}addToIndexes(e,n){const r=wl(this.indexes_,(i,s)=>{const o=_i(this.indexSet_,s);if(M(o,"Missing index implementation for "+s),i===$r)if(o.isDefinedOn(e.node)){const l=[],c=n.getIterator(Z.Wrap);let u=c.getNext();for(;u;)u.name!==e.name&&l.push(u),u=c.getNext();return l.push(e),Rl(l,o.getCompare())}else return $r;else{const l=n.get(e.name);let c=i;return l&&(c=c.remove(new Z(e.name,l))),c.insert(e,e.node)}});return new un(r,this.indexSet_)}removeFromIndexes(e,n){const r=wl(this.indexes_,i=>{if(i===$r)return i;{const s=n.get(e.name);return s?i.remove(new Z(e.name,s)):i}});return new un(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ss;class V{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&H1(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ss||(ss=new V(new ht(Bd),null,un.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ss}updatePriority(e){return this.children_.isEmpty()?this:new V(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ss:n}}getChild(e){const n=J(e);return n===null?this:this.getImmediateChild(n).getChild(me(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(M(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Z(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ss:this.priorityNode_;return new V(i,o,s)}}updateChild(e,n){const r=J(e);if(r===null)return n;{M(J(e)!==".priority"||Gn(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(me(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Re,(o,l)=>{n[o]=l.val(e),r++,s&&V.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+U1(this.getPriority().val())+":"),this.forEachChild(Re,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":_1(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Z(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Z(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Z(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Z.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Z.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ao?-1:0}withIndex(e){if(e===di||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new V(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===di||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Re),i=n.getIterator(Re);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===di?null:this.indexMap_.get(e.toString())}}V.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class g2 extends V{constructor(){super(new ht(Bd),V.EMPTY_NODE,un.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return V.EMPTY_NODE}isEmpty(){return!1}}const ao=new g2;Object.defineProperties(Z,{MIN:{value:new Z(xi,V.EMPTY_NODE)},MAX:{value:new Z(br,ao)}});W1.__EMPTY_NODE=V.EMPTY_NODE;Ue.__childrenNodeConstructor=V;u2(ao);h2(ao);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=!0;function Oe(t,e=null){if(t===null)return V.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),M(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ue(n,Oe(e))}if(!(t instanceof Array)&&y2){const n=[];let r=!1;if(Xe(t,(o,l)=>{if(o.substring(0,1)!=="."){const c=Oe(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new Z(o,c)))}}),n.length===0)return V.EMPTY_NODE;const s=Rl(n,c2,o=>o.name,Bd);if(r){const o=Rl(n,Re.getCompare());return new V(s,Oe(e),new un({".priority":o},{".priority":Re}))}else return new V(s,Oe(e),un.Default)}else{let n=V.EMPTY_NODE;return Xe(t,(r,i)=>{if(tn(t,r)&&r.substring(0,1)!=="."){const s=Oe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Oe(e))}}d2(Oe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2 extends ia{constructor(e){super(),this.indexPath_=e,M(!ee(e)&&J(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Tr(e.name,n.name):s}makePost(e,n){const r=Oe(e),i=V.EMPTY_NODE.updateChild(this.indexPath_,r);return new Z(n,i)}maxPost(){const e=V.EMPTY_NODE.updateChild(this.indexPath_,ao);return new Z(br,e)}toString(){return Vs(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2 extends ia{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Tr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Z.MIN}maxPost(){return Z.MAX}makePost(e,n){const r=Oe(e);return new Z(n,r)}toString(){return".value"}}const x2=new _2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(t){return{type:"value",snapshotNode:t}}function bi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ys(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Gs(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function b2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){M(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Ys(n,l)):M(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(bi(n,r)):o.trackChildChange(Gs(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Re,(i,s)=>{n.hasChild(i)||r.trackChildChange(Ys(i,s))}),n.isLeafNode()||n.forEachChild(Re,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Gs(i,s,o))}else r.trackChildChange(bi(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?V.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.indexedFilter_=new Ld(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Qs.getStartPost_(e),this.endPost_=Qs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Z(n,r))||(r=V.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=V.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(V.EMPTY_NODE);const s=this;return n.forEachChild(Re,(o,l)=>{s.matches(new Z(o,l))||(i=i.updateImmediateChild(o,V.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Qs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Z(n,r))||(r=V.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=V.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=V.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(V.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,V.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,v)=>d(v,f)}else o=this.index_.getCompare();const l=e;M(l.numChildren()===this.limit_,"");const c=new Z(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(l.hasChild(n)){const d=l.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const v=f==null?1:o(f,c);if(h&&!r.isEmpty()&&v>=0)return s!=null&&s.trackChildChange(Gs(n,r,d)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Ys(n,d));const C=l.updateImmediateChild(n,V.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(bi(f.name,f.node)),C.updateImmediateChild(f.name,f.node)):C}}else return r.isEmpty()?e:h&&o(u,c)>=0?(s!=null&&(s.trackChildChange(Ys(u.name,u.node)),s.trackChildChange(bi(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,V.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Re}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xi}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:br}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Re}copy(){const e=new zd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function w2(t){return t.loadsAllData()?new Ld(t.getIndex()):t.hasLimit()?new S2(t):new Qs(t)}function rp(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Re?n="$priority":t.index_===x2?n="$value":t.index_===di?n="$key":(M(t.index_ instanceof v2,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Be(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Be(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Be(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Be(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Be(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ip(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Re&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends B1{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=lo("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(M(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=jl.getListenId_(e,r),l={};this.listens_[o]=l;const c=rp(e._queryParams);this.restRequest_(s+".json",c,(u,h)=>{let d=h;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),_i(this.listens_,o)===l){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=jl.getListenId_(e,n);delete this.listens_[r]}get(e){const n=rp(e._queryParams),r=e._path.toString(),i=new io;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+q_(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=$s(l.responseText)}catch{lt("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&lt("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.rootNode_=V.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(){return{value:null,children:new Map}}function Q1(t,e,n){if(ee(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=J(e);t.children.has(r)||t.children.set(r,Il());const i=t.children.get(r);e=me(e),Q1(i,e,n)}}function Su(t,e,n){t.value!==null?n(e,t.value):E2(t,(r,i)=>{const s=new ue(e.toString()+"/"+r);Su(i,s,n)})}function E2(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Xe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=10*1e3,T2=30*1e3,R2=5*60*1e3;class j2{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new k2(e);const r=sp+(T2-sp)*Math.random();xs(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Xe(e,(i,s)=>{s>0&&tn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),xs(this.reportStats_.bind(this),Math.floor(Math.random()*2*R2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Wt||(Wt={}));function $d(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Wd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ud(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Wt.ACK_USER_WRITE,this.source=$d()}operationForChild(e){if(ee(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ue(e));return new Nl(oe(),n,this.revert)}}else return M(J(this.path)===e,"operationForChild called for unrelated child."),new Nl(me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n){this.source=e,this.path=n,this.type=Wt.LISTEN_COMPLETE}operationForChild(e){return ee(this.path)?new Ks(this.source,oe()):new Ks(this.source,me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Wt.OVERWRITE}operationForChild(e){return ee(this.path)?new Sr(this.source,oe(),this.snap.getImmediateChild(e)):new Sr(this.source,me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Wt.MERGE}operationForChild(e){if(ee(this.path)){const n=this.children.subtree(new ue(e));return n.isEmpty()?null:n.value?new Sr(this.source,oe(),n.value):new Si(this.source,oe(),n)}else return M(J(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Si(this.source,me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ee(e))return this.isFullyInitialized()&&!this.filtered_;const n=J(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function N2(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(b2(o.childName,o.snapshotNode))}),os(t,i,"child_removed",e,r,n),os(t,i,"child_added",e,r,n),os(t,i,"child_moved",s,r,n),os(t,i,"child_changed",e,r,n),os(t,i,"value",e,r,n),i}function os(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,c)=>P2(t,l,c)),o.forEach(l=>{const c=A2(t,l,s);i.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(c,t.query_))})})}function A2(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function P2(t,e,n){if(e.childName==null||n.childName==null)throw Ii("Should only compare child_ events.");const r=new Z(e.childName,e.snapshotNode),i=new Z(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(t,e){return{eventCache:t,serverCache:e}}function bs(t,e,n,r){return sa(new Qn(e,n,r),t.serverCache)}function K1(t,e,n,r){return sa(t.eventCache,new Qn(e,n,r))}function Al(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function wr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc;const D2=()=>(uc||(uc=new ht(vb)),uc);class fe{constructor(e,n=D2()){this.value=e,this.children=n}static fromObject(e){let n=new fe(null);return Xe(e,(r,i)=>{n=n.set(new ue(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:oe(),value:this.value};if(ee(e))return null;{const r=J(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(me(e),n);return s!=null?{path:Te(new ue(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ee(e))return this;{const n=J(e),r=this.children.get(n);return r!==null?r.subtree(me(e)):new fe(null)}}set(e,n){if(ee(e))return new fe(n,this.children);{const r=J(e),s=(this.children.get(r)||new fe(null)).set(me(e),n),o=this.children.insert(r,s);return new fe(this.value,o)}}remove(e){if(ee(e))return this.children.isEmpty()?new fe(null):new fe(null,this.children);{const n=J(e),r=this.children.get(n);if(r){const i=r.remove(me(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new fe(null):new fe(this.value,s)}else return this}}get(e){if(ee(e))return this.value;{const n=J(e),r=this.children.get(n);return r?r.get(me(e)):null}}setTree(e,n){if(ee(e))return n;{const r=J(e),s=(this.children.get(r)||new fe(null)).setTree(me(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new fe(this.value,o)}}fold(e){return this.fold_(oe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Te(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,oe(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(ee(e))return null;{const s=J(e),o=this.children.get(s);return o?o.findOnPath_(me(e),Te(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,oe(),n)}foreachOnPath_(e,n,r){if(ee(e))return this;{this.value&&r(n,this.value);const i=J(e),s=this.children.get(i);return s?s.foreachOnPath_(me(e),Te(n,i),r):new fe(null)}}foreach(e){this.foreach_(oe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Te(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.writeTree_=e}static empty(){return new Vt(new fe(null))}}function Ss(t,e,n){if(ee(e))return new Vt(new fe(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=st(i,e);return s=s.updateChild(o,n),new Vt(t.writeTree_.set(i,s))}else{const i=new fe(n),s=t.writeTree_.setTree(e,i);return new Vt(s)}}}function wu(t,e,n){let r=t;return Xe(n,(i,s)=>{r=Ss(r,Te(e,i),s)}),r}function op(t,e){if(ee(e))return Vt.empty();{const n=t.writeTree_.setTree(e,new fe(null));return new Vt(n)}}function Cu(t,e){return Rr(t,e)!=null}function Rr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(st(n.path,e)):null}function lp(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Re,(r,i)=>{e.push(new Z(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Z(r,i.value))}),e}function Un(t,e){if(ee(e))return t;{const n=Rr(t,e);return n!=null?new Vt(new fe(n)):new Vt(t.writeTree_.subtree(e))}}function Eu(t){return t.writeTree_.isEmpty()}function wi(t,e){return q1(oe(),t.writeTree_,e)}function q1(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(M(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=q1(Te(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Te(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t,e){return e0(e,t)}function F2(t,e,n,r,i){M(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ss(t.visibleWrites,e,n)),t.lastWriteId=r}function M2(t,e,n,r){M(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=wu(t.visibleWrites,e,n),t.lastWriteId=r}function O2(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function B2(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);M(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&L2(l,r.path)?i=!1:It(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return z2(t),!0;if(r.snap)t.visibleWrites=op(t.visibleWrites,r.path);else{const l=r.children;Xe(l,c=>{t.visibleWrites=op(t.visibleWrites,Te(r.path,c))})}return!0}else return!1}function L2(t,e){if(t.snap)return It(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&It(Te(t.path,n),e))return!0;return!1}function z2(t){t.visibleWrites=X1(t.allWrites,$2,oe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function $2(t){return t.visible}function X1(t,e,n){let r=Vt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)It(n,o)?(l=st(n,o),r=Ss(r,l,s.snap)):It(o,n)&&(l=st(o,n),r=Ss(r,oe(),s.snap.getChild(l)));else if(s.children){if(It(n,o))l=st(n,o),r=wu(r,l,s.children);else if(It(o,n))if(l=st(o,n),ee(l))r=wu(r,oe(),s.children);else{const c=_i(s.children,J(l));if(c){const u=c.getChild(me(l));r=Ss(r,oe(),u)}}}else throw Ii("WriteRecord should have .snap or .children")}}return r}function J1(t,e,n,r,i){if(!r&&!i){const s=Rr(t.visibleWrites,e);if(s!=null)return s;{const o=Un(t.visibleWrites,e);if(Eu(o))return n;if(n==null&&!Cu(o,oe()))return null;{const l=n||V.EMPTY_NODE;return wi(o,l)}}}else{const s=Un(t.visibleWrites,e);if(!i&&Eu(s))return n;if(!i&&n==null&&!Cu(s,oe()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(It(u.path,e)||It(e,u.path))},l=X1(t.allWrites,o,e),c=n||V.EMPTY_NODE;return wi(l,c)}}}function W2(t,e,n){let r=V.EMPTY_NODE;const i=Rr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Re,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Un(t.visibleWrites,e);return n.forEachChild(Re,(o,l)=>{const c=wi(Un(s,new ue(o)),l);r=r.updateImmediateChild(o,c)}),lp(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Un(t.visibleWrites,e);return lp(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function U2(t,e,n,r,i){M(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Te(e,n);if(Cu(t.visibleWrites,s))return null;{const o=Un(t.visibleWrites,s);return Eu(o)?i.getChild(n):wi(o,i.getChild(n))}}function H2(t,e,n,r){const i=Te(e,n),s=Rr(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Un(t.visibleWrites,i);return wi(o,r.getNode().getImmediateChild(n))}else return null}function V2(t,e){return Rr(t.visibleWrites,e)}function Y2(t,e,n,r,i,s,o){let l;const c=Un(t.visibleWrites,e),u=Rr(c,oe());if(u!=null)l=u;else if(n!=null)l=wi(c,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const h=[],d=o.getCompare(),f=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let v=f.getNext();for(;v&&h.length<i;)d(v,r)!==0&&h.push(v),v=f.getNext();return h}else return[]}function G2(){return{visibleWrites:Vt.empty(),allWrites:[],lastWriteId:-1}}function Pl(t,e,n,r){return J1(t.writeTree,t.treePath,e,n,r)}function Hd(t,e){return W2(t.writeTree,t.treePath,e)}function ap(t,e,n,r){return U2(t.writeTree,t.treePath,e,n,r)}function Dl(t,e){return V2(t.writeTree,Te(t.treePath,e))}function Q2(t,e,n,r,i,s){return Y2(t.writeTree,t.treePath,e,n,r,i,s)}function Vd(t,e,n){return H2(t.writeTree,t.treePath,e,n)}function Z1(t,e){return e0(Te(t.treePath,e),t.writeTree)}function e0(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;M(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),M(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Gs(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Ys(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,bi(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Gs(r,e.snapshotNode,i.oldSnap));else throw Ii("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const t0=new q2;class Yd{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Qn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Vd(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:wr(this.viewCache_),s=Q2(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t){return{filter:t}}function J2(t,e){M(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),M(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Z2(t,e,n,r,i){const s=new K2;let o,l;if(n.type===Wt.OVERWRITE){const u=n;u.source.fromUser?o=ku(t,e,u.path,u.snap,r,i,s):(M(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!ee(u.path),o=Fl(t,e,u.path,u.snap,r,i,l,s))}else if(n.type===Wt.MERGE){const u=n;u.source.fromUser?o=tS(t,e,u.path,u.children,r,i,s):(M(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=Tu(t,e,u.path,u.children,r,i,l,s))}else if(n.type===Wt.ACK_USER_WRITE){const u=n;u.revert?o=iS(t,e,u.path,r,i,s):o=nS(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Wt.LISTEN_COMPLETE)o=rS(t,e,n.path,r,s);else throw Ii("Unknown operation type: "+n.type);const c=s.getChanges();return eS(e,o,c),{viewCache:o,changes:c}}function eS(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Al(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(G1(Al(e)))}}function n0(t,e,n,r,i,s){const o=e.eventCache;if(Dl(r,n)!=null)return e;{let l,c;if(ee(n))if(M(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=wr(e),h=u instanceof V?u:V.EMPTY_NODE,d=Hd(r,h);l=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=Pl(r,wr(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=J(n);if(u===".priority"){M(Gn(n)===1,"Can't have a priority with additional path components");const h=o.getNode();c=e.serverCache.getNode();const d=ap(r,n,h,c);d!=null?l=t.filter.updatePriority(h,d):l=o.getNode()}else{const h=me(n);let d;if(o.isCompleteForChild(u)){c=e.serverCache.getNode();const f=ap(r,n,o.getNode(),c);f!=null?d=o.getNode().getImmediateChild(u).updateChild(h,f):d=o.getNode().getImmediateChild(u)}else d=Vd(r,u,e.serverCache);d!=null?l=t.filter.updateChild(o.getNode(),u,d,h,i,s):l=o.getNode()}}return bs(e,l,o.isFullyInitialized()||ee(n),t.filter.filtersNodes())}}function Fl(t,e,n,r,i,s,o,l){const c=e.serverCache;let u;const h=o?t.filter:t.filter.getIndexedFilter();if(ee(n))u=h.updateFullNode(c.getNode(),r,null);else if(h.filtersNodes()&&!c.isFiltered()){const v=c.getNode().updateChild(n,r);u=h.updateFullNode(c.getNode(),v,null)}else{const v=J(n);if(!c.isCompleteForPath(n)&&Gn(n)>1)return e;const y=me(n),E=c.getNode().getImmediateChild(v).updateChild(y,r);v===".priority"?u=h.updatePriority(c.getNode(),E):u=h.updateChild(c.getNode(),v,E,y,t0,null)}const d=K1(e,u,c.isFullyInitialized()||ee(n),h.filtersNodes()),f=new Yd(i,d,s);return n0(t,d,n,i,f,l)}function ku(t,e,n,r,i,s,o){const l=e.eventCache;let c,u;const h=new Yd(i,e,s);if(ee(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=bs(e,u,!0,t.filter.filtersNodes());else{const d=J(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),c=bs(e,u,l.isFullyInitialized(),l.isFiltered());else{const f=me(n),v=l.getNode().getImmediateChild(d);let y;if(ee(f))y=r;else{const C=h.getCompleteChild(d);C!=null?Fd(f)===".priority"&&C.getChild(z1(f)).isEmpty()?y=C:y=C.updateChild(f,r):y=V.EMPTY_NODE}if(v.equals(y))c=e;else{const C=t.filter.updateChild(l.getNode(),d,y,f,h,o);c=bs(e,C,l.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function cp(t,e){return t.eventCache.isCompleteForChild(e)}function tS(t,e,n,r,i,s,o){let l=e;return r.foreach((c,u)=>{const h=Te(n,c);cp(e,J(h))&&(l=ku(t,l,h,u,i,s,o))}),r.foreach((c,u)=>{const h=Te(n,c);cp(e,J(h))||(l=ku(t,l,h,u,i,s,o))}),l}function up(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Tu(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;ee(n)?u=r:u=new fe(null).setTree(n,r);const h=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(h.hasChild(d)){const v=e.serverCache.getNode().getImmediateChild(d),y=up(t,v,f);c=Fl(t,c,new ue(d),y,i,s,o,l)}}),u.children.inorderTraversal((d,f)=>{const v=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!h.hasChild(d)&&!v){const y=e.serverCache.getNode().getImmediateChild(d),C=up(t,y,f);c=Fl(t,c,new ue(d),C,i,s,o,l)}}),c}function nS(t,e,n,r,i,s,o){if(Dl(i,n)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(ee(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Fl(t,e,n,c.getNode().getChild(n),i,s,l,o);if(ee(n)){let u=new fe(null);return c.getNode().forEachChild(di,(h,d)=>{u=u.set(new ue(h),d)}),Tu(t,e,n,u,i,s,l,o)}else return e}else{let u=new fe(null);return r.foreach((h,d)=>{const f=Te(n,h);c.isCompleteForPath(f)&&(u=u.set(h,c.getNode().getChild(f)))}),Tu(t,e,n,u,i,s,l,o)}}function rS(t,e,n,r,i){const s=e.serverCache,o=K1(e,s.getNode(),s.isFullyInitialized()||ee(n),s.isFiltered());return n0(t,o,n,r,t0,i)}function iS(t,e,n,r,i,s){let o;if(Dl(r,n)!=null)return e;{const l=new Yd(r,e,i),c=e.eventCache.getNode();let u;if(ee(n)||J(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Pl(r,wr(e));else{const d=e.serverCache.getNode();M(d instanceof V,"serverChildren would be complete if leaf node"),h=Hd(r,d)}h=h,u=t.filter.updateFullNode(c,h,s)}else{const h=J(n);let d=Vd(r,h,e.serverCache);d==null&&e.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),d!=null?u=t.filter.updateChild(c,h,d,me(n),l,s):e.eventCache.getNode().hasChild(h)?u=t.filter.updateChild(c,h,V.EMPTY_NODE,me(n),l,s):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Pl(r,wr(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Dl(r,oe())!=null,bs(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Ld(r.getIndex()),s=w2(r);this.processor_=X2(s);const o=n.serverCache,l=n.eventCache,c=i.updateFullNode(V.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(V.EMPTY_NODE,l.getNode(),null),h=new Qn(c,o.isFullyInitialized(),i.filtersNodes()),d=new Qn(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=sa(d,h),this.eventGenerator_=new I2(this.query_)}get query(){return this.query_}}function oS(t){return t.viewCache_.serverCache.getNode()}function lS(t){return Al(t.viewCache_)}function aS(t,e){const n=wr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ee(e)&&!n.getImmediateChild(J(e)).isEmpty())?n.getChild(e):null}function dp(t){return t.eventRegistrations_.length===0}function cS(t,e){t.eventRegistrations_.push(e)}function hp(t,e,n){const r=[];if(n){M(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function fp(t,e,n,r){e.type===Wt.MERGE&&e.source.queryId!==null&&(M(wr(t.viewCache_),"We should always have a full cache before handling merges"),M(Al(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Z2(t.processor_,i,e,n,r);return J2(t.processor_,s.viewCache),M(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,r0(t,s.changes,s.viewCache.eventCache.getNode(),null)}function uS(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Re,(s,o)=>{r.push(bi(s,o))}),n.isFullyInitialized()&&r.push(G1(n.getNode())),r0(t,r,n.getNode(),e)}function r0(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return N2(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml;class i0{constructor(){this.views=new Map}}function dS(t){M(!Ml,"__referenceConstructor has already been defined"),Ml=t}function hS(){return M(Ml,"Reference.ts has not been loaded"),Ml}function fS(t){return t.views.size===0}function Gd(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return M(s!=null,"SyncTree gave us an op for an invalid query."),fp(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(fp(o,e,n,r));return s}}function s0(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=Pl(n,i?r:null),c=!1;l?c=!0:r instanceof V?(l=Hd(n,r),c=!1):(l=V.EMPTY_NODE,c=!1);const u=sa(new Qn(l,c,!1),new Qn(r,i,!1));return new sS(e,u)}return o}function pS(t,e,n,r,i,s){const o=s0(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),cS(o,n),uS(o,n)}function mS(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=Kn(t);if(i==="default")for(const[c,u]of t.views.entries())o=o.concat(hp(u,n,r)),dp(u)&&(t.views.delete(c),u.query._queryParams.loadsAllData()||s.push(u.query));else{const c=t.views.get(i);c&&(o=o.concat(hp(c,n,r)),dp(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||s.push(c.query)))}return l&&!Kn(t)&&s.push(new(hS())(e._repo,e._path)),{removed:s,events:o}}function o0(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Hn(t,e){let n=null;for(const r of t.views.values())n=n||aS(r,e);return n}function l0(t,e){if(e._queryParams.loadsAllData())return la(t);{const r=e._queryIdentifier;return t.views.get(r)}}function a0(t,e){return l0(t,e)!=null}function Kn(t){return la(t)!=null}function la(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol;function gS(t){M(!Ol,"__referenceConstructor has already been defined"),Ol=t}function yS(){return M(Ol,"Reference.ts has not been loaded"),Ol}let vS=1;class pp{constructor(e){this.listenProvider_=e,this.syncPointTree_=new fe(null),this.pendingWriteTree_=G2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function c0(t,e,n,r,i){return F2(t.pendingWriteTree_,e,n,r,i),i?Ai(t,new Sr($d(),e,n)):[]}function _S(t,e,n,r){M2(t.pendingWriteTree_,e,n,r);const i=fe.fromObject(n);return Ai(t,new Si($d(),e,i))}function Nn(t,e,n=!1){const r=O2(t.pendingWriteTree_,e);if(B2(t.pendingWriteTree_,e)){let s=new fe(null);return r.snap!=null?s=s.set(oe(),!0):Xe(r.children,o=>{s=s.set(new ue(o),!0)}),Ai(t,new Nl(r.path,s,n))}else return[]}function co(t,e,n){return Ai(t,new Sr(Wd(),e,n))}function xS(t,e,n){const r=fe.fromObject(n);return Ai(t,new Si(Wd(),e,r))}function bS(t,e){return Ai(t,new Ks(Wd(),e))}function SS(t,e,n){const r=Kd(t,n);if(r){const i=qd(r),s=i.path,o=i.queryId,l=st(s,e),c=new Ks(Ud(o),l);return Xd(t,s,c)}else return[]}function Bl(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||a0(o,e))){const c=mS(o,e,n,r);fS(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=c.removed;if(l=c.events,!i){const h=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,v)=>Kn(v));if(h&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const v=ES(f);for(let y=0;y<v.length;++y){const C=v[y],E=C.query,m=f0(t,C);t.listenProvider_.startListening(ws(E),qs(t,E),m.hashFn,m.onComplete)}}}!d&&u.length>0&&!r&&(h?t.listenProvider_.stopListening(ws(e),null):u.forEach(f=>{const v=t.queryToTagMap.get(aa(f));t.listenProvider_.stopListening(ws(f),v)}))}kS(t,u)}return l}function u0(t,e,n,r){const i=Kd(t,r);if(i!=null){const s=qd(i),o=s.path,l=s.queryId,c=st(o,e),u=new Sr(Ud(l),c,n);return Xd(t,o,u)}else return[]}function wS(t,e,n,r){const i=Kd(t,r);if(i){const s=qd(i),o=s.path,l=s.queryId,c=st(o,e),u=fe.fromObject(n),h=new Si(Ud(l),c,u);return Xd(t,o,h)}else return[]}function Ru(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,v)=>{const y=st(f,i);s=s||Hn(v,y),o=o||Kn(v)});let l=t.syncPointTree_.get(i);l?(o=o||Kn(l),s=s||Hn(l,oe())):(l=new i0,t.syncPointTree_=t.syncPointTree_.set(i,l));let c;s!=null?c=!0:(c=!1,s=V.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,y)=>{const C=Hn(y,oe());C&&(s=s.updateImmediateChild(v,C))}));const u=a0(l,e);if(!u&&!e._queryParams.loadsAllData()){const f=aa(e);M(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const v=TS();t.queryToTagMap.set(f,v),t.tagToQueryMap.set(v,f)}const h=oa(t.pendingWriteTree_,i);let d=pS(l,e,n,h,s,c);if(!u&&!o&&!r){const f=l0(l,e);d=d.concat(RS(t,e,f))}return d}function Qd(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const c=st(o,e),u=Hn(l,c);if(u)return u});return J1(i,e,s,n,!0)}function CS(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,h)=>{const d=st(u,n);r=r||Hn(h,d)});let i=t.syncPointTree_.get(n);i?r=r||Hn(i,oe()):(i=new i0,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new Qn(r,!0,!1):null,l=oa(t.pendingWriteTree_,e._path),c=s0(i,e,l,s?o.getNode():V.EMPTY_NODE,s);return lS(c)}function Ai(t,e){return d0(e,t.syncPointTree_,null,oa(t.pendingWriteTree_,oe()))}function d0(t,e,n,r){if(ee(t.path))return h0(t,e,n,r);{const i=e.get(oe());n==null&&i!=null&&(n=Hn(i,oe()));let s=[];const o=J(t.path),l=t.operationForChild(o),c=e.children.get(o);if(c&&l){const u=n?n.getImmediateChild(o):null,h=Z1(r,o);s=s.concat(d0(l,c,u,h))}return i&&(s=s.concat(Gd(i,t,r,n))),s}}function h0(t,e,n,r){const i=e.get(oe());n==null&&i!=null&&(n=Hn(i,oe()));let s=[];return e.children.inorderTraversal((o,l)=>{const c=n?n.getImmediateChild(o):null,u=Z1(r,o),h=t.operationForChild(o);h&&(s=s.concat(h0(h,l,c,u)))}),i&&(s=s.concat(Gd(i,t,r,n))),s}function f0(t,e){const n=e.query,r=qs(t,n);return{hashFn:()=>(oS(e)||V.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?SS(t,n._path,r):bS(t,n._path);{const s=bb(i,n);return Bl(t,n,null,s)}}}}function qs(t,e){const n=aa(e);return t.queryToTagMap.get(n)}function aa(t){return t._path.toString()+"$"+t._queryIdentifier}function Kd(t,e){return t.tagToQueryMap.get(e)}function qd(t){const e=t.indexOf("$");return M(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ue(t.substr(0,e))}}function Xd(t,e,n){const r=t.syncPointTree_.get(e);M(r,"Missing sync point for query tag that we're tracking");const i=oa(t.pendingWriteTree_,e);return Gd(r,n,i,null)}function ES(t){return t.fold((e,n,r)=>{if(n&&Kn(n))return[la(n)];{let i=[];return n&&(i=o0(n)),Xe(r,(s,o)=>{i=i.concat(o)}),i}})}function ws(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(yS())(t._repo,t._path):t}function kS(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=aa(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function TS(){return vS++}function RS(t,e,n){const r=e._path,i=qs(t,e),s=f0(t,n),o=t.listenProvider_.startListening(ws(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)M(!Kn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const c=l.fold((u,h,d)=>{if(!ee(u)&&h&&Kn(h))return[la(h).query];{let f=[];return h&&(f=f.concat(o0(h).map(v=>v.query))),Xe(d,(v,y)=>{f=f.concat(y)}),f}});for(let u=0;u<c.length;++u){const h=c[u];t.listenProvider_.stopListening(ws(h),qs(t,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Jd(n)}node(){return this.node_}}class Zd{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Te(this.path_,e);return new Zd(this.syncTree_,n)}node(){return Qd(this.syncTree_,this.path_)}}const jS=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},mp=function(t,e,n){if(!t||typeof t!="object")return t;if(M(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return IS(t[".sv"],e,n);if(typeof t[".sv"]=="object")return NS(t[".sv"],e);M(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},IS=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:M(!1,"Unexpected server value: "+t)}},NS=function(t,e,n){t.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&M(!1,"Unexpected increment value: "+r);const i=e.node();if(M(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},p0=function(t,e,n,r){return eh(e,new Zd(n,t),r)},m0=function(t,e,n){return eh(t,new Jd(e),n)};function eh(t,e,n){const r=t.getPriority().val(),i=mp(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=mp(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new Ue(l,Oe(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Ue(i))),o.forEachChild(Re,(l,c)=>{const u=eh(c,e.getImmediateChild(l),n);u!==c&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function nh(t,e){let n=e instanceof ue?e:new ue(e),r=t,i=J(n);for(;i!==null;){const s=_i(r.node.children,i)||{children:{},childCount:0};r=new th(i,r,s),n=me(n),i=J(n)}return r}function Pi(t){return t.node.value}function g0(t,e){t.node.value=e,ju(t)}function y0(t){return t.node.childCount>0}function AS(t){return Pi(t)===void 0&&!y0(t)}function ca(t,e){Xe(t.node.children,(n,r)=>{e(new th(n,t,r))})}function v0(t,e,n,r){n&&!r&&e(t),ca(t,i=>{v0(i,e,!0,r)}),n&&r&&e(t)}function PS(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function uo(t){return new ue(t.parent===null?t.name:uo(t.parent)+"/"+t.name)}function ju(t){t.parent!==null&&DS(t.parent,t.name,t)}function DS(t,e,n){const r=AS(n),i=tn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,ju(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,ju(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=/[\[\].#$\/\u0000-\u001F\u007F]/,MS=/[\[\].#$\u0000-\u001F\u007F]/,dc=10*1024*1024,rh=function(t){return typeof t=="string"&&t.length!==0&&!FS.test(t)},_0=function(t){return typeof t=="string"&&t.length!==0&&!MS.test(t)},OS=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),_0(t)},BS=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Id(t)||t&&typeof t=="object"&&tn(t,".sv")},x0=function(t,e,n,r){r&&e===void 0||ua(na(t,"value"),e,n)},ua=function(t,e,n){const r=n instanceof ue?new t2(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+lr(r));if(typeof e=="function")throw new Error(t+"contains a function "+lr(r)+" with contents = "+e.toString());if(Id(e))throw new Error(t+"contains "+e.toString()+" "+lr(r));if(typeof e=="string"&&e.length>dc/3&&ra(e)>dc)throw new Error(t+"contains a string greater than "+dc+" utf8 bytes "+lr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Xe(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!rh(o)))throw new Error(t+" contains an invalid key ("+o+") "+lr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);n2(r,o),ua(t,l,r),r2(r)}),i&&s)throw new Error(t+' contains ".value" child '+lr(r)+" in addition to actual children.")}},LS=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Vs(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!rh(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(e2);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&It(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},zS=function(t,e,n,r){if(r&&e===void 0)return;const i=na(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Xe(e,(o,l)=>{const c=new ue(o);if(ua(i,l,Te(n,c)),Fd(c)===".priority"&&!BS(l))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),LS(i,s)},b0=function(t,e,n,r){if(!(r&&n===void 0)&&!_0(n))throw new Error(na(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},$S=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),b0(t,e,n,r)},S0=function(t,e){if(J(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},WS=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!rh(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!OS(n))throw new Error(na(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function da(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Md(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function w0(t,e,n){da(t,n),C0(t,r=>Md(r,e))}function Dt(t,e,n){da(t,n),C0(t,r=>It(r,e)||It(e,r))}function C0(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(HS(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function HS(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();pr&&Qe("event: "+n.toString()),Ni(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="repo_interrupt",YS=25;class GS{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new US,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Il(),this.transactionQueueTree_=new th,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function QS(t,e,n){if(t.stats_=Pd(t.repoInfo_),t.forceRestClient_||Eb())t.server_=new jl(t.repoInfo_,(r,i,s,o)=>{gp(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>yp(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Be(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new hn(t.repoInfo_,e,(r,i,s,o)=>{gp(t,r,i,s,o)},r=>{yp(t,r)},r=>{KS(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Ib(t.repoInfo_,()=>new j2(t.stats_,t.server_)),t.infoData_=new C2,t.infoSyncTree_=new pp({startListening:(r,i,s,o)=>{let l=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(l=co(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),ih(t,"connected",!1),t.serverSyncTree_=new pp({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,c)=>{const u=o(l,c);Dt(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function E0(t){const n=t.infoData_.getNode(new ue(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ha(t){return jS({timestamp:E0(t)})}function gp(t,e,n,r,i){t.dataUpdateCount++;const s=new ue(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const c=wl(n,u=>Oe(u));o=wS(t.serverSyncTree_,s,c,i)}else{const c=Oe(n);o=u0(t.serverSyncTree_,s,c,i)}else if(r){const c=wl(n,u=>Oe(u));o=xS(t.serverSyncTree_,s,c)}else{const c=Oe(n);o=co(t.serverSyncTree_,s,c)}let l=s;o.length>0&&(l=Ci(t,s)),Dt(t.eventQueue_,l,o)}function yp(t,e){ih(t,"connected",e),e===!1&&ZS(t)}function KS(t,e){Xe(e,(n,r)=>{ih(t,n,r)})}function ih(t,e,n){const r=new ue("/.info/"+e),i=Oe(n);t.infoData_.updateSnapshot(r,i);const s=co(t.infoSyncTree_,r,i);Dt(t.eventQueue_,r,s)}function sh(t){return t.nextWriteId_++}function qS(t,e,n){const r=CS(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Oe(i).withIndex(e._queryParams.getIndex());Ru(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=co(t.serverSyncTree_,e._path,s);else{const l=qs(t.serverSyncTree_,e);o=u0(t.serverSyncTree_,e._path,s,l)}return Dt(t.eventQueue_,e._path,o),Bl(t.serverSyncTree_,e,n,null,!0),s},i=>(ho(t,"get for query "+Be(e)+" failed: "+i),Promise.reject(new Error(i))))}function XS(t,e,n,r,i){ho(t,"set",{path:e.toString(),value:n,priority:r});const s=ha(t),o=Oe(n,r),l=Qd(t.serverSyncTree_,e),c=m0(o,l,s),u=sh(t),h=c0(t.serverSyncTree_,e,c,u,!0);da(t.eventQueue_,h),t.server_.put(e.toString(),o.val(!0),(f,v)=>{const y=f==="ok";y||lt("set at "+e+" failed: "+f);const C=Nn(t.serverSyncTree_,u,!y);Dt(t.eventQueue_,e,C),Iu(t,i,f,v)});const d=lh(t,e);Ci(t,d),Dt(t.eventQueue_,d,[])}function JS(t,e,n,r){ho(t,"update",{path:e.toString(),value:n});let i=!0;const s=ha(t),o={};if(Xe(n,(l,c)=>{i=!1,o[l]=p0(Te(e,l),Oe(c),t.serverSyncTree_,s)}),i)Qe("update() called with empty data.  Don't do anything."),Iu(t,r,"ok",void 0);else{const l=sh(t),c=_S(t.serverSyncTree_,e,o,l);da(t.eventQueue_,c),t.server_.merge(e.toString(),n,(u,h)=>{const d=u==="ok";d||lt("update at "+e+" failed: "+u);const f=Nn(t.serverSyncTree_,l,!d),v=f.length>0?Ci(t,e):e;Dt(t.eventQueue_,v,f),Iu(t,r,u,h)}),Xe(n,u=>{const h=lh(t,Te(e,u));Ci(t,h)}),Dt(t.eventQueue_,e,[])}}function ZS(t){ho(t,"onDisconnectEvents");const e=ha(t),n=Il();Su(t.onDisconnect_,oe(),(i,s)=>{const o=p0(i,s,t.serverSyncTree_,e);Q1(n,i,o)});let r=[];Su(n,oe(),(i,s)=>{r=r.concat(co(t.serverSyncTree_,i,s));const o=lh(t,i);Ci(t,o)}),t.onDisconnect_=Il(),Dt(t.eventQueue_,oe(),r)}function ew(t,e,n){let r;J(e._path)===".info"?r=Ru(t.infoSyncTree_,e,n):r=Ru(t.serverSyncTree_,e,n),w0(t.eventQueue_,e._path,r)}function vp(t,e,n){let r;J(e._path)===".info"?r=Bl(t.infoSyncTree_,e,n):r=Bl(t.serverSyncTree_,e,n),w0(t.eventQueue_,e._path,r)}function tw(t){t.persistentConnection_&&t.persistentConnection_.interrupt(VS)}function ho(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Qe(n,...e)}function Iu(t,e,n,r){e&&Ni(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function k0(t,e,n){return Qd(t.serverSyncTree_,e,n)||V.EMPTY_NODE}function oh(t,e=t.transactionQueueTree_){if(e||fa(t,e),Pi(e)){const n=R0(t,e);M(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&nw(t,uo(e),n)}else y0(e)&&ca(e,n=>{oh(t,n)})}function nw(t,e,n){const r=n.map(u=>u.currentWriteId),i=k0(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const h=n[u];M(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const d=st(e,h.path);s=s.updateChild(d,h.currentOutputSnapshotRaw)}const l=s.val(!0),c=e;t.server_.put(c.toString(),l,u=>{ho(t,"transaction put response",{path:c.toString(),status:u});let h=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,h=h.concat(Nn(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();fa(t,nh(t.transactionQueueTree_,e)),oh(t,t.transactionQueueTree_),Dt(t.eventQueue_,e,h);for(let f=0;f<d.length;f++)Ni(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{lt("transaction at "+c.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Ci(t,e)}},o)}function Ci(t,e){const n=T0(t,e),r=uo(n),i=R0(t,n);return rw(t,i,r),r}function rw(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],u=st(n,c.path);let h=!1,d;if(M(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)h=!0,d=c.abortReason,i=i.concat(Nn(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=YS)h=!0,d="maxretry",i=i.concat(Nn(t.serverSyncTree_,c.currentWriteId,!0));else{const f=k0(t,c.path,o);c.currentInputSnapshot=f;const v=e[l].update(f.val());if(v!==void 0){ua("transaction failed: Data returned ",v,c.path);let y=Oe(v);typeof v=="object"&&v!=null&&tn(v,".priority")||(y=y.updatePriority(f.getPriority()));const E=c.currentWriteId,m=ha(t),p=m0(y,f,m);c.currentOutputSnapshotRaw=y,c.currentOutputSnapshotResolved=p,c.currentWriteId=sh(t),o.splice(o.indexOf(E),1),i=i.concat(c0(t.serverSyncTree_,c.path,p,c.currentWriteId,c.applyLocally)),i=i.concat(Nn(t.serverSyncTree_,E,!0))}else h=!0,d="nodata",i=i.concat(Nn(t.serverSyncTree_,c.currentWriteId,!0))}Dt(t.eventQueue_,n,i),i=[],h&&(e[l].status=2,function(f){setTimeout(f,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(d==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(d),!1,null))))}fa(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Ni(r[l]);oh(t,t.transactionQueueTree_)}function T0(t,e){let n,r=t.transactionQueueTree_;for(n=J(e);n!==null&&Pi(r)===void 0;)r=nh(r,n),e=me(e),n=J(e);return r}function R0(t,e){const n=[];return j0(t,e,n),n.sort((r,i)=>r.order-i.order),n}function j0(t,e,n){const r=Pi(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ca(e,i=>{j0(t,i,n)})}function fa(t,e){const n=Pi(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,g0(e,n.length>0?n:void 0)}ca(e,r=>{fa(t,r)})}function lh(t,e){const n=uo(T0(t,e)),r=nh(t.transactionQueueTree_,e);return PS(r,i=>{hc(t,i)}),hc(t,r),v0(r,i=>{hc(t,i)}),n}function hc(t,e){const n=Pi(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(M(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(M(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Nn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?g0(e,void 0):n.length=s+1,Dt(t.eventQueue_,uo(e),i);for(let o=0;o<r.length;o++)Ni(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function sw(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):lt(`Invalid query segment '${n}' in query '${t}'`)}return e}const _p=function(t,e){const n=ow(t),r=n.namespace;n.domain==="firebase.com"&&vn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&vn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||gb();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new N1(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ue(n.pathString)}},ow=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",c=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let h=t.indexOf("/");h===-1&&(h=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(i=iw(t.substring(h,d)));const f=sw(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;const v=e.slice(0,u);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),n=e.substring(y+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",lw=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=xp.charAt(n%64),n=Math.floor(n/64);M(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=xp.charAt(e[i]);return M(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Be(this.snapshot.exportVal())}}class N0{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ee(this._path)?null:Fd(this._path)}get ref(){return new nn(this._repo,this._path)}get _queryIdentifier(){const e=ip(this._queryParams),n=Nd(e);return n==="{}"?"default":n}get _queryObject(){return ip(this._queryParams)}isEqual(e){if(e=kr(e),!(e instanceof ah))return!1;const n=this._repo===e._repo,r=Md(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Zb(this._path)}}class nn extends ah{constructor(e,n){super(e,n,new zd,!1)}get parent(){const e=z1(this._path);return e===null?null:new nn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ei{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ue(e),r=ki(this.ref,e);return new Ei(this._node.getChild(n),r,Re)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Ei(i,ki(this.ref,r),Re)))}hasChild(e){const n=new ue(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function F(t,e){return t=kr(t),t._checkNotDeleted("ref"),e!==void 0?ki(t._root,e):t._root}function ki(t,e){return t=kr(t),J(t._path)===null?$S("child","path",e,!1):b0("child","path",e,!1),new nn(t._repo,Te(t._path,e))}function aw(t,e){t=kr(t),S0("push",t._path),x0("push",e,t._path,!0);const n=E0(t._repo),r=lw(n),i=ki(t,r),s=ki(t,r);let o;return e!=null?o=Y(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Y(t,e){t=kr(t),S0("set",t._path),x0("set",e,t._path,!1);const n=new io;return XS(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function jr(t,e){zS("update",e,t._path,!1);const n=new io;return JS(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function ae(t){t=kr(t);const e=new A0(()=>{}),n=new pa(e);return qS(t._repo,t,n).then(r=>new Ei(r,new nn(t._repo,t._path),t._queryParams.getIndex()))}class pa{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new I0("value",this,new Ei(e.snapshotNode,new nn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new N0(this,e,n):null}matches(e){return e instanceof pa?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class ch{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new N0(this,e,n):null}createEvent(e,n){M(e.childName!=null,"Child events should have a childName.");const r=ki(new nn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new I0(e.type,this,new Ei(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof ch?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function cw(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const c=n,u=(h,d)=>{vp(t._repo,t,l),c(h,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new A0(n,s||void 0),l=e==="value"?new pa(o):new ch(e,o);return ew(t._repo,t,l),()=>vp(t._repo,t,l)}function je(t,e,n,r){return cw(t,"value",e,n,r)}dS(nn);gS(nn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="FIREBASE_DATABASE_EMULATOR_HOST",Nu={};let dw=!1;function hw(t,e,n,r){t.repoInfo_=new N1(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function fw(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||vn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qe("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=_p(s,i),l=o.repoInfo,c,u;typeof process<"u"&&process.env&&(u=process.env[uw]),u?(c=!0,s=`http://${u}?ns=${l.namespace}`,o=_p(s,i),l=o.repoInfo):c=!o.repoInfo.secure;const h=i&&c?new ui(ui.OWNER):new Tb(t.name,t.options,e);WS("Invalid Firebase Database URL",o),ee(o.path)||vn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=mw(l,t,h,new kb(t.name,n));return new gw(d,t)}function pw(t,e){const n=Nu[e];(!n||n[t.key]!==t)&&vn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),tw(t),delete n[t.key]}function mw(t,e,n,r){let i=Nu[e.name];i||(i={},Nu[e.name]=i);let s=i[t.toURLString()];return s&&vn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new GS(t,dw,n,r),i[t.toURLString()]=s,s}class gw{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(QS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new nn(this._repo,oe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(pw(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&vn("Cannot call "+e+" on a deleted database.")}}function ne(t=Zx(),e){const n=Kx(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=L_("database");r&&yw(n,...r)}return n}function yw(t,e,n,r={}){t=kr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&vn("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&vn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ui(ui.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:z_(r.mockUserToken,t.app.options.projectId);s=new ui(o)}hw(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t){db(Jx),El(new Ws("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return fw(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ai($f,Wf,t),ai($f,Wf,"esm2017")}hn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};hn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};vw();const _w={apiKey:"AIzaSyBWHR3Nu1jaQO_Z9wZOSzMF7S11DbZK1f8",authDomain:"biblecrew-dev.firebaseapp.com",databaseURL:"https://biblecrew-dev-default-rtdb.firebaseio.com",projectId:"biblecrew-dev",storageBucket:"biblecrew-dev.firebasestorage.app",messagingSenderId:"983375235150",appId:"1:983375235150:web:1d743658a6fa7abe16db1f",measurementId:"G-97Z8886EPP"},xw=p1(_w),se=ne(xw),uh=[{crewKey:"",label:"(40)"},{crewKey:"",label:"(30)"},{crewKey:"(A)",label:"A(15)"},{crewKey:"(B)",label:"B(15)"},{crewKey:"",label:"(9)"},{crewKey:"",label:"(9)"},{crewKey:"",label:"(5)"}],We=uh.map(t=>t.crewKey);function qt(t){const e=uh.find(n=>n.crewKey===t);return e?e.label:t}function bw(t){const e=F(se,"classNotices");return je(e,r=>t(r.val()||{}))}async function Sw(t){if(!t)return null;const e=ne();return(await ae(F(e,`classNotices/${t}`))).val()||null}async function ww(t,e){if(!t||!e)return 0;const n=ne(),i=(await ae(F(n,`users/${t}/seenNotices/${e}`))).val();return typeof i=="number"?i:parseInt(i||"0",10)||0}async function Cw(t,e,n){if(!t||!e)return!1;const r=typeof n=="number"?n:parseInt(n||"0",10)||0,i=ne();return await Y(F(i,`users/${t}/seenNotices/${e}`),r),!0}async function Ew(t,e){if(!t)return!1;const n=ne(),r=!!(e!=null&&e.enabled),i=((e==null?void 0:e.content)||"").toString(),s=((e==null?void 0:e.title)||"").toString(),o=Date.now();if(t==="all"){const c=(await ae(F(n,"classNotices/all"))).val()||{},u=(parseInt(c.version||"0",10)||0)+1,h={enabled:r,title:s,content:i,version:u,updatedAt:o},d={};d["classNotices/all"]=h;for(const f of We){const y=(await ae(F(n,`classNotices/${f}`))).val()||{},C=(parseInt(y.version||"0",10)||0)+1;d[`classNotices/${f}`]={enabled:r,title:s,content:i,version:C,updatedAt:o}}return await jr(F(n),d),h}else{const c=(await ae(F(n,`classNotices/${t}`))).val()||{},u=(parseInt(c.version||"0",10)||0)+1,h={enabled:r,title:s,content:i,version:u,updatedAt:o};return await Y(F(n,`classNotices/${t}`),h),h}}function P0(t,e,n){const r=F(se,`crews/${t}/users/${e}/checks`);return je(r,s=>n(s.val()||{}))}function kw(t,e){if(!t)return()=>{};const n=F(se,`crews/${t}`);return je(n,i=>e(i.val()||{}))}function Tw(t,e,n,r){const i=F(se,`crews/${t}/users/${e}/checks/${n}`);return Y(i,r)}function dh(t){const e=F(se,"users");return je(e,r=>t(r.val()||{}))}function Rw(t){const e=F(se,`users/${t}/crew`),n=F(se,`users/${t}/hiddenUnassigned`),r=F(se,`users/${t}/status`);return Promise.all([Y(e,null),Y(n,!1),ae(r).then(i=>i.val()==="inactive"?!0:Y(r,"active"))])}async function jw(t){const e=ne(),n=F(e,`users/${t}`),s={...(await ae(n)).val()||{},crew:null,hiddenUnassigned:!1,status:"inactive",deactivatedAt:Date.now()};return await Y(n,s),{uid:t,...s}}async function Iw(t){const e=ne(),n=F(e,`users/${t}`),s={...(await ae(n)).val()||{},hiddenUnassigned:!1,status:"active",restoredAt:Date.now()};return await Y(n,s),{uid:t,...s}}async function Nw(t){const e=ne(),n=[];return n.push(Y(F(e,`users/${t}`),null)),We.forEach(r=>{n.push(Y(F(e,`crews/${r}/users/${t}`),null))}),n.push(Y(F(e,`userBookmarks/${t}`),null)),await Promise.all(n),!0}function Aw(t,e){const n=F(se,`comments/${t}`),r=aw(n);return Y(r,e)}function Pw(t,e,n){if(!t||!e)return Promise.resolve(!1);const r=F(se,`comments/${t}/${e}`);return jr(r,n||{})}function Dw(t,e){if(!t||!e)return Promise.resolve(!1);const n=F(se,`comments/${t}/${e}`);return Y(n,null)}function Fw(t){if(!t)return Promise.resolve(!1);const e=F(se,`comments/${t}`);return Y(e,null)}function Mw(t,e){const n=F(se,`comments/${t}`);return je(n,i=>{const s=i.val()||{},o=Object.entries(s).map(([l,c])=>({id:l,...c}));o.sort((l,c)=>(c.timestamp||0)-(l.timestamp||0)),e(o.slice(0,300))})}function Ow(t){const e=F(se,"comments");return je(e,r=>{const i=r.val()||{},s=[];Object.entries(i).forEach(([o,l])=>{Object.entries(l||{}).forEach(([c,u])=>{s.push({id:`${o}_${c}`,crew:o,...u})})}),s.sort((o,l)=>(l.timestamp||0)-(o.timestamp||0)),t(s.slice(0,500))})}async function Bw(t=3){const e=Math.max(1,Number(t)||3),n=Date.now()-e*24*60*60*1e3,r=ne(),s=(await ae(F(r,"comments"))).val()||{},o={};return Object.entries(s).forEach(([l,c])=>{Object.entries(c||{}).forEach(([u,h])=>{const d=h&&h.timestamp||0;d&&d<n&&(o[`comments/${l}/${u}`]=null)})}),Object.keys(o).length===0?{deleted:0}:(await jr(F(r),o),{deleted:Object.keys(o).length})}function Lw(){const t=F(se,"comments");return Y(t,null)}function D0(t){const e=F(se,"crews");return je(e,r=>t(r.val()||{}))}function zw(t,e){if(!t)return()=>{};const n=F(se,`hallOfFame/${t}`);return je(n,i=>e(i.val()||{}))}function F0(t,e){if(!t)return()=>{};const n=F(se,`hallOfFame/monthly/${t}`);return je(n,i=>e(i.val()||{}))}function $w(t,e){return F0(t,e)}async function M0(t,e,n){const r=ne(),i=String(e).padStart(2,"0"),s=`${t}-${i}`,o={gold:[],silver:[],bronze:[]},l={gold:{},silver:{},bronze:{}},c=[];for(const u of n||[]){if(!u.medal||!u.uid)continue;const h=u.medal,d=u.name||"",f=u.crew||"";o[h].push({name:d,crew:f}),l[h][u.uid]={name:d,crew:f,chapters:u.chapters||0};const v=F(r,`users/${u.uid}/earnedMedals/${s}`),y=F(r,`users/${u.uid}/medals/${h}`),E=(await ae(v)).val();if(E!==h)if(E&&E!==h){const m=F(r,`users/${u.uid}/medals/${E}`);c.push((async()=>{const p=await ae(m),g=await ae(y);await Y(m,Math.max(0,(p.val()||0)-1)),await Y(y,(g.val()||0)+1),await Y(v,h)})())}else c.push((async()=>{const m=await ae(y);await Y(y,(m.val()||0)+1),await Y(v,h)})())}for(const u of["gold","silver","bronze"])c.push(Y(F(r,`hallOfFame/${t}/monthlyResults/${i}/${u}`),o[u]));return c.push(Y(F(r,`hallOfFame/monthly/${t}/${e}`),l)),await Promise.all(c),!0}async function Ww(t,e,n,r){if(!t||!e||!n)return!1;const i=ne(),s=F(i,`hallOfFame/monthly/${t}/${e}`),l=(await ae(s)).val()||{gold:{},silver:{},bronze:{}},c=["gold","silver","bronze"];let u=null;if(c.forEach(d=>{const f=l[d]||{};f[n]&&(u=d,delete f[n],l[d]=f)}),r&&r!=="none"){l[r]||(l[r]={});const f=(await ae(F(i,`users/${n}`))).val()||{};l[r][n]={name:f.name||"",crew:f.crew||"",chapters:0}}const h=[];if(u){const d=F(i,`users/${n}/medals/${u}`);h.push(ae(d).then(f=>{const v=f.val()||0,y=v>0?v-1:0;return Y(d,y)}))}if(r&&r!=="none"){const d=F(i,`users/${n}/medals/${r}`);h.push(ae(d).then(f=>{const v=f.val()||0;return Y(d,v+1)}))}return h.push(Y(s,l)),await Promise.all(h),!0}function O0(){const t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0");return`${e}-${n}`}function fo(){const t=new Date;let e=t.getFullYear(),n=t.getMonth()+2;n>12&&(e+=1,n=1);const r=String(n).padStart(2,"0");return`${e}-${r}`}function Uw(t,e,n){const r=F(se,`approvals/${e}/${t}`);return je(r,s=>{n(s.val()||{})})}function hh(t){return(t||"").toString().trim().replace(/^[,\s]+/,"").replace(/\s+/g,"")}async function Hw(t,e,n){const i=(Array.isArray(n)?n.join(" "):n||"").split(/\s+/).map(o=>hh(o)).filter(Boolean);if(i.length===0)return[];const s={};return i.forEach(o=>{s[`approvals/${e}/${t}/${o}`]=!0}),await jr(F(se),s),i}async function Vw(t,e,n){if(!t||!e||!n)return null;const i=(await ae(F(se,`nextMonthApplications/${t}/${e}/${n}`))).val(),s=hh((i==null?void 0:i.name)??n);if(!s)return null;const o={};return o[`approvals/${t}/${e}/${s}`]=!0,o[`nextMonthApplications/${t}/${e}/${n}`]=null,await jr(F(se),o),s}async function Yw(t,e){if(!t||!e)return{approved:[],skipped:[]};const r=(await ae(F(se,`nextMonthApplications/${t}/${e}`))).val()||{},i={},s=[],o=[];return Object.entries(r).forEach(([l,c])=>{const u=hh((c==null?void 0:c.name)??l);if(!u){o.push(l);return}i[`approvals/${t}/${e}/${u}`]=!0,i[`nextMonthApplications/${t}/${e}/${l}`]=null,s.push(u)}),Object.keys(i).length===0?{approved:[],skipped:o}:(await jr(F(se),i),{approved:s,skipped:o})}function Gw(t,e){const n=F(se,`approvals/${e}/${t}`);return Y(n,null)}function Qw(t,e,n,r){const i=F(se,`approvals/${e}/${t}/${n}`);return je(i,o=>{r(!!o.val())})}async function Kw(t,e){const n=ne(),r=t,i=F(n,`users/${r}`);let o=(await ae(i)).val();const l=e!=null?String(e):"",c=l.trim();if(!o){if(!c){const h=new Error("     .");throw h.code="EMPTY_PASSWORD",h}const u={name:t,password:c,crew:null,status:"active",hiddenUnassigned:!1,mustChangePassword:!1,createdAt:Date.now()};return await Y(i,u),{uid:r,...u}}if(o.password){if(o.password!==l&&o.password!==c){const u=new Error("  .");throw u.code="WRONG_PASSWORD",u}}else{if(!c){const u=new Error("  .");throw u.code="EMPTY_PASSWORD",u}o.password=c,o.mustChangePassword=!1,await Y(i,o)}return{uid:r,...o}}async function qw(t){const e=ne(),n=F(e,`users/${t}`),s={...(await ae(n)).val()||{},password:"0000",mustChangePassword:!0};return await Y(n,s),{uid:t,...s}}async function Xw(t,e){const n=ne(),r=F(n,`users/${t}`),o={...(await ae(r)).val()||{},password:e,mustChangePassword:!1};return await Y(r,o),{uid:t,...o}}const Jw="8395";async function Zw(t){if(t===Jw)return{ok:!0,usedMaster:!0};const e=ne(),n=F(e,"/admin/password"),s=(await ae(n)).val()||"1234";if(t===s)return{ok:!0,usedMaster:!1};const o=new Error("   .");throw o.code="WRONG_ADMIN_PASSWORD",o}async function eC(t){const e=ne(),n=F(e,"/admin/password");return await Y(n,t),!0}function tC(t,e,n){if(!t||!e)return Promise.resolve();const r=ne(),i=fo(),s={name:n||"",crew:t,ymKey:i,createdAt:Date.now()},o=F(r,`/nextMonthApplications/${i}`),l=F(r,`/nextMonthApplications/${i}/${t}/${e}`),c=F(r,`/nextMonthApplicationsByUser/${i}/${e}`),u=F(r,`/applicationHistory/${i}/${e}`);return ae(o).then(h=>{const d=h.val()||{},f=[];return Object.keys(d).forEach(v=>{const y=d[v]||{};if(y&&y[e]){const C=F(r,`/nextMonthApplications/${i}/${v}/${e}`);f.push(Y(C,null))}}),f.push(Y(l,s)),f.push(Y(c,s)),f.push(Y(u,s)),Promise.all(f)})}function nC(t,e){if(!t)return e(null),()=>{};const n=ne(),r=fo(),i=F(n,`/nextMonthApplicationsByUser/${r}/${t}`);return je(i,s=>{e(s.val()||null)})}function rC(t){if(!t)return Promise.resolve();const e=ne(),n=fo(),r=F(e,`/nextMonthApplications/${n}`),i=F(e,`/nextMonthApplicationsByUser/${n}/${t}`);return ae(r).then(s=>{const o=s.val()||{},l=[];return l.push(Y(i,null)),Object.keys(o).forEach(c=>{const u=o[c]||{};if(u&&u[t]){const h=F(e,`/nextMonthApplications/${n}/${c}/${t}`);l.push(Y(h,null))}}),Promise.all(l)})}function iC(t){const e=ne(),n=fo(),r=F(e,`/nextMonthApplications/${n}`);return je(r,i=>{t(i.val()||{})})}async function sC(t=3){const e=ne(),n=F(e,"/nextMonthApplications"),i=(await ae(n)).val()||{},s=Object.keys(i).filter(d=>/^\d{4}-\d{2}$/.test(d)).sort();if(s.length===0)return[];const o=Math.max(1,t||1),l=Math.max(0,s.length-o),c=s.slice(0,l),u=s.slice(l),h=[];return c.forEach(d=>{const f=F(e,`/nextMonthApplications/${d}`),v=F(e,`/nextMonthApplicationsByUser/${d}`);h.push(Y(f,null)),h.push(Y(v,null))}),h.length>0&&await Promise.all(h),u.sort().reverse()}async function bp(t){if(!t)return{};const e=ne(),n=F(e,`/applicationHistory/${t}`);return(await ae(n)).val()||{}}function B0(t){const e=ne(),n=F(e,"/notice");return je(n,r=>t(r.val()||null))}function oC(t,e){const n=ne(),r=F(n,"/notice"),i={title:t||"",content:e||"",timestamp:Date.now()};return Y(r,i)}function lC(t,e){if(!t)return e({}),()=>{};const n=ne(),r=F(n,`/users/${t}/medals`);return je(r,i=>{e(i.val()||{})})}function aC(t,e){const n=ne();return Y(F(n,`/settings/approval/${t}`),e)}function cC(t){const e=ne(),n=F(e,"/settings/approval");return je(n,r=>t(r.val()||{}))}function fh(t){const e=ne(),n=F(e,"/settings");return je(n,r=>t(r.val()||{}))}function uC(t){const e=ne();return Y(F(e,"/settings/churchName"),t)}function dC(t){const e=ne();return Y(F(e,"/settings/appDescription"),t)}function hC(t){const e=ne();return Y(F(e,"/settings/bulletinUrl"),t||"")}function fC(t,e){if(!t)return Promise.resolve();const n=F(se,`userBookmarks/${t}`);return Y(n,{bookId:e.bookId,chapter:e.chapter,updatedAt:Date.now()})}function pC(t,e){if(!t)return e(null),()=>{};const n=F(se,`userBookmarks/${t}`),r=je(n,i=>{e(i.val()||null)},i=>e(null));return()=>r()}async function mC(t,e,n){const r=ne(),i=F(r,`monthlyReports/${t}-${String(e).padStart(2,"0")}`);return await Y(i,n),!0}async function Sp(){const t=ne(),e=F(t,"monthlyReports"),r=(await ae(e)).val()||{};return Object.keys(r).sort().reverse()}async function gC(t){const e=ne(),n=F(e,`monthlyReports/${t}`);return(await ae(n)).val()||{}}async function yC(t){const e=ne(),n=F(e,`hallOfFame/${t}/monthlyResults`);return(await ae(n)).val()||{}}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xs(){return Xs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xs.apply(this,arguments)}var An;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(An||(An={}));const wp="popstate";function vC(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:l="",hash:c=""}=Ir(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Au("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=i.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof s=="string"?s:L0(s))}function r(i,s){ma(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return xC(e,n,r,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ma(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _C(){return Math.random().toString(36).substr(2,8)}function Cp(t,e){return{usr:t.state,key:t.key,idx:e}}function Au(t,e,n,r){return n===void 0&&(n=null),Xs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ir(e):e,{state:n,key:e&&e.key||r||_C()})}function L0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ir(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function xC(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=An.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(Xs({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function d(){l=An.Pop;let E=h(),m=E==null?null:E-u;u=E,c&&c({action:l,location:C.location,delta:m})}function f(E,m){l=An.Push;let p=Au(C.location,E,m);n&&n(p,E),u=h()+1;let g=Cp(p,u),x=C.createHref(p);try{o.pushState(g,"",x)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(x)}s&&c&&c({action:l,location:C.location,delta:1})}function v(E,m){l=An.Replace;let p=Au(C.location,E,m);n&&n(p,E),u=h();let g=Cp(p,u),x=C.createHref(p);o.replaceState(g,"",x),s&&c&&c({action:l,location:C.location,delta:0})}function y(E){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof E=="string"?E:L0(E);return p=p.replace(/ $/,"%20"),ze(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let C={get action(){return l},get location(){return t(i,o)},listen(E){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(wp,d),c=E,()=>{i.removeEventListener(wp,d),c=null}},createHref(E){return e(i,E)},createURL:y,encodeLocation(E){let m=y(E);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:v,go(E){return o.go(E)}};return C}var Ep;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ep||(Ep={}));function bC(t,e,n){return n===void 0&&(n="/"),SC(t,e,n,!1)}function SC(t,e,n,r){let i=typeof e=="string"?Ir(e):e,s=W0(i.pathname||"/",n);if(s==null)return null;let o=z0(t);wC(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=DC(s);l=AC(o[c],u,r)}return l}function z0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(ze(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=mr([r,c.relativePath]),h=n.concat(c);s.children&&s.children.length>0&&(ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),z0(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:IC(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of $0(s.path))i(s,o,c)}),e}function $0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=$0(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function wC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:NC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const CC=/^:[\w-]+$/,EC=3,kC=2,TC=1,RC=10,jC=-2,kp=t=>t==="*";function IC(t,e){let n=t.split("/"),r=n.length;return n.some(kp)&&(r+=jC),e&&(r+=kC),n.filter(i=>!kp(i)).reduce((i,s)=>i+(CC.test(s)?EC:s===""?TC:RC),r)}function NC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function AC(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=Tp({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),f=c.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Tp({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:mr([s,d.pathname]),pathnameBase:$C(mr([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=mr([s,d.pathnameBase]))}return o}function Tp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=PC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,h,d)=>{let{paramName:f,isOptional:v}=h;if(f==="*"){let C=l[d]||"";o=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const y=l[d];return v&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function PC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ma(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function DC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ma(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function W0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const FC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MC=t=>FC.test(t);function OC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ir(t):t,s;if(n)if(MC(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),ma(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=Rp(n.substring(1),"/"):s=Rp(n,e)}else s=e;return{pathname:s,search:WC(r),hash:UC(i)}}function Rp(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function fc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function LC(t,e){let n=BC(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function zC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ir(t):(i=Xs({},t),ze(!i.pathname||!i.pathname.includes("?"),fc("?","pathname","search",i)),ze(!i.pathname||!i.pathname.includes("#"),fc("#","pathname","hash",i)),ze(!i.search||!i.search.includes("#"),fc("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}l=d>=0?e[d]:"/"}let c=OC(i,l),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const mr=t=>t.join("/").replace(/\/\/+/g,"/"),$C=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function HC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const U0=["post","put","patch","delete"];new Set(U0);const VC=["get",...U0];new Set(VC);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Js(){return Js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Js.apply(this,arguments)}const ph=_.createContext(null),YC=_.createContext(null),ga=_.createContext(null),ya=_.createContext(null),Di=_.createContext({outlet:null,matches:[],isDataRoute:!1}),H0=_.createContext(null);function va(){return _.useContext(ya)!=null}function mh(){return va()||ze(!1),_.useContext(ya).location}function V0(t){_.useContext(ga).static||_.useLayoutEffect(t)}function xn(){let{isDataRoute:t}=_.useContext(Di);return t?sE():GC()}function GC(){va()||ze(!1);let t=_.useContext(ph),{basename:e,future:n,navigator:r}=_.useContext(ga),{matches:i}=_.useContext(Di),{pathname:s}=mh(),o=JSON.stringify(LC(i,n.v7_relativeSplatPath)),l=_.useRef(!1);return V0(()=>{l.current=!0}),_.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let d=zC(u,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:mr([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,s,t])}function QC(t,e){return KC(t,e)}function KC(t,e,n,r){va()||ze(!1);let{navigator:i}=_.useContext(ga),{matches:s}=_.useContext(Di),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=mh(),h;if(e){var d;let E=typeof e=="string"?Ir(e):e;c==="/"||(d=E.pathname)!=null&&d.startsWith(c)||ze(!1),h=E}else h=u;let f=h.pathname||"/",v=f;if(c!=="/"){let E=c.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let y=bC(t,{pathname:v}),C=eE(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:mr([c,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:mr([c,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&C?_.createElement(ya.Provider,{value:{location:Js({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:An.Pop}},C):C}function qC(){let t=iE(),e=HC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,s)}const XC=_.createElement(qC,null);class JC extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(Di.Provider,{value:this.props.routeContext},_.createElement(H0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZC(t){let{routeContext:e,match:n,children:r}=t,i=_.useContext(ph);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(Di.Provider,{value:e},r)}function eE(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let h=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);h>=0||ze(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:f,errors:v}=n,y=d.route.loader&&f[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let v,y=!1,C=null,E=null;n&&(v=l&&d.route.id?l[d.route.id]:void 0,C=d.route.errorElement||XC,c&&(u<0&&f===0?(oE("route-fallback",!1),y=!0,E=null):u===f&&(y=!0,E=d.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),p=()=>{let g;return v?g=C:y?g=E:d.route.Component?g=_.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=h,_.createElement(ZC,{match:d,routeContext:{outlet:h,matches:m,isDataRoute:n!=null},children:g})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?_.createElement(JC,{location:n.location,revalidation:n.revalidation,component:C,error:v,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var Y0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Y0||{}),Ll=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ll||{});function tE(t){let e=_.useContext(ph);return e||ze(!1),e}function nE(t){let e=_.useContext(YC);return e||ze(!1),e}function rE(t){let e=_.useContext(Di);return e||ze(!1),e}function G0(t){let e=rE(),n=e.matches[e.matches.length-1];return n.route.id||ze(!1),n.route.id}function iE(){var t;let e=_.useContext(H0),n=nE(Ll.UseRouteError),r=G0(Ll.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function sE(){let{router:t}=tE(Y0.UseNavigateStable),e=G0(Ll.UseNavigateStable),n=_.useRef(!1);return V0(()=>{n.current=!0}),_.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Js({fromRouteId:e},s)))},[t,e])}const jp={};function oE(t,e,n){!e&&!jp[t]&&(jp[t]=!0)}function lE(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Pe(t){ze(!1)}function aE(t){let{basename:e="/",children:n=null,location:r,navigationType:i=An.Pop,navigator:s,static:o=!1,future:l}=t;va()&&ze(!1);let c=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:s,static:o,future:Js({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=Ir(r));let{pathname:h="/",search:d="",hash:f="",state:v=null,key:y="default"}=r,C=_.useMemo(()=>{let E=W0(h,c);return E==null?null:{location:{pathname:E,search:d,hash:f,state:v,key:y},navigationType:i}},[c,h,d,f,v,y,i]);return C==null?null:_.createElement(ga.Provider,{value:u},_.createElement(ya.Provider,{children:n,value:C}))}function cE(t){let{children:e,location:n}=t;return QC(Pu(e),n)}new Promise(()=>{});function Pu(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let s=[...e,i];if(r.type===_.Fragment){n.push.apply(n,Pu(r.props.children,s));return}r.type!==Pe&&ze(!1),!r.props.index||!r.props.children||ze(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Pu(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const uE="6";try{window.__reactRouterVersion=uE}catch{}const dE="startTransition",Ip=vy[dE];function hE(t){let{basename:e,children:n,future:r,window:i}=t,s=_.useRef();s.current==null&&(s.current=vC({window:i,v5Compat:!0}));let o=s.current,[l,c]=_.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=_.useCallback(d=>{u&&Ip?Ip(()=>c(d)):c(d)},[c,u]);return _.useLayoutEffect(()=>o.listen(h),[o,h]),_.useEffect(()=>lE(r),[r]),_.createElement(aE,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var Np;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Np||(Np={}));var Ap;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ap||(Ap={}));function fE({user:t}){const e=xn(),[n,r]=_.useState([]),[i,s]=_.useState(!1),[o,l]=_.useState(null);_.useEffect(()=>{const A=Ow(r),I=B0(l);return()=>{typeof A=="function"&&A(),typeof I=="function"&&I()}},[]);const c=(n||[]).slice(0,20),u=new Date;u.setHours(0,0,0,0);const h=u.getTime(),d=(n||[]).filter(A=>(A.timestamp||0)>=h),f=i?d:c,v=(t==null?void 0:t.name)||"",[y,C]=_.useState(!1),[E,m]=_.useState(""),[p,g]=_.useState(!1),[x,w]=_.useState(null);_.useEffect(()=>{if(!t||!t.uid)return;const A=nC(t.uid,I=>{w(I),I&&I.crew?(m(I.crew),g(!0)):(m(""),g(!1))});return()=>{typeof A=="function"&&A()}},[t]);function k(){if(!t||!t.uid){alert("   .");return}if(!E){alert("   .");return}if(x&&x.crew){if(x.crew!==E){alert("   .     .");return}if(x.crew===E){alert(`${E}   .`);return}}tC(E,t.uid,t.name||"").then(()=>{g(!0),alert(`${E}  .`)})}function S(){if(!t||!t.uid){alert("    .");return}if(!x&&!p){alert("    .");return}window.confirm("    ?")&&rC(t.uid).then(()=>{w(null),m(""),g(!1),alert("    .")})}function N(A){if(!A)return"";const I=new Date(A),H=I.getFullYear(),Q=String(I.getMonth()+1).padStart(2,"0"),q=String(I.getDate()).padStart(2,"0"),re=String(I.getHours()).padStart(2,"0"),de=String(I.getMinutes()).padStart(2,"0");return`${H}-${Q}-${q} ${re}:${de}`}return a.jsxs("div",{style:{padding:25,minHeight:"100vh",background:"#E5F3E6",color:"#034732"},children:[a.jsx("h1",{style:{fontSize:32,marginBottom:10,textAlign:"center"},children:" "}),a.jsxs("p",{style:{textAlign:"center",marginBottom:10},children:[", ",v,""]}),!t&&a.jsxs("p",{style:{textAlign:"center",marginBottom:20},children:[" ",a.jsx("button",{onClick:()=>e("/login"),style:{textDecoration:"underline",cursor:"pointer",background:"none",border:"none",padding:0,color:"#0B8457"},children:""}),"  ."]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:30},children:[a.jsx("button",{style:kt("#1B9C5A"),onClick:()=>e("/"),children:" (40)"}),a.jsx("button",{style:kt("#1B9C5A"),onClick:()=>e("/"),children:" (30)"}),a.jsx("button",{style:kt("#136F63"),onClick:()=>e("/A"),children:" A(15)"}),a.jsx("button",{style:kt("#136F63"),onClick:()=>e("/B"),children:" B(15)"}),a.jsx("button",{style:kt("#136F63"),onClick:()=>e("/"),children:" (9)"}),a.jsx("button",{style:kt("#FF9F1C"),onClick:()=>e("/"),children:"  "}),a.jsx("button",{style:kt("#0B4F6C"),onClick:()=>e("/"),children:" (5)"}),a.jsx("button",{style:kt("#0B4F6C"),onClick:()=>e("/"),children:" (9)"}),a.jsx("button",{style:kt("#0F3455"),onClick:()=>e("/records"),children:"  "}),a.jsx("button",{style:kt("#0F3455"),onClick:()=>e("/admin-login"),children:"  "})]}),a.jsx("button",{style:{...kt("#0B4F6C"),marginBottom:8},onClick:()=>C(A=>!A),children:"   "}),y&&a.jsxs("div",{style:{marginTop:4,marginBottom:24,padding:16,borderRadius:12,background:"#FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.04)"},children:[a.jsx("h3",{style:{marginTop:0,marginBottom:8},children:"   "}),a.jsx("p",{style:{fontSize:12,color:"#555",marginBottom:12},children:"     (   ,     .)"}),a.jsx("div",{style:{display:"flex",gap:8,marginBottom:12},children:a.jsxs("select",{value:E,onChange:A=>m(A.target.value),style:{flex:1,padding:8,borderRadius:8,border:"1px solid #ccc"},children:[a.jsx("option",{value:"",children:" "}),a.jsx("option",{value:"",children:"(40)"}),a.jsx("option",{value:"",children:"(30)"}),a.jsx("option",{value:"(A)",children:"A(15)"}),a.jsx("option",{value:"(B)",children:"B(15)"}),a.jsx("option",{value:"",children:"(9)"}),a.jsx("option",{value:"",children:"(9)"}),a.jsx("option",{value:"",children:"(5)"})]})}),a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:8},children:[a.jsx("button",{type:"button",onClick:k,style:{flex:1,padding:10,borderRadius:8,border:"none",background:"#0B8457",color:"#fff",fontWeight:"bold",cursor:"pointer"},children:""}),a.jsx("button",{type:"button",onClick:S,style:{flex:1,padding:10,borderRadius:8,border:"1px solid #ccc",background:"#F5F5F5",color:"#333",fontWeight:"bold",cursor:"pointer"},children:""})]}),p&&x&&a.jsx("p",{style:{fontSize:12,color:"#0B8457",marginTop:4},children:" ."})]}),a.jsxs("div",{style:{marginTop:10,padding:16,borderRadius:12,background:"#FFFFFF",boxShadow:"0 4px 10px rgba(0,0,0,0.06)"},children:[o&&a.jsxs("div",{style:{marginBottom:12,padding:12,borderRadius:8,background:"#FFF3CD",border:"1px solid #FFEEBA"},children:[a.jsxs("div",{style:{fontWeight:"bold",marginBottom:4},children:["<>"," ",o.title||""]}),a.jsx("div",{style:{fontSize:14,whiteSpace:"pre-line"},children:o.content||""})]}),a.jsx("button",{style:{...kt("#1E7F74"),marginBottom:12,padding:14,fontSize:16},onClick:()=>e("/crew-members"),children:"   "}),a.jsx("h3",{style:{marginTop:0,marginBottom:10},children:"  "}),f.length===0&&a.jsx("p",{style:{color:"#666"},children:"   .       ."}),a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:8},children:[a.jsx("button",{onClick:()=>s(A=>!A),style:{padding:"8px 12px",borderRadius:10,border:"1px solid #0B8457",background:i?"#0B8457":"#fff",color:i?"#fff":"#0B8457",cursor:"pointer",fontWeight:700},children:i?"":" ()"}),i&&a.jsx("div",{style:{fontSize:12,color:"#555",alignSelf:"center"},children:"    ."})]}),a.jsx("ul",{style:{paddingLeft:18},children:f.map(A=>a.jsxs("li",{style:{marginBottom:4},children:[a.jsxs("span",{style:{fontWeight:"bold"},children:["[",A.crew,"] ",A.user]}),": ",A.text,A.timestamp&&a.jsxs("span",{style:{fontSize:12,color:"#555",marginLeft:4},children:["(",N(A.timestamp),")"]})]},A.id))})]})]})}function kt(t){return{width:"100%",height:63,padding:"0 6px",borderRadius:12,border:"none",fontSize:17,fontWeight:"bold",background:t,color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",wordBreak:"keep-all",lineHeight:1.2}}function en(t,e){const n=[],r=new Date(t,e,0).getDate();for(let i=1;i<=r;i++){const s=`${t}-${String(e).padStart(2,"0")}-${String(i).padStart(2,"0")}`;n.push(s)}return n}function pE(){const[t,e]=_.useState(null),[n,r]=_.useState(null),[i,s]=_.useState({}),[o,l]=_.useState([]),[c,u]=_.useState(null),[h,d]=_.useState(null),[f,v]=_.useState([]),y=_.useRef(new Set);_.useRef(new Set),_.useEffect(()=>{const m=new Date().getFullYear(),p=F(se,"settings/currentHallOfFameYear"),g=je(p,async x=>{const w=x.val();if(typeof w!="number"){await Y(p,m);return}if(w!==m){await Y(p,m);return}u(w)});return()=>{typeof g=="function"&&g()}},[]),_.useEffect(()=>{const m=F(se,"hallOfFame"),p=F(se,"hallOfFame/monthly"),g=[],x=(S,N)=>{const A=new Date().getFullYear(),I=[...S||[],...N||[],A].filter(H=>Number.isFinite(H));return Array.from(new Set(I)).sort((H,Q)=>Q-H)};let w=[],k=[];return g.push(je(m,S=>{const N=S.val()||{};w=Object.keys(N).map(A=>parseInt(A,10)).filter(A=>Number.isFinite(A)),v(x(w,k))})),g.push(je(p,S=>{const N=S.val()||{};k=Object.keys(N).map(A=>parseInt(A,10)).filter(A=>Number.isFinite(A)),v(x(w,k))})),()=>g.forEach(S=>typeof S=="function"?S():null)},[]),_.useEffect(()=>{c&&d(m=>m??c)},[c]),_.useEffect(()=>{if(!h)return;e(null),r(null);const m=zw(h,g=>{e(g||null)}),p=F0(h,g=>{r(g||null)});return()=>{typeof m=="function"&&m(),typeof p=="function"&&p()}},[h]),_.useEffect(()=>{if(!c||!h)return;if(c!==h){s({});return}const m=new Date,p=m.getFullYear(),g=m.getMonth()+1,x=en(p,g),w=`${p}-${String(g).padStart(2,"0")}-${String(m.getDate()).padStart(2,"0")}`,k=x.filter(I=>I<=w),S={gold:[""],silver:[""],bronze:We.filter(I=>String(I).includes("")||String(I).includes(""))},N=F(se,"crews"),A=je(N,I=>{const H=I.val()||{},Q={gold:{challengers:0,success:0,fail:0},silver:{challengers:0,success:0,fail:0},bronze:{challengers:0,success:0,fail:0}};if(["gold","silver","bronze"].forEach(q=>{(S[q]||[]).forEach(de=>{var $;const O=(($=H==null?void 0:H[de])==null?void 0:$.users)||{};Object.entries(O).forEach(([j,P])=>{P&&P.name,Q[q].challengers+=1;const B=P&&P.checks||{};k.every(G=>!!B[G])?Q[q].success+=1:Q[q].fail+=1})})}),s(Q),m.getDate()===1){const q=new Date(p,g-2,1),re=q.getFullYear(),de=q.getMonth()+1,O=String(de).padStart(2,"0"),$=`${re}-${O}`;if(!y.current.has($)){y.current.add($);const j=en(re,de),P={gold:[],silver:[],bronze:[]};["gold","silver","bronze"].forEach(B=>{(S[B]||[]).forEach(G=>{var $e;const be=(($e=H==null?void 0:H[G])==null?void 0:$e.users)||{};Object.entries(be).forEach(([Ne,Je])=>{const Ft=Je&&Je.name||Ne,Fi=Je&&Je.checks||{};j.every(Mi=>!!Fi[Mi])&&P[B].push({name:Ft,crew:G})})})}),(async()=>{const B=[];["gold","silver","bronze"].forEach(W=>{(P[W]||[]).forEach(G=>{B.push({uid:G.name,name:G.name,crew:G.crew,medal:W})})}),B.length>0&&await M0(re,de,B)})().catch(()=>{})}}});return()=>{typeof A=="function"&&A()}},[c,h]),_.useEffect(()=>{if(!h){l([]);return}const m=t&&t.monthlyResults?t.monthlyResults:null,p={};m&&typeof m=="object"?Object.entries(m).forEach(([k,S])=>{!S||typeof S!="object"||(p[k]={gold:Array.isArray(S.gold)?S.gold.filter(Boolean):[],silver:Array.isArray(S.silver)?S.silver.filter(Boolean):[],bronze:Array.isArray(S.bronze)?S.bronze.filter(Boolean):[]})}):n&&typeof n=="object"&&Object.entries(n).forEach(([k,S])=>{const N=String(k).padStart(2,"0");if(!S||typeof S!="object")return;const A=I=>!I||typeof I!="object"?[]:Object.values(I).map(H=>H==null?void 0:H.name).filter(Boolean);p[N]={gold:A(S.gold),silver:A(S.silver),bronze:A(S.bronze)}});const g={},x=(k,S)=>{k&&(g[k]||(g[k]={name:k,gold:0,silver:0,bronze:0,points:0}),S==="gold"&&(g[k].gold+=1,g[k].points+=3),S==="silver"&&(g[k].silver+=1,g[k].points+=2),S==="bronze"&&(g[k].bronze+=1,g[k].points+=1))};Object.values(p).forEach(k=>{(k.gold||[]).forEach(S=>x(S,"gold")),(k.silver||[]).forEach(S=>x(S,"silver")),(k.bronze||[]).forEach(S=>x(S,"bronze"))});const w=Object.values(g);w.sort((k,S)=>S.points!==k.points?S.points-k.points:S.gold!==k.gold?S.gold-k.gold:S.silver!==k.silver?S.silver-k.silver:S.bronze!==k.bronze?S.bronze-k.bronze:String(k.name).localeCompare(String(S.name),"ko")),l(w.slice(0,10))},[t,n,h]);const C=_.useMemo(()=>[1,2,3,4,5,6,7,8,9,10,11,12],[]),E=_.useMemo(()=>new Date().getMonth()+1,[]);return _.useMemo(()=>String(new Date().getMonth()+1).padStart(2,"0"),[]),a.jsxs("div",{style:{padding:20,minHeight:"100vh",background:"#F4F5FB"},children:[a.jsx("h2",{style:{color:"#FF9F1C",marginBottom:10},children:"  "}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:14},children:[a.jsx("div",{style:{fontWeight:"bold"},children:""}),a.jsx("select",{value:h||"",onChange:m=>d(parseInt(m.target.value,10)),style:{padding:"8px 10px",borderRadius:8,border:"1px solid #ddd",background:"#fff"},children:(f&&f.length?f:c?[c]:[]).map(m=>a.jsxs("option",{value:m,children:[m,""]},m))}),c&&h&&c!==h&&a.jsx("span",{style:{fontSize:13,color:"#666"},children:"   ."})]}),h&&a.jsxs("p",{style:{marginBottom:20},children:[h,"   ."]}),a.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:8,boxShadow:"0 4px 6px rgba(0,0,0,0.08)"},children:[a.jsx("h3",{style:{marginTop:0},children:" TOP 10"}),(!o||o.length===0)&&a.jsx("p",{children:"     ."}),o&&o.map((m,p)=>a.jsxs("div",{style:{background:"#fff",padding:10,borderRadius:6,marginBottom:8,border:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsxs("strong",{children:[p+1,""]})," ",m.name]}),a.jsxs("div",{style:{fontSize:13,color:"#555"},children:[m.gold?a.jsxs("span",{style:{marginRight:10},children:[" ",m.gold]}):null,m.silver?a.jsxs("span",{style:{marginRight:10},children:[" ",m.silver]}):null,m.bronze?a.jsxs("span",{children:[" ",m.bronze]}):null]})]},m.name||p))]}),c&&h===c&&a.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:8,boxShadow:"0 4px 6px rgba(0,0,0,0.08)"},children:[a.jsxs("h3",{style:{marginTop:0},children:[E,"  "]}),["gold","silver","bronze"].map(m=>{const p=(i==null?void 0:i[m])||{},g=Number(p.challengers||0),x=Number(p.success||0),w=Number(p.fail||0),k=m==="gold"?" ":m==="silver"?" ":" ";return a.jsxs("div",{style:{marginBottom:8,fontSize:15},children:[k," : ",g,"  (",x,"   ",w," )"]},m)}),a.jsx("div",{style:{fontSize:12,color:"#777",marginTop:8},children:'  "/"    (/!).'})]}),a.jsxs("div",{style:{marginBottom:24,padding:16,background:"#fff",borderRadius:8,boxShadow:"0 4px 6px rgba(0,0,0,0.08)"},children:[a.jsx("h3",{style:{marginTop:0},children:"  "}),C.map(m=>{var j;const p=String(m).padStart(2,"0"),g=(j=t==null?void 0:t.monthlyResults)==null?void 0:j[p],x=Array.isArray(g==null?void 0:g.gold)?g.gold:null,w=Array.isArray(g==null?void 0:g.silver)?g.silver:null,k=Array.isArray(g==null?void 0:g.bronze)?g.bronze:null,S=n&&n[m],N=P=>P&&typeof P=="object"?Object.values(P).map(B=>B==null?void 0:B.name).filter(Boolean):null,A=N(S==null?void 0:S.gold),I=N(S==null?void 0:S.silver),H=N(S==null?void 0:S.bronze),Q=x??A,q=w??I,re=k??H,de=P=>{if(!P||!P.length)return"";const B={};return P.forEach(W=>{const G=typeof W=="object"?W.name:W,be=typeof W=="object"?W.crew:"";B[be]||(B[be]=[]),B[be].push(G)}),Object.entries(B).map(([W,G],be)=>{const $e=getCrewLabel(W);return a.jsxs("div",{style:{marginBottom:4},children:[a.jsxs("span",{style:{color:"#1E40AF",fontWeight:800},children:[$e,":"]})," ",G.join("  ")]},W)})},O=P=>!P||!P.length?"":P.map(B=>typeof B=="object"?B.name:B).join("  "),$=Q&&Q.length||q&&q.length||re&&re.length;return a.jsxs("div",{style:{marginBottom:12},children:[a.jsxs("strong",{children:[m,""]}),!$&&a.jsx("div",{style:{fontSize:13,color:"#777"},children:"    ."}),$&&a.jsxs("div",{style:{marginLeft:10,fontSize:14},children:[a.jsxs("div",{children:["  : ",O(Q)]}),a.jsxs("div",{children:["  : ",O(q)]}),a.jsxs("div",{style:{marginTop:4},children:[a.jsx("div",{style:{fontWeight:800,marginBottom:2},children:" "}),a.jsx("div",{style:{paddingLeft:10},children:de(re)})]})]})]},m)})]})]})}const mE=[{day:1,mainTitle:"  ",sections:[{subTitle:" ",bibleRef:" 1-3"},{subTitle:" ,  ",bibleRef:" 4-5"},{subTitle:"   ",bibleRef:" 6-9"}]},{day:2,mainTitle:"  ",sections:[{subTitle:"   ",bibleRef:" 11-13"},{subTitle:"   ",bibleRef:" 14-16"},{subTitle:"    ",bibleRef:" 17-18"}]},{day:3,mainTitle:"   ",sections:[{subTitle:"   ",bibleRef:" 19-21"},{subTitle:"    ",bibleRef:" 22-24"},{subTitle:"    ",bibleRef:" 27-28"}]},{day:4,mainTitle:"  ",sections:[{subTitle:"    ",bibleRef:" 29-31"},{subTitle:"    ",bibleRef:" 32-33"},{subTitle:"    ",bibleRef:" 35-37"}]},{day:5,mainTitle:"   ",sections:[{subTitle:"   ",bibleRef:" 38-39"},{subTitle:"    ",bibleRef:" 40-41"},{subTitle:"   ",bibleRef:" 42-44"}]},{day:6,mainTitle:" ",sections:[{subTitle:"    ",bibleRef:" 45-47"},{subTitle:"   ",bibleRef:" 48-50"},{subTitle:"   ",bibleRef:" 1-3"}]},{day:7,mainTitle:"   ",sections:[{subTitle:"    ",bibleRef:" 4-7"},{subTitle:"    ",bibleRef:" 8-11"},{subTitle:"  ",bibleRef:" 12"}]},{day:8,mainTitle:"   ",sections:[{subTitle:"    ",bibleRef:" 13-16"},{subTitle:"   ",bibleRef:" 17-20"},{subTitle:" ",bibleRef:" 24"}]},{day:9,mainTitle:"  ",sections:[{subTitle:"   ",bibleRef:" 32-34"},{subTitle:"  ",bibleRef:" 40"},{subTitle:"   ",bibleRef:" 11, 16, 19, 23,  6"}]},{day:10,mainTitle:"  ",sections:[{subTitle:"   ",bibleRef:" 11-12"},{subTitle:"12  40 ",bibleRef:" 13-14"},{subTitle:"     ",bibleRef:" 16-17, 20"}]},{day:11,mainTitle:"  ",sections:[{subTitle:"   ",bibleRef:" 21-24"},{subTitle:"   ",bibleRef:" 6, 8, 30, 34"},{subTitle:" ",bibleRef:" 1"}]},{day:12,mainTitle:"  ",sections:[{subTitle:"  ",bibleRef:" 2-8"},{subTitle:"    ",bibleRef:" 9-11"},{subTitle:"  ",bibleRef:" 14, 20"}]},{day:13,mainTitle:"  ",sections:[{subTitle:"    ",bibleRef:" 23-24,  2"},{subTitle:", , ",bibleRef:" 4, 6-7, 13-16"},{subTitle:"  ",bibleRef:" 1-4"}]},{day:14,mainTitle:"  ",sections:[{subTitle:"   ",bibleRef:" 1-3"},{subTitle:"   ",bibleRef:" 4-7"},{subTitle:"    ",bibleRef:" 8-10"}]},{day:15,mainTitle:"   ",sections:[{subTitle:"   ",bibleRef:" 13, 15-16"},{subTitle:"    ",bibleRef:" 17-19"},{subTitle:"    ",bibleRef:" 20, 24, 26"}]},{day:16,mainTitle:"  ",sections:[{subTitle:"   ",bibleRef:" 31,  1-2, 5"},{subTitle:"   ",bibleRef:" 6-7"},{subTitle:"   ",bibleRef:" 9-10"}]},{day:17,mainTitle:"  ",sections:[{subTitle:"    ",bibleRef:" 11-12"},{subTitle:"   ",bibleRef:" 13, 15-18"},{subTitle:"   ",bibleRef:" 24,  22, 29"}]},{day:18,mainTitle:"  :   ",sections:[{subTitle:"   ",bibleRef:" 3-6, 8"},{subTitle:":  ",bibleRef:" 1-4"}]},{day:19,mainTitle:" :  ,  ",sections:[{subTitle:":     ",bibleRef:" 1-3, 12"},{subTitle:":  ",bibleRef:" 2"},{subTitle:":   ",bibleRef:" 1-2, 38, 42"}]},{day:20,mainTitle:" ",sections:[{subTitle:":     ",bibleRef:" 1, 19, 23, 51, 103, 150"},{subTitle:"   ",bibleRef:" 11-12"},{subTitle:" ",bibleRef:" 13"}]},{day:21,mainTitle:"  :   ",sections:[{subTitle:"   ",bibleRef:" 17-18"},{subTitle:"  ",bibleRef:" 19"},{subTitle:"   ",bibleRef:" 2, 4-5, 6"}]},{day:22,mainTitle:"  :   ",sections:[{subTitle:":   ",bibleRef:" 1-4"},{subTitle:":  ",bibleRef:" 5, 9"},{subTitle:":   ",bibleRef:" 1-3"},{subTitle:" ",bibleRef:" 17"}]},{day:23,mainTitle:" ",sections:[{subTitle:"   ",bibleRef:" 18-20"},{subTitle:"   ",bibleRef:" 1, 6-7, 9, 11, 36"}]},{day:24,mainTitle:" 2 :   ",sections:[{subTitle:"  ",bibleRef:" 40, 43"},{subTitle:"  ",bibleRef:" 53, 55"},{subTitle:"  ",bibleRef:" 60-61, 65-66"}]},{day:25,mainTitle:"   :  ",sections:[{subTitle:"   ",bibleRef:" 21-23"},{subTitle:"   ",bibleRef:" 1, 7"},{subTitle:"  ",bibleRef:" 1-3,  3"}]},{day:26,mainTitle:"   :  ",sections:[{subTitle:"   ",bibleRef:" 24-25"},{subTitle:"    ",bibleRef:" 29, 31, 33, 52"},{subTitle:":   ",bibleRef:" 3"}]},{day:27,mainTitle:"  :  ",sections:[{subTitle:"   ",bibleRef:" 1, 3, 6, 9"},{subTitle:":     ",bibleRef:" 1, 36, 37, 47"}]},{day:28,mainTitle:"   :  ",sections:[{subTitle:"  1 ",bibleRef:" 1, 3-4"},{subTitle:"   ",bibleRef:" 1-2,  4, 9"},{subTitle:" ",bibleRef:" 6"}]},{day:29,mainTitle:"  :   ",sections:[{subTitle:"   ",bibleRef:" 1-9"},{subTitle:" 2   ",bibleRef:" 7, 9-10"}]},{day:30,mainTitle:"  :   ",sections:[{subTitle:"  ",bibleRef:" 1-4, 6"},{subTitle:"   ",bibleRef:" 8, 13"},{subTitle:":   ",bibleRef:" 1, 3-4"}]}],gE=[{day:1,mainTitle:" ",sections:[{subTitle:"  ",bibleRef:" 1"},{subTitle:"  ",bibleRef:" 1-2"},{subTitle:" ",bibleRef:" 2"}]},{day:2,mainTitle:" ",sections:[{subTitle:"  ",bibleRef:" 3-4"},{subTitle:"   ",bibleRef:" 2"},{subTitle:" ",bibleRef:" 3"}]},{day:3,mainTitle:" ",sections:[{subTitle:" ",bibleRef:" 4"},{subTitle:"   ",bibleRef:" 5"},{subTitle:"  ",bibleRef:" 5"}]},{day:4,mainTitle:"",sections:[{subTitle:"  ",bibleRef:" 5"},{subTitle:", , ",bibleRef:" 6"},{subTitle:"  ",bibleRef:" 7"},{subTitle:" ",bibleRef:" 7"}]},{day:5,mainTitle:" ",sections:[{subTitle:" ",bibleRef:" 4"},{subTitle:"   ",bibleRef:" 5"},{subTitle:"  ",bibleRef:" 10"},{subTitle:"    ",bibleRef:" 11-12"}]},{day:6,mainTitle:"  ",sections:[{subTitle:"    ",bibleRef:" 13"},{subTitle:"   ",bibleRef:" 14"},{subTitle:" ",bibleRef:" 6"}]},{day:7,mainTitle:" ",sections:[{subTitle:" ",bibleRef:" 16"},{subTitle:" ",bibleRef:" 17"},{subTitle:"   ",bibleRef:" 9"}]},{day:8,mainTitle:"  ",sections:[{subTitle:"  ",bibleRef:" 10"},{subTitle:" , , ",bibleRef:" 15"},{subTitle:"  ",bibleRef:" 16"}]},{day:9,mainTitle:" ",sections:[{subTitle:" ",bibleRef:" 11"},{subTitle:"  ",bibleRef:" 12"},{subTitle:" ",bibleRef:" 19"},{subTitle:"   ",bibleRef:" 21"}]},{day:10,mainTitle:"  ",sections:[{subTitle:"   ",bibleRef:" 22"},{subTitle:"   ",bibleRef:" 23"},{subTitle:" ",bibleRef:" 24"},{subTitle:"   ",bibleRef:" 25"}]},{day:11,mainTitle:" ",sections:[{subTitle:"  ",bibleRef:" 13"},{subTitle:"  ",bibleRef:" 14"},{subTitle:" ",bibleRef:" 15"},{subTitle:"   ",bibleRef:" 16-17"}]},{day:12,mainTitle:"  ",sections:[{subTitle:"  ",bibleRef:" 26"},{subTitle:"  ",bibleRef:" 27"}]},{day:13,mainTitle:" ",sections:[{subTitle:"   ",bibleRef:" 20"},{subTitle:"  ",bibleRef:" 21"},{subTitle:"  ",bibleRef:" 24"},{subTitle:" ",bibleRef:" 28"}]},{day:14,mainTitle:" ",sections:[{subTitle:"  ",bibleRef:" 1"},{subTitle:"  ",bibleRef:" 2"},{subTitle:"  ",bibleRef:" 3"},{subTitle:"  ",bibleRef:" 4"}]},{day:15,mainTitle:" ",sections:[{subTitle:" ",bibleRef:" 5"},{subTitle:"   ",bibleRef:" 6-7"},{subTitle:"  ",bibleRef:" 8"},{subTitle:" ",bibleRef:" 9"}]},{day:16,mainTitle:"  ",sections:[{subTitle:"  ",bibleRef:" 10"},{subTitle:"   ",bibleRef:" 11"},{subTitle:":  ",bibleRef:" 1-2"}]},{day:17,mainTitle:"1   :  ",sections:[{subTitle:"  ",bibleRef:" 13"},{subTitle:" ",bibleRef:" 14"},{subTitle:":   ",bibleRef:" 1-3"}]},{day:18,mainTitle:"2   :  ",sections:[{subTitle:" ",bibleRef:" 15"},{subTitle:"  ",bibleRef:" 16"},{subTitle:"  ",bibleRef:" 17"},{subTitle:":  ",bibleRef:" 4"}]},{day:19,mainTitle:"3   :   ",sections:[{subTitle:"  ",bibleRef:" 18"},{subTitle:"  ",bibleRef:" 19"},{subTitle:":  ",bibleRef:" 1, 13, 15"}]},{day:20,mainTitle:" :   ",sections:[{subTitle:"  ",bibleRef:" 20"},{subTitle:":  ",bibleRef:" 4-5"},{subTitle:"   ",bibleRef:" 12"}]},{day:21,mainTitle:" 1 :  ",sections:[{subTitle:"   ",bibleRef:" 1-2"},{subTitle:"   ",bibleRef:" 3"},{subTitle:"  ",bibleRef:" 4-5"}]},{day:22,mainTitle:" 2 :  ",sections:[{subTitle:"   ",bibleRef:" 6"},{subTitle:"   ",bibleRef:" 8"},{subTitle:"    ",bibleRef:" 12"}]},{day:23,mainTitle:"  :  ",sections:[{subTitle:"   ",bibleRef:" 21-22"},{subTitle:"    ",bibleRef:" 23"},{subTitle:"   ",bibleRef:" 26"}]},{day:24,mainTitle:"   :  ",sections:[{subTitle:"  ",bibleRef:" 27"},{subTitle:"   ",bibleRef:" 28"},{subTitle:":   ",bibleRef:" 1, 3"}]},{day:25,mainTitle:"  :  ",sections:[{subTitle:":    ",bibleRef:" 1-2"},{subTitle:" ",bibleRef:" 6"},{subTitle:":  ",bibleRef:" 1"}]},{day:26,mainTitle:" :  ",sections:[{subTitle:"  ",bibleRef:" 1"},{subTitle:" ",bibleRef:" 2"},{subTitle:" ",bibleRef:" 3"},{subTitle:"    ",bibleRef:" 4"}]},{day:27,mainTitle:"  :   ",sections:[{subTitle:":  ",bibleRef:" 6"},{subTitle:":    ",bibleRef:" 1-2"},{subTitle:"   ",bibleRef:" 4"}]},{day:28,mainTitle:" :   ",sections:[{subTitle:"  ",bibleRef:" 1"},{subTitle:"  ",bibleRef:" 4"},{subTitle:"  ",bibleRef:" 11"},{subTitle:"    ",bibleRef:" 12"}]},{day:29,mainTitle:" :  ",sections:[{subTitle:":  ",bibleRef:" 1"},{subTitle:":   ",bibleRef:" 1"},{subTitle:" ",bibleRef:" 4"},{subTitle:":   ",bibleRef:" 3-5"}]},{day:30,mainTitle:" :  ",sections:[{subTitle:" ",bibleRef:" 1"},{subTitle:" ",bibleRef:" 4"},{subTitle:"   ",bibleRef:" 21"},{subTitle:"   ",bibleRef:" 22"}]}],_a=[{name:"",chapters:50},{name:"",chapters:40},{name:"",chapters:27},{name:"",chapters:36},{name:"",chapters:34},{name:"",chapters:24},{name:"",chapters:21},{name:"",chapters:4},{name:"",chapters:31},{name:"",chapters:24},{name:"",chapters:22},{name:"",chapters:25},{name:"",chapters:29},{name:"",chapters:36},{name:"",chapters:10},{name:"",chapters:13},{name:"",chapters:10},{name:"",chapters:42},{name:"",chapters:150},{name:"",chapters:31},{name:"",chapters:12},{name:"",chapters:8},{name:"",chapters:66},{name:"",chapters:52},{name:"",chapters:5},{name:"",chapters:48},{name:"",chapters:12},{name:"",chapters:14},{name:"",chapters:3},{name:"",chapters:9},{name:"",chapters:1},{name:"",chapters:4},{name:"",chapters:7},{name:"",chapters:3},{name:"",chapters:3},{name:"",chapters:3},{name:"",chapters:2},{name:"",chapters:14},{name:"",chapters:4},{name:"",chapters:28},{name:"",chapters:16},{name:"",chapters:24},{name:"",chapters:21},{name:"",chapters:28},{name:"",chapters:16},{name:"",chapters:16},{name:"",chapters:13},{name:"",chapters:6},{name:"",chapters:6},{name:"",chapters:4},{name:"",chapters:4},{name:"",chapters:5},{name:"",chapters:3},{name:"",chapters:6},{name:"",chapters:4},{name:"",chapters:3},{name:"",chapters:1},{name:"",chapters:13},{name:"",chapters:5},{name:"",chapters:5},{name:"",chapters:3},{name:"1",chapters:5},{name:"2",chapters:1},{name:"3",chapters:1},{name:"",chapters:1},{name:"",chapters:22}],yE=_a.slice(0,39),Q0=_a.slice(39),K0=yE.reduce((t,e)=>t+e.chapters,0),q0=Q0.reduce((t,e)=>t+e.chapters,0),vE=K0+q0,_E=461,xE=468;function bE(t){if(t<=0)return[];if(t===1)return[Array.from({length:31},(s,o)=>o+1)];const n=[],r=Math.max(0,t-1);for(let s=1;s<=r;s++)n.push([s]);const i=[];for(let s=r+1;s<=31;s++)i.push(s);return n.push(i),n}const SE={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",1:"",2:"",3:"",:"",:""};function Pp(t){return SE[t]||t}function wE(t){return _a.find(e=>e.name===t)}function CE(t,e){const n=[];for(let r=1;r<=e;r++)n.push({book:t,chapter:r});return n}function EE(t){const e=[];return t.forEach(n=>{n&&e.push(...CE(n.name,n.chapters))}),e}function Dp(t){if(!t||t.length===0)return"";const e=[];let n={book:t[0].book,start:t[0].chapter,end:t[0].chapter};for(let i=1;i<t.length;i++){const s=t[i];s.book===n.book&&s.chapter===n.end+1?n.end=s.chapter:(e.push(n),n={book:s.book,start:s.chapter,end:s.chapter})}return e.push(n),e.map(i=>i.start===i.end?`${i.book} ${i.start}`:`${i.book} ${i.start}~${i.end}`).join(" / ")}function kE(t,e){const n=Math.floor(t/e);let r=t%e;const i=[];for(let s=0;s<e;s++)i.push(n+(r>0?1:0)),r>0&&r--;return i}function TE(t,e){const n=e.length,r=kE(t.length,n);let i=0;const s=[];for(let o=0;o<n;o++){const l=r[o],c=t.slice(i,i+l);i+=l,s.push({date:e[o],items:c})}return s}const X0=["","","","","","","","","","","","","","",""],J0=["","","","","","","","","","","","","","","","","","","","","","",""],RE=[...X0,...J0],Fp=[..._a.filter(t=>t.name!=="").map(t=>t.name)],jE=Q0.map(t=>t.name);function Wr(t){return EE(t.map(wE))}const pc={};function IE(t){if(pc[t])return pc[t];let e=[];return t===""?e=Wr(Fp):t===""?e=Wr(RE):t===""?e=Wr(jE):t==="(A)"?e=Wr(X0):t==="(B)"?e=Wr(J0):e=Wr(Fp),pc[t]=e,e}function NE(t){return t===""||t===""||t==="(B)"}function AE(t){const e=[],n=t.split(",");let r="";for(let i of n){if(i=i.trim(),!i)continue;i=i.replace(/\([^)]*\)/g,"").trim();const s=i.match(/^([-]+(?:\s?[-]+)?)/);if(s&&(r=s[1].trim(),i=i.substring(r.length).trim()),i=i.replace(//g,"").trim(),i.includes("-")){const[o,l]=i.split("-"),c=parseInt(o,10),u=parseInt(l,10);if(!isNaN(c)&&!isNaN(u))for(let h=c;h<=u;h++)r&&e.push({book:r,chapter:h})}else{const o=parseInt(i,10);isNaN(o)||r&&e.push({book:r,chapter:o})}}return e}function mc(t,e){return t?e?{day:t.day,mainTitle:`${t.mainTitle} & ${e.mainTitle}`,sections:[...t.sections||[],...e.sections||[]]}:t:e}function qn(t,e){if(t===""||t===""){const o=t===""?mE:gE,l=e.length;let c=[];if(l===31)c=[...o,{day:31,mainTitle:"  ",sections:[{subTitle:"    ",bibleRef:""}]}];else if(l===30)c=[...o];else if(l===29){const u=mc(o[25],o[26]);c=[...o.slice(0,25),u,...o.slice(27)]}else if(l===28){const u=mc(o[4],o[5]),h=mc(o[25],o[26]);c=[...o.slice(0,4),u,...o.slice(6,25),h,...o.slice(27,30)]}else c=o.slice(0,l);return e.map((u,h)=>{const d=h;if(d>=c.length)return{date:u,items:[],chapters:0,label:" "};const f=c[d];let v=[];const y=f.sections.map(m=>{const p=AE(m.bibleRef);return v=[...v,...p],{...m,items:p}}),C=v.filter((m,p,g)=>g.findIndex(x=>x.book===m.book&&x.chapter===m.chapter)===p),E=Dp(C);return{date:u,items:C,chapters:C.length,label:`[${f.mainTitle}] ${E}`,panorama:{...f,parsedSections:y}}})}const n=IE(t),r=TE(n,e),i=NE(t),s=i?bE(e.length):[];return r.map((o,l)=>{let c=o.items;if(i){const v=(s[l]||[]).map(y=>({book:"",chapter:y}));c=[...c,...v]}const u=c.length,d=`${Dp(c)} ( ${u})`;return{date:o.date,items:c,chapters:u,label:d}})}function PE(t={},e={},n,r){const i=en(n,r);if(!i||i.length===0)return{ranking:[],medalCounts:{gold:0,silver:0,bronze:0}};const s=We,o={};s.forEach(f=>{const v=qn(f,i),y={};(v||[]).forEach(C=>{!C||!C.date||(y[C.date]=C)}),o[f]=y});const l={};s.forEach(f=>{const v=t&&t[f],y=v&&v.users;if(!y)return;const C=o[f]||{};Object.entries(y).forEach(([E,m])=>{const p=m&&m.checks||{};let g=0;i.forEach(x=>{if(p[x]){const w=C[x];w&&typeof w.chapters=="number"&&w.chapters>0&&(g+=w.chapters)}}),l[E]||(l[E]={uid:E,crew:f,chapters:0}),l[E].chapters+=g})});const c=1189,u=929,h=Object.values(l).map(f=>{const v=e[f.uid]||{},y=v.crew||f.crew;let C=null;const E=o[y]||{};let m=0;return Object.values(E).forEach(p=>{m+=p.chapters||0}),y===""&&f.chapters>=c&&f.chapters>=m?C="gold":y===""&&f.chapters>=u&&f.chapters>=m?C="silver":(y===""||y.includes("")||y.includes(""))&&f.chapters>=m&&m>0&&(C="bronze"),{uid:f.uid,name:v.name||"",crew:y,chapters:f.chapters,medal:C}});h.sort((f,v)=>v.chapters-f.chapters);const d={gold:0,silver:0,bronze:0};return h.forEach(f=>{f.medal==="gold"&&d.gold++,f.medal==="silver"&&d.silver++,f.medal==="bronze"&&d.bronze++}),{ranking:h,medalCounts:d}}function gh({dates:t,todayKey:e,userChecks:n,userDailyActivity:r}){const i=n||{},s=r||{},o=!!i[e],l=!!(s[e]&&s[e].biblePageVisited),c=Array.isArray(t)?t.indexOf(e):-1,u=c>=0?t.slice(0,c+1):[],h=c>0?t.slice(0,c):[],d=u.length>0&&u.every(y=>!!i[y]),f=h.length===0?!0:h.every(y=>!!i[y]),v=h.some(y=>!i[y]);return d?{key:"success",label:" "}:l&&!o?{key:"running",label:"  .."}:f&&!o?{key:"ready",label:" "}:v?{key:"missed",label:" !"}:{key:"ready",label:" "}}function DE(){const t=xn(),[e,n]=_.useState({}),[r,i]=_.useState({}),[s,o]=_.useState(()=>{const b={};return We.forEach(T=>b[T]=[]),b});_.useState(null),_.useState({});const[l,c]=_.useState(""),[u,h]=_.useState("");_.useState({year:null,month:null});const[d,f]=_.useState({}),[v,y]=_.useState(""),[C,E]=_.useState(""),[m,p]=_.useState(""),[g,x]=_.useState({:"",:"",:""}),[w,k]=_.useState({:"manual",:"manual",:"manual"}),[S,N]=_.useState({:[],:[],:[]}),[A,I]=_.useState({}),[H,Q]=_.useState([]),[q,re]=_.useState(""),[de,O]=_.useState({}),[$,j]=_.useState(!1),[P,B]=_.useState(""),[W,G]=_.useState(""),[be,$e]=_.useState(new Date().getFullYear()),[Ne,Je]=_.useState(new Date().getMonth()+1),[Ft,Fi]=_.useState("gold"),[Nr,Mi]=_.useState(!1),Ar=O0(),Pr=fo(),[Oi,Bi]=_.useState([]),[po,Mt]=_.useState(""),[mo,go]=_.useState(null),[xa,Ze]=_.useState(!1),[yo,Dr]=_.useState([]),[ba,Li]=_.useState(!1),[Ct,rn]=_.useState("all"),[zi,$i]=_.useState(new Date().getFullYear()),[er,Sa]=_.useState(!1),[Fr,wa]=_.useState(!1),[Mr,R]=_.useState(!1),[X,le]=_.useState(!1),Et=_.useRef(null);_.useEffect(()=>{const b=new Date,T=b.getFullYear(),L=b.getMonth()+1,U=en(T,L);if(!U||U.length===0){const he={};We.forEach(Lr=>he[Lr]=[]),o(he);return}const Se=b.getDate(),K=U.slice(0,Se),ye=`${T}-${String(L).padStart(2,"0")}-${String(Se).padStart(2,"0")}`,Fe=We,yt={};Fe.forEach(he=>{const Lr=qn(he,U),Gt={};Lr.forEach(Qi=>{Gt[Qi.date]=Qi}),yt[he]=Gt});const Ae={};Fe.forEach(he=>{Ae[he]=[]}),Fe.forEach(he=>{(S[he]||[]).forEach(Gt=>{const Qi=r[he]||{},yh=(Qi.users&&Qi.users[Gt]||{}).checks||{};let Ra=0,ja=0;K.forEach(xh=>{const xo=yt[he]&&yt[he][xh];xo&&typeof xo.chapters=="number"&&(ja+=xo.chapters,yh[xh]&&(Ra+=xo.chapters))});const vh=e&&e[Gt]?e[Gt]:{},Z0=vh.name||Gt,ey=ja>0?Math.round(Ra/ja*100):0,_h=gh({dates:U,todayKey:ye,userChecks:yh,userDailyActivity:vh.dailyActivity||{}});Ae[he].push({uid:Gt,name:Z0,chapters:Ra,progress:ey,stateKey:_h.key,stateLabel:_h.label})})}),Object.keys(Ae).forEach(he=>{Ae[he].sort((Lr,Gt)=>Gt.chapters-Lr.chapters)}),o(Ae)},[r,e,S]),_.useEffect(()=>{const b=cC(T=>{const L=T||{},U={};We.forEach(Se=>{U[Se]=L[Se]||"manual"}),k(U)});return()=>{typeof b=="function"&&b()}},[]),_.useEffect(()=>{const b=iC(T=>{I(T||{})});return()=>{typeof b=="function"&&b()}},[]),_.useEffect(()=>{async function b(){try{const T=await sC(3);if(Q(T||[]),B(""),T&&T.length>0){const L=T[0];re(L),j(!0);const U=await bp(L);O(U||{})}else re(""),O({})}catch(T){console.error("   ",T),B("     .")}finally{j(!1)}}b()},[]);async function sn(b){const T=b.target.value;if(re(T),!T){O({});return}j(!0),B("");try{const L=await bp(T);O(L||{})}catch(L){console.error("   ",L),B("     .")}finally{j(!1)}}_.useEffect(()=>{const b=dh(n),T=D0(i),L=B0(U=>{U?(c(U.title||""),h(U.content||"")):(c(""),h(""))});return()=>{if(typeof b=="function"&&b(),typeof T=="function"&&T(),typeof L=="function"&&L(),Et.current){try{Et.current()}catch{}Et.current=null}}},[]),_.useEffect(()=>{const b=fh(T=>{const L=T||{};f(L),y(L.churchName||""),E(L.appDescription||""),p(L.bulletinUrl||"")});return()=>{typeof b=="function"&&b()}},[]),_.useEffect(()=>{const b=We,T=[];return b.forEach(L=>{const U=Uw(L,Ar,Se=>{const K=Se?Object.keys(Se):[];N(ye=>({...ye,[L]:K}))});typeof U=="function"&&T.push(U)}),()=>{T.forEach(L=>{try{L()}catch{}})}},[Ar]),Object.entries(e||{}).map(([b,T])=>({uid:b,...T}));function tr(b){const T=(g[b]||"").trim();T&&Hw(b,Ar,T).then(()=>{x(L=>({...L,[b]:""}))})}function Or(b,T){aC(b,T).then(()=>{}).catch(L=>{console.error(L),alert("     .")})}function nr(b){window.confirm(`${b}    ? (    .)`)&&Gw(b,Ar)}async function Wi(b,T){if(!b)return;const L=T?`(${T})`:"";window.confirm(` ? ${L}

- : 0000
-      .`)&&(await qw(b),alert(" 0000 ."))}async function Ca(b,T){if(!b)return;const L=T?`(${T})`:"";window.confirm(` ? ${L}

-   ' ' .
-    .`)&&(await jw(b),alert("() ."))}async function Ea(b,T){if(!b)return;const L=T?`(${T})`:"";window.confirm(`  ? ${L}`)&&(await Iw(b),alert("."))}async function ka(b,T){if(!b)return;const L=T?`(${T})`:"";window.confirm(`  ? ${L}

- users  .
-  (  )   .
-   .`)&&(await Nw(b),alert(" ."))}async function vo(){const b=window.prompt("    .");b&&(await eC(b),alert("  . (  8395  .)"))}function Ui(){window.confirm("   ?")&&Lw().then(()=>{alert("  .")})}async function gt(){if(window.confirm(`3   DB  .
  .

?`))try{const T=await Bw(3);alert(` : ${(T==null?void 0:T.deleted)||0} .`)}catch(T){console.error("  ",T),alert("   .   .")}}function Br(b){const T=qt(b);window.confirm(`${T}    .
  .

?`)&&Fw(b).then(()=>{alert(`${T}    .`)})}function _o(){const b=new Date;let T=b.getFullYear(),L=b.getMonth()+1;L===1?(T=T-1,L=12):L=L-1;const{ranking:U}=PE(r,e,T,L);if(!U||U.length===0){alert("   .");return}M0(T,L,U).then(()=>{alert(`${T} ${L}   .`)})}async function Hi(){if(!W||!be||!Ne){alert(", ,    .");return}const b=Math.min(12,Math.max(1,Number(Ne)||0)),L=Object.entries(e||{}).find(([Se,K])=>(K&&K.name)===W);if(!L){alert("     . (   )");return}const[U]=L;Mi(!0);try{const Se=await Ww(be,b,U,Ft);alert(Se?"      .":"  .    .")}catch(Se){console.error(Se),alert("    .")}}_.useEffect(()=>{Sp().then(Bi)},[]);async function Vi(b){if(Mt(b),!b){go(null);return}Ze(!0);try{const T=await gC(b);go(T)}catch(T){console.error(T),alert("    .")}finally{Ze(!1)}}async function Yi(){const b=new Date,T=b.getFullYear(),L=b.getMonth()+1,U=`${T}-${String(L).padStart(2,"0")}`;if(!window.confirm(`${U}       ?
   .`))return;const Se={};Object.entries(s).forEach(([K,ye])=>{ye.forEach(Fe=>{var he;const yt=((he=e[Fe.uid])==null?void 0:he.medals)||{},Ae=(yt.gold||0)+(yt.silver||0)+(yt.bronze||0);Se[Fe.uid]={uid:Fe.uid,name:Fe.name,crew:K,chapters:Fe.chapters,progress:Fe.progress,stateLabel:Fe.stateLabel,totalMedals:Ae}})});try{await mC(T,L,Se),alert(`${U}   .`);const K=await Sp();Bi(K)}catch(K){console.error(K),alert("    .")}}async function Gi(b){const T=b||zi;Li(!0);try{const L=await yC(T),U={};Object.entries(L).forEach(([K,ye])=>{["gold","silver","bronze"].forEach(Fe=>{(ye[Fe]||[]).forEach(yt=>{const Ae=yt.name,he=yt.crew;U[Ae]||(U[Ae]={name:Ae,crews:{},totalBible:0,cnt:{adv:0,int:0,nt:0,ota:0,otb:0}}),U[Ae].crews[he]=(U[Ae].crews[he]||0)+1,he===""&&U[Ae].cnt.adv++,he===""&&U[Ae].cnt.int++,he===""&&U[Ae].cnt.nt++,he==="(A)"&&U[Ae].cnt.ota++,he==="(B)"&&U[Ae].cnt.otb++})})});const Se=Object.values(U).map(K=>{let ye=0,Fe=K.cnt.nt;ye+=K.cnt.adv;const yt=Math.min(K.cnt.int,Fe);ye+=yt,Fe-=yt;const Ae=Math.min(K.cnt.ota,K.cnt.otb,Fe);return ye+=Ae,{...K,totalBible:ye}});Dr(Se.sort((K,ye)=>ye.totalBible-K.totalBible||K.name.localeCompare(ye.name)))}catch(L){console.error(L),alert("     .")}finally{Li(!1)}}_.useEffect(()=>{Gi()},[]);const Ta=yo.filter(b=>Ct==="all"?!0:Ct==="full"?b.totalBible>0:(b.crews[Ct]||0)>0),rr=Object.entries(e||{}).filter(([b,T])=>{if(!T||(T.status||"active")==="inactive")return!1;const L=Object.values(S).some(U=>Array.isArray(U)&&U.includes(b));return!T.crew&&!L}).map(([b,T])=>({uid:b,...T})),bn=Object.entries(e||{}).filter(([b,T])=>T&&(T.status||"")==="inactive").map(([b,T])=>({uid:b,...T}));return a.jsxs("div",{style:{padding:20,minHeight:"100vh",background:"#F1FAEE"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[a.jsx("h2",{style:{color:"#1D3557",margin:0},children:"  "}),a.jsx("button",{onClick:()=>t("/home"),style:{padding:"8px 16px",borderRadius:10,border:"none",background:"#457B9D",color:"#fff",fontSize:14,fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:"  "})]}),a.jsx("p",{style:{marginBottom:20},children:"  ,  , /     ."}),a.jsx("div",{style:{marginBottom:18},children:a.jsx("button",{type:"button",onClick:()=>t("/admin/class-notice"),style:{padding:"10px 14px",borderRadius:10,border:"none",background:"#111827",color:"#fff",fontSize:14,fontWeight:800,cursor:"pointer",boxShadow:"0 6px 16px rgba(0,0,0,0.10)"},children:"   "})}),a.jsxs("div",{style:{marginBottom:20,padding:16,borderRadius:12,background:"#FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.04)"},children:[a.jsx("h3",{style:{marginBottom:8,color:"#1D3557"},children:"  "}),a.jsxs("div",{style:{marginBottom:8},children:[a.jsx("label",{style:{fontSize:13,display:"block",marginBottom:4},children:" "}),a.jsxs("div",{style:{display:"flex",gap:8},children:[a.jsx("input",{style:{flex:1,padding:8,borderRadius:6,border:"1px solid #ccc"},value:v,onChange:b=>y(b.target.value),placeholder:": "}),a.jsx("button",{type:"button",onClick:()=>{uC(v||""),alert("  .")},style:{padding:"8px 12px",borderRadius:6,border:"none",background:"#1D3557",color:"#fff",fontSize:13,cursor:"pointer"},children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:13,display:"block",marginBottom:4},children:"   "}),a.jsx("textarea",{style:{width:"100%",minHeight:80,padding:8,borderRadius:6,border:"1px solid #ccc",resize:"vertical"},value:C,onChange:b=>E(b.target.value),placeholder:"     ."}),a.jsx("button",{type:"button",onClick:()=>{dC(C||""),alert("  .")},style:{marginTop:8,padding:"8px 12px",borderRadius:6,border:"none",background:"#457B9D",color:"#fff",fontSize:13,cursor:"pointer"},children:" "})]}),a.jsxs("div",{style:{marginTop:14},children:[a.jsx("label",{style:{fontSize:13,display:"block",marginBottom:4},children:"   (URL)"}),a.jsxs("div",{style:{display:"flex",gap:8},children:[a.jsx("input",{style:{flex:1,padding:8,borderRadius:6,border:"1px solid #ccc"},value:m,onChange:b=>p(b.target.value),placeholder:": https://... (PDF/ )"}),a.jsx("button",{type:"button",onClick:()=>{hC(m||""),alert("  .")},style:{padding:"8px 12px",borderRadius:6,border:"none",background:"#457B9D",color:"#fff",fontSize:13,cursor:"pointer",whiteSpace:"nowrap"},children:""})]}),a.jsx("div",{style:{marginTop:6,fontSize:12,color:"#666"},children:"           ."})]}),a.jsxs("div",{style:{marginTop:16},children:[a.jsx("h4",{style:{marginBottom:6,color:"#1D3557"},children:"  "}),a.jsx("input",{style:{width:"100%",padding:8,borderRadius:6,border:"1px solid #ccc",marginBottom:6},placeholder:" ",value:l,onChange:b=>c(b.target.value)}),a.jsx("textarea",{style:{width:"100%",minHeight:70,padding:8,borderRadius:6,border:"1px solid #ccc",resize:"vertical"},placeholder:"      .",value:u,onChange:b=>h(b.target.value)}),a.jsx("button",{type:"button",onClick:()=>{oC(l||"",u||""),alert("   . (   .)")},style:{marginTop:8,padding:"8px 12px",borderRadius:6,border:"none",background:"#E76F51",color:"#fff",fontSize:13,cursor:"pointer"},children:" "})]}),a.jsxs("div",{style:{marginTop:16},children:[a.jsx("h4",{style:{marginBottom:6,color:"#1D3557"},children:" "}),a.jsx("p",{style:{fontSize:12,marginBottom:6},children:"      . (  8395  .)"}),a.jsx("button",{type:"button",onClick:vo,style:{padding:"8px 12px",borderRadius:6,border:"none",background:"#264653",color:"#fff",fontSize:13,cursor:"pointer"},children:"  "})]})]}),a.jsxs("div",{style:{marginBottom:20,padding:16,borderRadius:12,background:"#FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.04)"},children:[a.jsx("h3",{style:{marginBottom:8,color:"#1D3557"},children:" "}),a.jsx("p",{style:{fontSize:12,marginBottom:12,color:"#555"},children:"      .        ."}),We.map(b=>a.jsxs("div",{style:{marginBottom:12},children:[a.jsxs("div",{style:{fontWeight:"bold",marginBottom:4},children:[qt(b),"  "]}),a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:4,flexWrap:"wrap",fontSize:12},children:[a.jsx("span",{style:{alignSelf:"center"},children:" :"}),a.jsx("button",{type:"button",onClick:()=>Or(b,"manual"),style:{padding:"6px 10px",borderRadius:999,border:w[b]==="manual"?"2px solid #2E7D32":"1px solid #ccc",background:w[b]==="manual"?"#E8F5E9":"#fff",color:"#2E7D32",fontWeight:"bold",cursor:"pointer"},children:"()"}),a.jsx("button",{type:"button",onClick:()=>Or(b,"all"),style:{padding:"6px 10px",borderRadius:999,border:w[b]==="all"?"2px solid #1E88E5":"1px solid #ccc",background:w[b]==="all"?"#E3F2FD":"#fff",color:"#1E88E5",fontWeight:"bold",cursor:"pointer"},children:""}),a.jsx("button",{type:"button",onClick:()=>Or(b,"closed"),style:{padding:"6px 10px",borderRadius:999,border:w[b]==="closed"?"2px solid #D32F2F":"1px solid #ccc",background:w[b]==="closed"?"#FFEBEE":"#fff",color:"#D32F2F",fontWeight:"bold",cursor:"pointer"},children:"()"})]}),a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:4},children:[a.jsx("input",{style:{flex:1,padding:8,borderRadius:6,border:"1px solid #ccc"},placeholder:" ",value:g[b]||"",onChange:T=>x(L=>({...L,[b]:T.target.value}))}),a.jsx("button",{type:"button",onClick:()=>tr(b),style:{padding:"8px 12px",borderRadius:6,border:"none",background:"#2E7D32",color:"#fff",fontWeight:"bold",cursor:"pointer"},children:""}),a.jsx("button",{type:"button",onClick:()=>nr(b),style:{padding:"8px 12px",borderRadius:6,border:"none",background:"#D32F2F",color:"#fff",fontWeight:"bold",cursor:"pointer"},children:""})]}),S[b]&&S[b].length>0&&a.jsxs("div",{style:{fontSize:12,color:"#333"},children:[a.jsx("span",{children:"   : "}),S[b].join(", ")]})]},b)),a.jsx("div",{style:{fontSize:11,color:"#777",marginTop:8},children:"*     .        ."}),a.jsxs("div",{style:{marginTop:18},children:[a.jsx("h4",{style:{marginBottom:6},children:"() "}),(!bn||bn.length===0)&&a.jsx("p",{style:{fontSize:12,color:"#666"},children:"  ."}),bn&&bn.length>0&&a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:12},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"left",padding:4},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"center",padding:4},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"center",padding:4},children:""})]})}),a.jsx("tbody",{children:bn.map(b=>a.jsxs("tr",{children:[a.jsx("td",{style:{borderBottom:"1px solid #eee",padding:4},children:b.name||b.uid}),a.jsx("td",{style:{borderBottom:"1px solid #eee",padding:4,textAlign:"center"},children:a.jsx("button",{type:"button",onClick:()=>Ea(b.uid,b.name),style:{padding:"4px 8px",borderRadius:8,border:"none",background:"#457B9D",color:"#fff",fontSize:11,cursor:"pointer"},children:""})}),a.jsx("td",{style:{borderBottom:"1px solid #eee",padding:4,textAlign:"center"},children:a.jsx("button",{type:"button",onClick:()=>ka(b.uid,b.name),style:{padding:"4px 8px",borderRadius:8,border:"none",background:"#B71C1C",color:"#fff",fontSize:11,cursor:"pointer"},children:""})})]},b.uid))})]})]})]}),a.jsxs("div",{style:{marginBottom:20,padding:16,borderRadius:12,background:"#FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.04)"},children:[a.jsx("h3",{style:{marginBottom:8,color:"#1D3557"},children:"    "}),a.jsxs("p",{style:{fontSize:12,marginBottom:12,color:"#555"},children:["    . ",a.jsx("strong",{children:"     ."})]}),We.map(b=>{const T=A&&A[b]||{},L=Object.entries(T||{}).map(([K,ye])=>({key:K,name:ye&&ye.name||K})).filter(K=>K.name&&K.name.toString().trim().length>0);L.map(K=>(K.name||"").toString().trim()).filter(Boolean);async function U(K){try{await Vw(Pr,b,K)}catch(ye){alert(ye&&ye.message?ye.message:"    .")}}async function Se(){try{await Yw(Pr,b)}catch(K){alert(K&&K.message?K.message:"     .")}}return a.jsxs("div",{style:{marginBottom:12,fontSize:13},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6},children:[a.jsx("div",{style:{fontWeight:"bold"},children:qt(b)}),a.jsx("button",{type:"button",onClick:Se,disabled:L.length===0,style:{padding:"4px 10px",borderRadius:8,border:"1px solid #2a9d8f",background:L.length===0?"#f3f3f3":"#2a9d8f",color:L.length===0?"#999":"#fff",cursor:L.length===0?"not-allowed":"pointer",fontSize:12},title:"     .",children:" "})]}),L.length===0&&a.jsx("div",{style:{color:"#777"},children:" ."}),L.length>0&&a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:L.map(K=>a.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:6,padding:"4px 8px",border:"1px solid #ddd",borderRadius:999,background:"#fafafa"},children:[a.jsx("span",{children:(K.name||"").toString().trim()}),a.jsx("button",{type:"button",onClick:()=>U(K.key),style:{padding:"2px 8px",borderRadius:999,border:"1px solid #457B9D",background:"#457B9D",color:"#fff",fontSize:11,cursor:"pointer"},title:"  .",children:""})]},K.key))})]},b)})]}),a.jsxs("div",{style:{marginBottom:20,padding:16,borderRadius:12,background:"#FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.04)"},children:[a.jsx("h3",{style:{marginBottom:8,color:"#1D3557"},children:"   ( 3)"}),a.jsxs("p",{style:{fontSize:12,marginBottom:12,color:"#555"},children:["       . ",a.jsx("strong",{children:"  3 ."})]}),H.length===0&&a.jsx("div",{style:{fontSize:13,color:"#777"},children:" 3    ."}),H.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{marginBottom:8,display:"flex",alignItems:"center",gap:8},children:[a.jsx("span",{style:{fontSize:13},children:"  :"}),a.jsx("select",{value:q,onChange:sn,style:{padding:"4px 8px",borderRadius:6,border:"1px solid #ccc",fontSize:13},children:H.map(b=>a.jsx("option",{value:b,children:b},b))})]}),$&&a.jsx("div",{style:{fontSize:12,color:"#777"},children:" ..."}),P&&a.jsx("div",{style:{fontSize:12,color:"#E63946"},children:P}),!$&&!P&&q&&a.jsx("div",{style:{marginTop:8},children:We.map(b=>{const T=de&&de[b]||{},L=Object.values(T||{}).map(U=>U&&U.name).filter(U=>U&&U.trim().length>0);return a.jsxs("div",{style:{marginBottom:8,fontSize:13},children:[a.jsx("div",{style:{fontWeight:"bold",marginBottom:4},children:qt(b)}),L.length===0&&a.jsx("div",{style:{color:"#777"},children:" ."}),L.length>0&&a.jsx("div",{children:L.join(", ")})]},b)})})]})]}),a.jsxs("div",{style:{marginBottom:16},children:[a.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginBottom:10},children:[We.map(b=>a.jsxs("button",{onClick:()=>Br(b),style:{padding:"8px 12px",borderRadius:8,border:"none",background:"#E63946",color:"#fff",fontWeight:"bold",cursor:"pointer"},title:"   ()",children:[qt(b),"  "]},b)),a.jsx("button",{onClick:Ui,style:{padding:"8px 16px",borderRadius:8,border:"none",background:"#B91C1C",color:"#fff",fontWeight:"bold",cursor:"pointer",marginLeft:4},title:"   ()",children:"  "}),a.jsx("button",{onClick:gt,style:{padding:"8px 16px",borderRadius:8,border:"1px solid #0B8457",background:"#fff",color:"#0B8457",fontWeight:"bold",cursor:"pointer"},title:"3   ( )",children:"3   "})]}),a.jsx("button",{onClick:_o,style:{padding:"8px 16px",borderRadius:8,border:"none",background:"#1D3557",color:"#fff",fontWeight:"bold",cursor:"pointer",marginRight:8},children:"   "})]}),a.jsxs("div",{style:{marginTop:24,padding:16,borderRadius:12,background:"#FFFFFF",boxShadow:"0 4px 10px rgba(0,0,0,0.06)"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[a.jsx("h3",{style:{margin:0},children:"    "}),a.jsx("button",{onClick:()=>R(!Mr),style:{padding:"6px 12px",borderRadius:8,border:"1px solid #1D3557",background:Mr?"#f1f1f1":"#fff",color:"#1D3557",fontSize:12,fontWeight:"bold",cursor:"pointer"},children:Mr?" ":" "})]}),Mr&&a.jsxs(a.Fragment,{children:[a.jsx("p",{style:{fontSize:12,marginBottom:10},children:"         ."}),We.map(b=>a.jsxs("div",{style:{marginBottom:16},children:[a.jsx("h4",{style:{marginBottom:6},children:qt(b)}),(!s[b]||s[b].length===0)&&a.jsx("p",{style:{fontSize:12,color:"#666"},children:"  ."}),s[b]&&s[b].length>0&&a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:12},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"left",padding:4},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"right",padding:4},children:" "}),a.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"right",padding:4},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"center",padding:4},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"center",padding:4},children:" "})]})}),a.jsx("tbody",{children:s[b].map(T=>a.jsxs("tr",{children:[a.jsx("td",{style:{borderBottom:"1px solid #eee",padding:4},children:T.name}),a.jsx("td",{style:{borderBottom:"1px solid #eee",padding:4,textAlign:"right"},children:T.chapters}),a.jsxs("td",{style:{borderBottom:"1px solid #eee",padding:4,textAlign:"right"},children:[T.progress,"%"]}),a.jsx("td",{style:{borderBottom:"1px solid #eee",padding:4,textAlign:"center"},children:(()=>{const L=T.stateLabel||" ",U=T.stateKey||"",Se=U==="success"||L.includes(""),K=U==="ready"||L.includes(""),ye=U==="running"||L.includes("");if(U==="fail"||L.includes("!"),K)return a.jsx("span",{style:{color:"#166534",fontWeight:600},children:L});const Fe={display:"inline-block",borderRadius:8,padding:"4px 16px",fontWeight:600,backgroundColor:Se?"#DCFCE7":ye?"#DBEAFE":"#E5E7EB",color:Se?"#166534":ye?"#1D4ED8":"#111827"};return a.jsx("span",{style:Fe,children:L})})()}),a.jsx("td",{style:{borderBottom:"1px solid #eee",padding:4,textAlign:"center"},children:a.jsx("button",{type:"button",onClick:()=>Wi(T.uid,T.name),style:{padding:"4px 8px",borderRadius:8,border:"none",background:"#8D99AE",color:"#fff",fontSize:11,cursor:"pointer"},children:" 0000"})})]},T.uid))})]})]},b))]}),a.jsxs("div",{style:{marginTop:16},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6},children:[a.jsx("h4",{style:{margin:0},children:" "}),a.jsx("button",{onClick:()=>le(!X),style:{padding:"4px 10px",borderRadius:8,border:"1px solid #1D3557",background:X?"#f1f1f1":"#fff",color:"#1D3557",fontSize:11,fontWeight:"bold",cursor:"pointer"},children:X?" ":" "})]}),X&&a.jsxs(a.Fragment,{children:[(!rr||rr.length===0)&&a.jsx("p",{style:{fontSize:12,color:"#666"},children:"  ."}),rr&&rr.length>0&&a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:12},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"left",padding:4},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"center",padding:4},children:" "}),a.jsx("th",{style:{borderBottom:"1px solid #ccc",textAlign:"center",padding:4},children:""})]})}),a.jsx("tbody",{children:rr.map(b=>a.jsxs("tr",{children:[a.jsx("td",{style:{borderBottom:"1px solid #eee",padding:4},children:b.name||b.uid}),a.jsx("td",{style:{borderBottom:"1px solid #eee",padding:4,textAlign:"center"},children:a.jsx("button",{type:"button",onClick:()=>Wi(b.uid,b.name),style:{padding:"4px 8px",borderRadius:8,border:"none",background:"#8D99AE",color:"#fff",fontSize:11,cursor:"pointer"},children:" 0000"})}),a.jsx("td",{style:{borderBottom:"1px solid #eee",padding:4,textAlign:"center"},children:a.jsx("button",{type:"button",onClick:()=>Ca(b.uid,b.name),style:{padding:"4px 8px",borderRadius:8,border:"none",background:"#E63946",color:"#fff",fontSize:11,cursor:"pointer"},children:""})})]},b.uid))})]})]})]})]}),a.jsxs("div",{style:{marginTop:24,padding:16,borderRadius:12,background:"#FFFFFF",boxShadow:"0 4px 10px rgba(0,0,0,0.06)"},children:[a.jsx("h3",{style:{marginTop:0,marginBottom:10},children:"   "}),a.jsx("p",{style:{fontSize:12,marginBottom:10,color:"#555"},children:"     ,      .         ."}),a.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginBottom:8},children:[a.jsx("input",{type:"number",value:be,onChange:b=>$e(Number(b.target.value)||0),placeholder:"(: 2025)",style:{width:110,padding:6,borderRadius:8,border:"1px solid #ccc"}}),a.jsx("input",{type:"number",value:Ne,onChange:b=>{const T=Number(b.target.value)||0,L=Math.min(12,Math.max(1,T));Je(L)},placeholder:"(1~12)",style:{width:80,padding:6,borderRadius:8,border:"1px solid #ccc"}}),a.jsx("input",{type:"text",value:W,onChange:b=>G(b.target.value),placeholder:" ",style:{flex:1,minWidth:120,padding:6,borderRadius:8,border:"1px solid #ccc"}}),a.jsxs("select",{value:Ft,onChange:b=>Fi(b.target.value),style:{width:140,padding:6,borderRadius:8,border:"1px solid #ccc"},children:[a.jsx("option",{value:"gold",children:" "}),a.jsx("option",{value:"silver",children:" "}),a.jsx("option",{value:"bronze",children:" "}),a.jsx("option",{value:"none",children:" "})]})]}),a.jsx("button",{onClick:Hi,disabled:Nr,style:{padding:"8px 16px",borderRadius:8,border:"none",background:Nr?"#A8A8A8":"#1D3557",color:"#fff",fontWeight:"bold",cursor:"pointer"},children:Nr?" ...":"    "})]}),a.jsxs("div",{style:{marginBottom:20,padding:16,borderRadius:12,background:"#FFFFFF",boxShadow:"0 4px 12px rgba(0,0,0,0.04)"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:14},children:[a.jsx("h3",{style:{margin:0,color:"#1D3557"},children:"    ()"}),a.jsxs("div",{style:{display:"flex",gap:8},children:[a.jsx("button",{onClick:Yi,style:{padding:"8px 14px",borderRadius:8,border:"none",background:"#2A9D8F",color:"#fff",fontSize:13,fontWeight:"bold",cursor:"pointer"},children:"    "}),a.jsx("button",{onClick:()=>Sa(!er),style:{padding:"8px 14px",borderRadius:8,border:"1px solid #1D3557",background:er?"#f1f1f1":"#fff",color:"#1D3557",fontSize:13,fontWeight:"bold",cursor:"pointer"},children:er?" ":" "})]})]}),er&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{marginBottom:16},children:[a.jsx("label",{style:{fontSize:13,marginRight:8},children:" :"}),a.jsxs("select",{value:po,onChange:b=>Vi(b.target.value),style:{padding:"6px 10px",borderRadius:8,border:"1px solid #ccc"},children:[a.jsx("option",{value:"",children:"--   --"}),Oi.map(b=>a.jsx("option",{value:b,children:b},b))]})]}),xa&&a.jsx("p",{children:"  ..."}),mo&&a.jsx("div",{style:{overflowX:"auto"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:13},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{background:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[a.jsx("th",{style:{padding:10,textAlign:"left"},children:""}),a.jsx("th",{style:{padding:10,textAlign:"left"},children:""}),a.jsx("th",{style:{padding:10,textAlign:"center"},children:" "}),a.jsx("th",{style:{padding:10,textAlign:"center"},children:""}),a.jsx("th",{style:{padding:10,textAlign:"center"},children:""}),a.jsx("th",{style:{padding:10,textAlign:"center"},children:" "})]})}),a.jsx("tbody",{children:Object.values(mo).sort((b,T)=>b.crew.localeCompare(T.crew)||b.name.localeCompare(T.name)).map(b=>a.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[a.jsx("td",{style:{padding:10},children:b.crew}),a.jsx("td",{style:{padding:10,fontWeight:"bold"},children:b.name}),a.jsxs("td",{style:{padding:10,textAlign:"center"},children:[b.chapters,""]}),a.jsxs("td",{style:{padding:10,textAlign:"center"},children:[b.progress,"%"]}),a.jsx("td",{style:{padding:10,textAlign:"center"},children:a.jsx("span",{style:{padding:"2px 6px",borderRadius:4,fontSize:11,color:"#fff",background:b.stateLabel===""?"#2E7D32":b.stateLabel===""?"#1E88E5":"#D32F2F"},children:b.stateLabel})}),a.jsxs("td",{style:{padding:10,textAlign:"center"},children:[b.totalMedals,""]})]},b.uid))})]})})]})]}),a.jsxs("div",{style:{marginBottom:20,padding:16,borderRadius:12,background:"#ffffff",boxShadow:"0 4px 12px rgba(0,0,0,0.04)"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:14},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[a.jsx("h3",{style:{margin:0,color:"#1D3557"},children:"    ( 1 )"}),a.jsx("select",{value:zi,onChange:b=>{const T=Number(b.target.value);$i(T),Gi(T)},style:{padding:"4px 8px",borderRadius:8,border:"1px solid #ccc",fontSize:13},children:[2024,2025,2026,2027].map(b=>a.jsxs("option",{value:b,children:[b,""]},b))})]}),a.jsxs("div",{style:{display:"flex",gap:8},children:[a.jsx("button",{onClick:()=>Gi(),style:{padding:"6px 12px",borderRadius:8,border:"1px solid #457B9D",background:"#fff",color:"#457B9D",fontSize:12,cursor:"pointer"},children:"  "}),a.jsx("button",{onClick:()=>wa(!Fr),style:{padding:"6px 12px",borderRadius:8,border:"1px solid #1D3557",background:Fr?"#f1f1f1":"#fff",color:"#1D3557",fontSize:12,fontWeight:"bold",cursor:"pointer"},children:Fr?" ":" "})]})]}),Fr&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{display:"flex",gap:6,marginBottom:16,flexWrap:"wrap"},children:[a.jsx("button",{onClick:()=>rn("all"),style:gc(Ct==="all"),children:" "}),a.jsx("button",{onClick:()=>rn("full"),style:gc(Ct==="full"),children:" 1  "}),We.map(b=>a.jsxs("button",{onClick:()=>rn(b),style:gc(Ct===b),children:[qt(b)," "]},b))]}),ba?a.jsx("p",{children:" ..."}):a.jsx("div",{style:{overflowX:"auto"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:13},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{background:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[a.jsx("th",{style:{padding:10,textAlign:"left"},children:""}),a.jsx("th",{style:{padding:10,textAlign:"center"},children:"  "}),a.jsx("th",{style:{padding:10,textAlign:"center"},children:" 1"}),a.jsx("th",{style:{padding:10,textAlign:"left",fontSize:11,color:"#666"},children:"  "})]})}),a.jsx("tbody",{children:Ta.map(b=>a.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[a.jsx("td",{style:{padding:10,fontWeight:"bold"},children:b.name}),a.jsxs("td",{style:{padding:10,textAlign:"center"},children:[Object.values(b.crews).reduce((T,L)=>T+L,0)," "]}),a.jsx("td",{style:{padding:10,textAlign:"center"},children:a.jsxs("span",{style:{padding:"4px 8px",borderRadius:20,background:b.totalBible>0?"#E9C46A":"#f0f0f0",color:b.totalBible>0?"#000":"#888",fontWeight:"bold",fontSize:12},children:[" ",b.totalBible,""]})}),a.jsx("td",{style:{padding:10,fontSize:11},children:Object.entries(b.crews).map(([T,L])=>a.jsxs("span",{style:{marginRight:8,display:"inline-block"},children:[T,"(",L,")"]},T))})]},b.name))})]})})]})]})]})}const gc=t=>({padding:"6px 12px",borderRadius:20,border:"1px solid #457B9D",background:t?"#457B9D":"#fff",color:t?"#fff":"#457B9D",fontSize:12,fontWeight:t?"bold":"normal",cursor:"pointer"});function FE(){const t=xn(),[e,n]=_.useState({}),[r,i]=_.useState(""),[s,o]=_.useState(!0),[l,c]=_.useState(""),[u,h]=_.useState(""),[d,f]=_.useState(!1),[v,y]=_.useState(""),[C,E]=_.useState("");_.useEffect(()=>{const w=bw(k=>n(k||{}));return()=>{typeof w=="function"&&w()}},[]);const m=_.useMemo(()=>e&&e[r]||null,[e,r]);_.useEffect(()=>{const w=m||{};o(!!w.enabled),c((w.title||"").toString()),h((w.content||"").toString()),y(""),E("")},[m,r]);const p=_.useMemo(()=>{const w=m==null?void 0:m.version;return parseInt(w||"0",10)||0},[m]),g=_.useMemo(()=>{const w=m==null?void 0:m.updatedAt;if(!w)return"";const k=new Date(w),S=k.getFullYear(),N=String(k.getMonth()+1).padStart(2,"0"),A=String(k.getDate()).padStart(2,"0"),I=String(k.getHours()).padStart(2,"0"),H=String(k.getMinutes()).padStart(2,"0");return`${S}-${N}-${A} ${I}:${H}`},[m]);async function x(){f(!0),y(""),E("");try{await Ew(r,{enabled:s,title:(l||"").trim(),content:(u||"").toString()}),y(". ( )"),setTimeout(()=>y(""),2e3)}catch(w){console.error("   ",w),E("   .")}finally{f(!1)}}return a.jsx("div",{style:{minHeight:"100vh",background:"#F8F9FF",padding:"22px 16px 40px",boxSizing:"border-box"},children:a.jsxs("div",{style:{maxWidth:760,margin:"0 auto"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[a.jsx("button",{onClick:()=>t("/admin"),style:{border:"none",background:"#111827",color:"#fff",borderRadius:12,padding:"10px 14px",fontWeight:700,cursor:"pointer"},children:"  "}),a.jsx("div",{style:{fontSize:20,fontWeight:900,color:"#111827"},children:"  "}),a.jsx("div",{style:{width:90}})]}),a.jsxs("div",{style:{marginTop:16,background:"#FFFFFF",borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.08)",border:"1px solid rgba(0,0,0,0.06)"},children:[a.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:10,alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[a.jsx("div",{style:{fontWeight:800,color:"#111827"},children:" "}),a.jsxs("select",{value:r,onChange:w=>i(w.target.value),style:{padding:"10px 12px",borderRadius:12,border:"1px solid rgba(0,0,0,0.18)",fontWeight:700},children:[a.jsx("option",{value:"all",style:{color:"#2563EB",fontWeight:900},children:"   "}),uh.map(w=>a.jsx("option",{value:w.crewKey,children:qt(w.crewKey)},w.crewKey))]})]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:10,fontWeight:800,color:"#111827"},children:[" ",a.jsx("input",{type:"checkbox",checked:s,onChange:w=>o(w.target.checked),style:{width:18,height:18}})]})]}),a.jsxs("div",{style:{marginTop:12,display:"flex",gap:12,flexWrap:"wrap"},children:[a.jsxs("div",{style:{fontSize:13,color:"#6B7280"},children:[" : ",a.jsx("b",{children:p})]}),g&&a.jsxs("div",{style:{fontSize:13,color:"#6B7280"},children:[" : ",g]})]}),a.jsxs("div",{style:{marginTop:14},children:[a.jsx("div",{style:{fontSize:14,fontWeight:800,color:"#111827",marginBottom:8},children:" ()"}),a.jsx("input",{value:l,onChange:w=>c(w.target.value),placeholder:":  ",style:{width:"100%",padding:"12px 14px",borderRadius:12,border:"1px solid rgba(0,0,0,0.18)",fontSize:15,boxSizing:"border-box"}})]}),a.jsxs("div",{style:{marginTop:14},children:[a.jsx("div",{style:{fontSize:14,fontWeight:800,color:"#111827",marginBottom:8},children:" "}),a.jsx("textarea",{value:u,onChange:w=>h(w.target.value),rows:10,placeholder:"     .\\n(   .)",style:{width:"100%",padding:"12px 14px",borderRadius:12,border:"1px solid rgba(0,0,0,0.18)",fontSize:15,lineHeight:1.6,boxSizing:"border-box",resize:"vertical"}})]}),a.jsxs("div",{style:{marginTop:14,display:"flex",gap:10,alignItems:"center"},children:[a.jsx("button",{onClick:x,disabled:d,style:{border:"none",background:d?"#9CA3AF":"#2563EB",color:"#fff",borderRadius:12,padding:"12px 14px",fontWeight:900,cursor:d?"not-allowed":"pointer",minWidth:120},children:d?"...":""}),v&&a.jsx("div",{style:{fontSize:14,color:"#065F46",fontWeight:800},children:v}),C&&a.jsx("div",{style:{fontSize:14,color:"#B91C1C",fontWeight:800},children:C})]}),a.jsxs("div",{style:{marginTop:18,background:"#F3F4F6",borderRadius:12,padding:12,fontSize:13,color:"#374151",lineHeight:1.6},children:[a.jsx("b",{children:" "}),a.jsxs("div",{children:["  ",a.jsx("b",{children:"ON"}),",  ,    ",a.jsx("b",{children:""}),"    ."]}),a.jsx("div",{children:"     +1 . (   )"})]})]})]})})}function ME(){const[t,e]=_.useState(""),n=xn();async function r(i){i.preventDefault();try{const s=await Zw(t);s&&s.ok&&n("/admin")}catch(s){alert(s&&s.message?s.message:"   .")}}return a.jsxs("div",{style:{minHeight:"100vh",background:"#E8F5E9",padding:24,textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center"},children:[a.jsx("h2",{style:{color:"#1B5E20",marginBottom:24,fontSize:26},children:" "}),a.jsxs("form",{onSubmit:r,style:{maxWidth:420,margin:"0 auto"},children:[a.jsx("input",{placeholder:"",type:"password",value:t,onChange:i=>e(i.target.value),style:{width:"100%",padding:16,borderRadius:10,border:"1px solid #ccc",marginBottom:14,fontSize:18}}),a.jsx("button",{type:"submit",style:{width:"100%",padding:16,borderRadius:10,background:"#1B5E20",color:"#fff",border:"none",fontSize:18},children:""}),a.jsx("div",{style:{marginTop:20},children:a.jsx("button",{type:"button",onClick:()=>n("/home"),style:{background:"none",border:"none",color:"#1565C0",cursor:"pointer",fontSize:14},children:"  "})})]})]})}function wn({src:t,alt:e}){return a.jsx("img",{src:t,alt:e,style:{width:34,height:34,objectFit:"contain",flexShrink:0},loading:"lazy"})}function yc(){return a.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",style:{width:18,height:18,verticalAlign:"middle"},children:[a.jsx("circle",{cx:"12",cy:"5",r:"2"}),a.jsx("circle",{cx:"12",cy:"12",r:"2"}),a.jsx("circle",{cx:"12",cy:"19",r:"2"})]})}function Mp(){return a.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",style:{width:18,height:18,verticalAlign:"middle"},children:a.jsx("path",{d:"M4 6h16M4 12h16M4 18h16",stroke:"currentColor",strokeWidth:"2"})})}function vc(){return a.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",style:{width:18,height:18,verticalAlign:"middle"},children:[a.jsx("path",{d:"M12 3v10",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M8 7l4-4 4 4",fill:"none",stroke:"currentColor",strokeWidth:"2"}),a.jsx("rect",{x:"5",y:"11",width:"14",height:"10",rx:"2",ry:"2",fill:"none",stroke:"currentColor",strokeWidth:"2"})]})}function Op(){return a.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",style:{width:18,height:18,verticalAlign:"middle"},children:[a.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"2"}),a.jsx("path",{d:"M12 7v10M7 12h10",stroke:"currentColor",strokeWidth:"2"})]})}function OE(){return a.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",style:{width:20,height:20,verticalAlign:"middle"},children:a.jsx("path",{d:"M12 4c-4.4 0-8 2.7-8 6s3.6 6 8 6c.5 0 1-.04 1.5-.12L17 19l-.8-3.2C18.3 14.7 20 12.9 20 10c0-3.3-3.6-6-8-6z",fill:"#3C1E1E"})})}function BE(){return a.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",style:{width:20,height:20,verticalAlign:"middle"},children:[a.jsx("rect",{x:"2",y:"2",width:"8",height:"8",rx:"1"}),a.jsx("rect",{x:"4",y:"4",width:"4",height:"4",fill:"currentColor"}),a.jsx("rect",{x:"14",y:"2",width:"8",height:"8",rx:"1"}),a.jsx("rect",{x:"16",y:"4",width:"4",height:"4",fill:"currentColor"}),a.jsx("rect",{x:"2",y:"14",width:"8",height:"8",rx:"1"}),a.jsx("rect",{x:"4",y:"16",width:"4",height:"4",fill:"currentColor"}),a.jsx("rect",{x:"12",y:"12",width:"2",height:"2"}),a.jsx("rect",{x:"15",y:"12",width:"2",height:"2"}),a.jsx("rect",{x:"18",y:"12",width:"2",height:"2"}),a.jsx("rect",{x:"12",y:"15",width:"2",height:"2"}),a.jsx("rect",{x:"14",y:"17",width:"2",height:"2"}),a.jsx("rect",{x:"18",y:"18",width:"2",height:"2"})]})}function LE(){const[t,e]=_.useState(null),n=({children:l})=>a.jsx("div",{style:{background:"#FFFFFF",border:"1px solid rgba(0,0,0,0.08)",borderRadius:14,padding:14,marginTop:12,boxShadow:"0 6px 18px rgba(0,0,0,0.06)"},children:l}),r=({left:l,children:c})=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,padding:"8px 0"},children:[l,a.jsx("div",{style:{flex:1,color:"#1B5E20",fontSize:16,lineHeight:1.35},children:c})]}),i=({children:l})=>a.jsx("div",{style:{fontWeight:800,color:"#1B5E20",marginTop:8,marginBottom:4,fontSize:16},children:l}),s=({kind:l,bg:c,fg:u,icon:h,label:d})=>{const f=t===l;return a.jsxs("button",{type:"button",onClick:()=>e(f?null:l),style:{width:"100%",maxWidth:320,padding:"14px 16px",borderRadius:14,border:"none",background:c,color:u,fontWeight:900,fontSize:20,display:"flex",alignItems:"center",justifyContent:"center",gap:10,cursor:"pointer"},children:[a.jsx("span",{style:{display:"inline-flex",alignItems:"center"},children:h}),a.jsx("span",{children:d})]})},o=a.jsx("span",{style:{margin:"0 6px",color:"#1B5E20",fontWeight:900},children:""});return a.jsxs("div",{style:{maxWidth:520,margin:"0 auto 18px auto"},children:[a.jsx("div",{style:{textAlign:"center",color:"#1B5E20",fontWeight:900,fontSize:18},children:"   "}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:10,marginTop:12},children:[a.jsx(s,{kind:"kakao",bg:"#FEE500",fg:"#3C1E1E",icon:a.jsx(OE,{}),label:"   "}),a.jsx(s,{kind:"qr",bg:"#1565c0",fg:"#fff",icon:a.jsx(BE,{}),label:"QR   "})]}),t==="kakao"&&a.jsxs(n,{children:[a.jsx(i,{children:"1:    "}),a.jsxs(r,{left:a.jsx(wn,{src:"/icons/galaxy.png",alt:""}),children:[a.jsx("strong",{children:"  "}),"     ",a.jsx(yc,{}),o,"  "]}),a.jsxs(r,{left:a.jsx(wn,{src:"/icons/apple.png",alt:""}),children:[a.jsx("strong",{children:""}),"    ",a.jsx(vc,{}),o," "]}),a.jsx(i,{children:"2:    "}),a.jsxs(r,{left:a.jsx(wn,{src:"/icons/samsung-internet.png",alt:""}),children:[a.jsx("strong",{children:""}),"    ",a.jsx(Mp,{}),o,a.jsx("strong",{children:"+ "})," ",a.jsx(Op,{}),o,""]}),a.jsxs(r,{left:a.jsx(wn,{src:"/icons/chrome.png",alt:""}),children:[a.jsx("strong",{children:""}),"     ",a.jsx(yc,{}),o," "]}),a.jsxs(r,{left:a.jsx(wn,{src:"/icons/safari.png",alt:""}),children:[a.jsx("strong",{children:""}),"    ",a.jsx(vc,{}),o," "]})]}),t==="qr"&&a.jsxs(n,{children:[a.jsx(i,{children:"   "}),a.jsxs(r,{left:a.jsx(wn,{src:"/icons/safari.png",alt:""}),children:[a.jsx("strong",{children:""}),"    ",a.jsx(vc,{}),o," "]}),a.jsxs(r,{left:a.jsx(wn,{src:"/icons/samsung-internet.png",alt:""}),children:[a.jsx("strong",{children:""}),"    ",a.jsx(Mp,{}),o,a.jsx("strong",{children:"+ "})," ",a.jsx(Op,{}),o,""]}),a.jsxs(r,{left:a.jsx(wn,{src:"/icons/chrome.png",alt:""}),children:[a.jsx("strong",{children:""}),"     ",a.jsx(yc,{}),o," "]})]})]})}function Bp({onLogin:t}){const[e,n]=_.useState(""),[r,i]=_.useState(""),[s,o]=_.useState({}),l=xn();_.useEffect(()=>{const f=fh(v=>o(v||{}));return()=>{typeof f=="function"&&f()}},[]);const c=s.churchName||"",u=s.appDescription||"  .",h=(s.bulletinUrl||"").trim();async function d(f){f.preventDefault();const v=e.trim(),y=(r??"").trim();if(!v){alert("  .");return}if(!/^[-A-Za-z]+$/.test(v)){alert(`     .
(//  )`);return}if(!y){alert(`  .
        .`);return}try{if(t){const E=await t(v,y);E&&E.mustChangePassword?l("/change-password"):l("/home")}}catch(E){alert(E&&E.message?E.message:" .")}}return a.jsxs("div",{style:{minHeight:"100vh",background:"#E8F5E9",padding:24,display:"flex",flexDirection:"column",justifyContent:"center"},children:[a.jsx(LE,{}),a.jsx("h1",{style:{textAlign:"center",color:"#1B5E20",marginBottom:18,fontSize:28},children:" "}),a.jsxs("form",{onSubmit:d,style:{maxWidth:480,margin:"0 auto"},children:[h?a.jsx("a",{href:h,target:"_blank",rel:"noopener noreferrer",style:{display:"block",width:"100%",padding:14,marginBottom:12,borderRadius:10,textAlign:"center",textDecoration:"none",background:"#1D3557",color:"#fff",fontSize:18,fontWeight:700},children:" "}):null,a.jsx("input",{placeholder:"",value:e,onChange:f=>n(f.target.value),style:{width:"100%",padding:16,borderRadius:10,border:"1px solid #ccc",marginBottom:14,fontSize:18}}),a.jsx("input",{placeholder:"",type:"password",value:r,onChange:f=>i(f.target.value),style:{width:"100%",padding:16,borderRadius:10,border:"1px solid #ccc",marginBottom:14,fontSize:18}}),a.jsx("button",{type:"submit",style:{width:"100%",padding:16,background:"#2E7D32",color:"#fff",border:"none",borderRadius:10,fontWeight:"bold",fontSize:18},children:""}),a.jsx("div",{style:{marginTop:20,textAlign:"center",color:"#1B5E20"},children:c}),a.jsx("p",{style:{textAlign:"center",whiteSpace:"pre-line",marginTop:20,color:"#1B5E20"},children:u})]})]})}function zE({user:t}){const[e,n]=_.useState(""),[r,i]=_.useState(""),s=xn();_.useEffect(()=>{(!t||!t.uid)&&s("/login")},[t,s]);async function o(l){if(l.preventDefault(),!e||!r){alert("   .");return}if(e!==r){alert("   .");return}try{await Xw(t.uid,e),alert(" ."),s("/home")}catch(c){alert(c&&c.message?c.message:"  .")}}return a.jsxs("div",{style:{minHeight:"100vh",background:"#E3F2FD",padding:20},children:[a.jsx("h2",{style:{textAlign:"center",color:"#1565C0",marginBottom:16},children:" "}),a.jsx("p",{style:{textAlign:"center",marginBottom:24},children:"       ."}),a.jsxs("form",{onSubmit:o,style:{maxWidth:400,margin:"0 auto",background:"#fff",padding:20,borderRadius:12,boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},children:[a.jsxs("div",{style:{marginBottom:12},children:[a.jsx("label",{style:{display:"block",marginBottom:4,fontSize:14},children:" "}),a.jsx("input",{type:"password",value:e,onChange:l=>n(l.target.value),style:{width:"100%",padding:10,borderRadius:6,border:"1px solid #ccc"}})]}),a.jsxs("div",{style:{marginBottom:20},children:[a.jsx("label",{style:{display:"block",marginBottom:4,fontSize:14},children:"  "}),a.jsx("input",{type:"password",value:r,onChange:l=>i(l.target.value),style:{width:"100%",padding:10,borderRadius:6,border:"1px solid #ccc"}})]}),a.jsx("button",{type:"submit",style:{width:"100%",padding:12,borderRadius:6,border:"none",background:"#1565C0",color:"#fff",fontWeight:"bold",cursor:"pointer"},children:"  "})]})]})}function $E(){const[t,e]=_.useState(null);return _.useEffect(()=>{const n=fh(r=>{e(r||{})});return()=>{typeof n=="function"&&n()}},[]),t}const Lp={:{1:" ",2:" ",3:"    ",4:" ",5:" ",6:" ",7:"",8:" ",9:"   ",10:"  ( 1:5-23)",11:"",12:"  ",13:"   ",14:"  ",15:"   ",16:" ",17:": ",18:"  ",19:" ",20:" ",21:"  ",22:"   ",23:"   ",24:"   ",25:" ",26:"  ",27:"  ",28:"   ",29:"   ",30:"   ",31:"  ",32:"    ",33:"  ",34:"   ",35:"   ",36:" ( 1:34-37)",37:" ",38:" ",39:"  ",40:"   ",41:"   ",42:"   ",43:"    ",44:" ",45:"   ",46:"   ",47:"  ",48:"   ",49:"  ",50:"  "},:{2:" ",3:"  ",4:"   ",5:"    ",6:"  ",7:"   ",8:"  :  ",9:"  :  ",10:"  :   ",11:"    ",12:"",13:"",14:" ",15:" ",16:" ",17:"  ( 20:1-13)",18:"  ",19:"    ",20:"( 5:1-21)",21:"  ( 15:12-18)",22:"  ",23:"  ",24:"   ",25:"  ",26:"( 36:8-38)",27:"( 38:1-7)",28:" ( 39:1-7)",29:"  ( 8:1-36)",30:" ( 37:25-28)",31:"   ( 35:30-36:1)",32:" ( 9:6-29)",33:"   ",34:"  ( 10:1-5)",35:" ",36:"   ",37:" ( 25:10-22)",38:" ( 27:1-8)",39:"  ( 28:1-14)",40:" "},:{2:" ",3:" ",4:"  ",5:"  ",6:"  ",7:"  ",8:"    ",9:"   ",10:"    ",11:"   ",12:"    ",13:"    ",14:"    ",15:"  ",16:"",17:"  ",18:"   ",19:" ",20:"   ",21:"   ",22:"  ",23:"   ",24:"   ",25:"",26:" ",27:"  "},:{1:"   ",2:"    ",3:" ",4:"  ",5:"  ",6:" ",7:"   ",8:"   ",9:"  ",10:" ",11:"",12:"  ",13:"  ( 1:19-33)",14:" ",15:"  ",16:"   ",17:" ",18:"  ",19:"  ",20:"   ( 17:1-7)",21:" ",22:"   ",23:"   ",24:"  ",25:"  ",26:"   ",27:" ",28:"  ( 29:38-46)",29:"  ( 23:23-25)",30:"  ",31:"   ",32:"   ( 3:12-22)",33:" ",34:"  ",35:"   ",36:"   "},:{1:"  ( 18:13-17)",2:"   ",3:"    ( 21:21-35)",4:"   ",5:"( 20:1-17)",6:"   ",7:"  ( 34:11-16)",8:"   ",9:" ",10:"   ( 34:1-10)",11:"   ",12:"  ",14:" ",15:"   ( 25:1-7)",16:"( 12:1-20)",17:" ",18:"   ",19:"( 35:9-28;  20:1-9)",20:"   ",21:"   ",22:"  ",23:"   ",24:" ",25:"   ",26:" ",27:"   ",28:"  ( 26:3-13;  7:12-24)",29:"   ",30:"  ",31:"   ",33:" ",34:" "},:{1:"   ",2:"   ",3:"   ",4:"   ",5:"   ",6:"  ",7:" ",8:"  ",9:"   ",10:"  ",11:"  ",12:"  ",13:"  ",14:"   ",15:"  ",16:"    ",17:"   ",18:"  ",19:"  ",20:"",21:"  ",22:"   ",23:"  ",24:"    "},:{1:"    ",2:"   ",3:"    ",4:" ",5:"  ",6:" ",7:"  ",8:"   ",9:"",10:" ",11:" ",12:"  ",13:" ",14:"  ",15:"  ",16:"  ",17:"  ",18:"  ",19:"    ",20:"   ",21:"  "},:{1:"   ",2:"  ",3:"  ",4:"  "},:{1:" ",2:" ",3:"  ",4:" ",5:"   ",6:" ",7:"  ",8:"  ",9:"  ",10:"  ",11:"   ",12:"  ",13:"  ",14:"  ",15:"  ",16:"   ",17:"   ",18:"   ",19:"   ",20:"  ",21:"   ",22:"   ",23:"  ",24:"   ",25:" ",26:"    ",27:"   ",28:"   ",29:"    ",30:"  ",31:"  ( 10:1-14)"},:{1:"     ",2:"   ",3:" ( 3:1-4)",4:" ",5:"    ( 11:1-3)",6:"    ( 13:1-14; 15:25-16:6, 43)",7:"   ( 17:1-15)",8:"   ( 18:1-17)",9:" ",10:"  ( 19:1-19)",11:" ",12:"   ",13:" ",14:"  ",15:" ",16:" ",17:"    ",18:" ",19:"  ",20:" ",21:"     ",22:" (",23:"  ",24:" ( 21:1-27)"},:{1:"   ",2:"   ",3:"  ( 1:3-12)",4:"  ",5:"   ( 2:1-18)",6:"  ",7:" ",8:"  ( 5:2-6:2)",9:"   ",10:"   ( 9:1-12)",11:"   ",12:"  ( 10:1-19)",13:"  ",14:"  ",15:"  ( 13:1-14:1)",16:"  ",17:" ",18:"  ",19:"  ",20:"  ",21:" ",22:"   ( 18:2-27)"},:{2:"  ",3:"  ",4:"  ",5:"  ",6:" ",7:"  ",8:"  ",9:"   ",10:"  ",11:"  ( 22:10-23:15)",12:"  ( 24:1-16)",13:"  ",14:"  ( 25:1-24)",15:"  ( 26:1-23)",16:"  ( 28:1-27)",17:"  ",18:"  ( 29:1-2; 31:1)",19:"    ( 37:1-7)",20:"  ( 32:24-26;  38:1-8, 21-22)",21:"  ( 33:1-20)",22:"  ( 34:1-2)",23:"   ( 34:3-7, 29-33)",24:"  ( 36:9-10)",25:" ( 36:13-21;  52:3-11)"},:{1:" ( 25:12-16)",2:" ",3:"   ",4:" ",5:" ",6:" ",7:" ",8:" ",9:"   ",10:"  ( 31:1-13)",11:"    ( 5:1-10)",12:"    ",13:"  ( 6:1-11)",14:"  ( 5:11-16)",15:"   ",16:" ( 105:1-15; 96:1-13; 106:47-48)",17:"    ( 7:1-17)",18:"  ( 8:1-18)",19:"   ( 10:1-19)",20:"  ( 12:26-31)",21:"  ( 24:1-25)",22:"  ",23:"  ",24:"   ",25:"  ",26:" ",27:"   ",28:"   ",29:"   "},:{1:" ( 10:26-29)",2:"  ( 5:1-18)",3:" ( 7:15-22)",4:"   ( 7:23-51)",5:"  ( 8:1-9)",6:" ( 8:12-21)",7:" ( 8:62-66)",8:" ( 9:10-28)",9:"   ( 10:1-13)",10:"  ( 12:1-20)",11:"   ( 12:21-24)",12:"  ( 14:25-28)",13:"  ( 15:1-8)",14:"   ",15:" ",16:"  ( 15:17-22)",17:"   ",18:"    ( 22:1-28)",19:"   ",20:"  ",21:"  ( 8:17-24)",22:"  ( 8:25-29; 9:21-28)",23:"  ( 11:4-16)",24:"  ( 12:1-16)",25:"  ( 14:2-6)",26:"   ( 14:21-22; 15:1-7)",27:"  ( 15:32-38)",28:"  ( 16:1-5)",29:"    ( 18:1-3)",30:" ",31:" ",32:"   ( 18:13-37; 19:14-19, 35-37;  36:1-22; 37:8-38)",33:"  ( 21:1-9)",34:"   ( 22:1-2)",35:"  ( 23:21-23)",36:"  ( 23:30-35)"},:{1:"   ",2:" ( 7:4-73)",3:"   ",4:"   ",5:"   ",6:"    ",7:"  ",8:"   ",9:"  ",10:"     "},:{2:"  ",3:"  ",4:" ",5:"  ",6:"  ",7:"  ",9:"  ",10:"  ",11:"  ",12:"  ",13:" "},:{2:"  ",3:"    ",4:"   ",5:"    ",6:"   ",7:" ",8:"    ",9:"   ",10:"   "},:{1:"   ",2:"   ",3:"   ",4:"  ",6:" ",8:"  ",9:" ",11:"  ",12:" ",13:" ",15:"   ",16:" ",18:"   ",19:" ",20:"   ",21:" ",22:"   ",23:" ",25:"   ",26:" ",27:"    ",28:" ",29:"  ",32:"  (32:1-37:24)",33:"   ",38:"  ",42:" "},:{3:"       ",4:" ,     ",5:" ,     ",6:" ,       ",7:" ,       ",8:" ,     ",9:" ,     ",11:" ,    ",12:" ,      ",13:" ,    ",14:" ,    ",15:" ",16:" ",17:" ",18:"   ,    ,                  ",19:" ,    ",20:" ,    ",21:" ,    ",22:" ,     ",23:" ",24:" ",25:" ",26:" ",27:" ",28:" ",29:" ",30:" ,   ",31:" ,    ",32:" ",34:"       ",35:" ",36:"   ,    ",37:" ",38:"  ",39:" ,      ",40:" ,    ",41:" ,    ",44:"  ,    ",45:"  ,  ,     ",46:"  ,     ",47:"  ,    ",48:"    ",49:"  ,    ",50:" ",51:" ,    ,         ",52:" ,    ,           ",53:" ,     ",54:" ,     ,             ",55:" ,     ",56:"  ,       ,     ",57:"  ,     ,      ",58:"  ,     ",59:"  ,     ,         ",60:"    ,     ,                 ",61:" ,     ",62:" ,       ",63:" ,    ",64:" ,    ",65:" ,    ",66:",    ",67:"  ,     ",68:" ,    ",69:" ,     ",70:"      ",72:" ",74:" ",75:" ,     ",76:" ,     ",77:" ,       ",78:" ",79:" ",80:" ,     ",81:" ,     ",82:" ",83:"   ",84:"  ,     ",85:"  ,    ",86:" ",87:"    ",88:"       ,     ",89:"  ",98:"",100:" ",101:" ",102:"          ",103:" ",108:"  ",109:" ,    ",110:" ",120:"  ",121:"  ",122:"     ",123:"  ",124:"     ",125:"  ",126:"  ",127:"     ",128:"  ",129:"  ",130:"  ",131:"     ",132:"  ",133:"     ",134:"  ",138:" ",139:" ,    ",140:" ,    ",141:" ",142:"       ",143:" ",144:" ",145:" "},:{1:"  ",2:"  ",3:"  ",4:"  ",5:"   ",6:" ",7:"   ",8:"  ",9:" ",10:" ",25:" ",30:" ",31:"   "},:{1:"   ",2:" ",3:"   ",4:", , ",5:" ",7:"  ",8:" ",9:"     ",11:" ",12:" "},:{},:{1:" ",2:"   ",3:" ",4:"   ",5:" ",6:"  ",7:"    ",8:" ",9:" ",10:"  ",11:" ",12:" ",13:"  ",14:" ",15:"   ",16:"  ",17:"   ",18:"    ",19:"  ",20:"  ",21:"   ",22:"   ",23:"   ",24:"  ",25:"",26:"   ",28:"  ",29:"  ",30:"   ",32:"  ",33:"  ",34:"  ",35:" ",36:"  ( 18:13-27;  32:1-19)",37:"    ( 19:1-7)",38:"   ( 20:1-11;  32:24-26)",39:"  ( 20:12-19)",40:" ",41:"  ",42:" ",43:" ",44:"    ",45:"  ",47:" ",48:"   ",49:"  ",50:"  ",51:" ",52:"  ",54:"  ",55:" ",56:"  ",57:"  ",58:"  ",59:"   ",60:"  ",61:"  ",63:" ",65:"   ",66:"  "},:{1:"   ",2:" ",3:"  ",4:" ",5:"  ",6:"   ",7:"  ",8:" ",9:"    ",10:"    ",11:"   ",12:" ",13:" ",14:" ",15:"   ",16:"  ",17:"  ",18:" ",19:" ",20:" ",21:"     ",22:"   ",23:"  ",24:"   ",25:"     ",26:"    ",27:"   ",28:" ",29:"   ",30:"   ",31:"   ",32:"    ",33:"    ",34:"   ",35:"  ",36:"    ",37:"    ",38:"  ",39:" ( 25:1-12;  52:4-16)",40:"  ( 25:22-24)",42:"   ",43:"  ",44:"    ",45:"   ",46:"   ",47:"   ",48:" ",49:"  ",50:"  ",51:"  ",52:"  ( 24:18-25:7)"},:{2:"   ",3:", , ",4:"  ",5:"  "},:{2:"  ",3:" ( 33:1-9)",4:"  ",5:"   ",6:"   ",7:"  ",8:"  ",9:"   ",10:"   ",11:"  ",12:"    ",13:"  ",14:"   ",15:"     ",16:" ",17:"  ",18:"   ",19:"",20:" ,  ",21:" ",22:"  ",23:"  ",24:"  ",25:"  ",26:"  ",27:"  ",28:"   ",29:"  ",30:"  ",31:"   ",32:"   ",33:"   ( 3:16-21)",34:"   ",35:"   ",36:"  ",37:"  ",38:"  ",39:"  ",40:"   ",41:"  ",42:" ",43:"  ",44:"    ",45:" ",46:" ",47:"  ",48:"    "},:{2:" ",3:"  ",4:"    ",5:"   ",6:"   ",7:"  ",8:"  ",9:" ",10:"    ",11:"    ",12:""},:{1:"  ",2:" ",3:"   ",4:" ",5:"  ",6:"  ",7:"  ",8:"  ",9:"   ",10:"    ",11:"   ",12:"   ",13:"   ",14:"   "},:{1:"   ",2:"    ",3:"  "},:{1:"    ",2:"  ",3:"   ",4:"   ",5:"",6:" ",7:",  ",8:",    ",9:",   "},:{1:" "},:{1:" ",3:"  ",4:"   "},:{1:"   ",2:" ",3:"   ",4:"  ",5:"   ",6:"  ",7:" "},:{1:"   ",2:" "},:{1:" ",2:" ",3:" "},:{1:" ",2:"  ",3:"   "},:{1:"  "},:{1:"   ",2:"  ",3:"    ",4:"   ",5:" ",6:" ",7:"   ",8:"   ",9:"     ",10:"  ",11:" ",12:" ",13:"  ",14:"  "},:{1:"  ",2:"  ",3:"",4:"  "},:{1:"  ( 2:1-7)",2:"   ",3:"   ( 1:1-8;  3:1-18;  1:19-28)",4:" ( 1:12-13;  4:1-13)",5:"  ( 6:20-23)",6:"  ",7:" ( 6:37-38, 41-42)",8:"  ( 1:40-45;  5:12-16)",9:" ( 2:1-12;  5:17-26)",10:"  ( 3:13-19;  6:12-16)",11:" ( 7:18-35)",12:"   ( 2:23-28;  6:1-5)",13:"     ( 4:1-9;  8:4-8)",14:"  ( 6:14-29;  9:7-9)",15:" ( 7:1-23)",16:"   ( 8:11-13;  12:54-56)",17:"  ( 9:2-13;  9:28-36)",18:"  ( 9:33-37, 42-48;  9:46-48; 15:3-7; 17:1-2)",19:"  ( 10:1-12)",20:" ",21:" ( 11:1-11;  19:28-38;  12:12-19)",22:"  ( 14:15-24)",23:"  ( 12:38-40;  11:37-52; 20:45-47)",24:"   ( 13:1-2;  21:5-6)",25:"  ",26:"  ( 14:1-2;  22:1-2;  11:45-53)",27:"  ( 15:1;  23:1-2;  18:28-32)",28:"( 16:1-8;  24:1-12;  20:1-10)"},:{1:" ( 3:13-17;  3:21-22)",2:" ( 9:1-8;  5:17-26)",3:"    ( 12:9-14;  6:6-11)",4:"     ( 13:1-9;  8:4-8)",5:"   ( 8:28-34;  8:26-39)",6:"  ( 13:53-58;  4:16-30)",7:" ( 15:1-20)",8:"  ( 15:32-39)",9:"  ( 17:1-13;  9:28-36)",10:"  ( 19:1-12)",11:" ( 21:1-11;  19:28-40;  12:12-19)",12:"  ( 21:33-46;  20:9-19)",13:"   ( 24:1-2;  21:5-6)",14:"   ( 26:1-5;  22:1-2;  11:45-53)",15:"  ( 27:1-2, 11-14;  23:1-5;  18:28-38)",16:"( 28:1-10;  24:1-12;  20:1-18)"},:{1:"   ",2:" ( 1:18-25)",3:"  ( 3:1-12;  1:1-8;  1:19-28)",4:" ( 4:1-11;  1:12-13)",5:"  ( 4:18-22;  1:16-20)",6:"   ( 12:1-8;  2:23-28)",7:"  ( 8:5-13;  4:43-54)",8:"   ",9:"  ( 10:5-15;  6:7-13)",10:"   ( 11:20-24)",11:" ( 6:9-15; 7:7-11)",12:"  ( 10:26-33; 12:32; 10:19-20)",13:"  ",14:"   ",15:"    ( 18:12-14)",16:"   ",17:", ,   ( 18:6-7; 21:22;  9:42)",18:"  ",19:" ",20:"   ( 21:23-27;  11:27-33)",21:"  ( 12:41-44)",22:" ( 26:1-5, 14-16;  14:1-2, 10-11;  11:45-53)",23:"  ( 27:1-2, 11-14;  15:1-5;  18:28-38)",24:"   ( 16:12-13)"},:{1:"  ( 3:1-12;  1:7-8;  3:15-17)",2:" ",3:" ",4:"  ",5:"  ",6:"  ( 14:13-21;  6:30-44;  9:10-17)",7:"   ",8:"  ",9:"     ",10:"  ",11:"  ",12:"   ( 26:6-13;  14:3-9)",13:"  ",14:"    ",15:"   ",16:" ",17:"",18:"( 26:47-56;  14:43-50;  22:47-53)",19:"  ( 27:32-44;  15:21-32;  23:26-43)",20:"( 28:1-10;  16:1-8;  24:1-2)",21:"  "},:{1:"  ",2:" ",3:"      ",4:"    ",5:" ",6:"  ",7:" ",8:"  ",9:" ( 22:6-16; 26:12-18)",10:"  ",11:"   ",12:"   ",13:"  ",14:"   ",15:" ",16:"   ",17:"  ",18:"  ",19:"  ",20:"   ",21:"  ",22:" ( 9:1-19; 26:12-18)",23:"  ",24:" ",25:"  ",26:" ( 9:1-19; 22:6-16)",27:"  ",28:"  "},:{1:"   ",2:" ",3:"   ",4:"    ",5:"    ",6:"    ",7:"    ",8:"  ",9:"  ",10:"   ",11:"  ",12:"    ",13:"  ",14:"  ",15:"   ",16:""},:{1:"  ",2:"   ",3:" ",4:" ",5:"  ",6:"   ",7:"  ",8:"  ",9:" ",10:"   ",11:"   ",12:" ",13:"",14:" ",15:" ",16:"  "},:{1:"   ",2:"   ",3:"  ",4:"  ",5:"  ",6:"    ",7:"   ",8:" ",9:"   ",10:"   ",11:"  ",12:"    ",13:"  "},:{1:"  ",2:"   ",3:"  ",4:"   ",5:"  ",6:"  "},:{1:"   ",2:"    ",3:"   ",4:"   ",5:"  ",6:" "},:{1:"   ",2:" ",3:"  ",4:""},:{1:"  ",2:"  ",3:"  ",4:""},:{1:"   ",2:"   ",4:"   ",5:"  "},:{1:"   ",2:" ",3:"  "},:{1:"   ",2:"  ",3:"  ",4:" ",5:"  ",6:"   "},:{1:"   ",2:"   ",3:" ",4:" "},:{1:"    ",2:"  ",3:"  "},:{1:"  "},:{2:" ",3:"  ",4:"  ",5:" ",6:"  ",7:"",8:"  ",9:"    ",10:"  ",11:"",12:"  ",13:"  "},:{1:" ",2:"  ",3:"   ",4:"  ",5:"   "},:{1:" ",2:"   ",3:" ",4:"    ",5:"   "},:{1:"   ",2:"   ( 4-13)",3:" "},1:{},2:{},3:{},:{1:"   ( 2:1-17)"},:{1:" ",2:"   ",3:"   ",4:" ",5:"  ",6:"   ",7:"    ",8:"   ",10:"  ",11:" ",12:" ",13:"  ",14:"    ",16:"  ",17:"   ",18:" ",19:"   ",20:"  ",21:"   ",22:"  "}},WE={:[{start:1,end:11,theme:",   "},{start:12,end:25,theme:"  "},{start:26,end:36,theme:"   "},{start:37,end:50,theme:"   "}],:[{start:1,end:18,theme:"   "},{start:19,end:40,theme:"  "}],:[{start:1,end:7,theme:"  "},{start:8,end:10,theme:"  "},{start:11,end:27,theme:"   "}],:[{start:1,end:10,theme:"  "},{start:11,end:25,theme:"  "},{start:26,end:36,theme:"   "}],:[{start:1,end:4,theme:"   "},{start:5,end:26,theme:"   "},{start:27,end:34,theme:"   "}],:[{start:1,end:5,theme:"   "},{start:6,end:12,theme:"   "},{start:13,end:24,theme:"   "}],:[{start:1,end:2,theme:"  "},{start:3,end:16,theme:"   "},{start:17,end:21,theme:",   "}],:[{start:1,end:4,theme:"()  "}],:[{start:1,end:7,theme:"   "},{start:8,end:15,theme:"    "},{start:16,end:31,theme:"   "}],:[{start:1,end:10,theme:"   "},{start:11,end:24,theme:"  , "}],:[{start:1,end:11,theme:"   "},{start:12,end:22,theme:"   "}],:[{start:1,end:17,theme:"   "},{start:18,end:25,theme:"   "}],:[{start:1,end:9,theme:"  "},{start:10,end:29,theme:"    "}],:[{start:1,end:9,theme:"   "},{start:10,end:36,theme:"    "}],:[{start:1,end:10,theme:"   "}],:[{start:1,end:13,theme:"   "}],:[{start:1,end:10,theme:"    "}],:[{start:1,end:42,theme:"    "}],:[{start:1,end:150,theme:"   "}],:[{start:1,end:31,theme:"   "}],:[{start:1,end:12,theme:"   "}],:[{start:1,end:8,theme:"   "}],:[{start:1,end:39,theme:"    "},{start:40,end:66,theme:"     "}],:[{start:1,end:25,theme:"    "},{start:26,end:52,theme:"    "}],:[{start:1,end:5,theme:"    "}],:[{start:1,end:24,theme:"   "},{start:25,end:32,theme:"   "},{start:33,end:48,theme:"    "}],:[{start:1,end:6,theme:"    "},{start:7,end:12,theme:"    "}],:[{start:1,end:14,theme:"    "}],:[{start:1,end:3,theme:"   "}],:[{start:1,end:9,theme:"    "}],:[{start:1,end:1,theme:"   "}],:[{start:1,end:4,theme:"   "}],:[{start:1,end:7,theme:" ,  "}],:[{start:1,end:3,theme:"   "}],:[{start:1,end:3,theme:"  "}],:[{start:1,end:3,theme:"    "}],:[{start:1,end:2,theme:"  "}],:[{start:1,end:14,theme:"   "}],:[{start:1,end:4,theme:"   "}],:[{start:1,end:4,theme:"   "},{start:5,end:7,theme:":   "},{start:8,end:25,theme:"    "},{start:26,end:28,theme:"   "}],:[{start:1,end:10,theme:"   "},{start:11,end:16,theme:"   "}],:[{start:1,end:3,theme:"   "},{start:4,end:19,theme:"    "},{start:20,end:24,theme:"  ,  "}],:[{start:1,end:12,theme:"   "},{start:13,end:21,theme:"     "}],:[{start:1,end:7,theme:"    "},{start:8,end:12,theme:"   "},{start:13,end:28,theme:"    "}],:[{start:1,end:8,theme:"   "},{start:9,end:11,theme:"   "},{start:12,end:16,theme:"   "}],:[{start:1,end:4,theme:"   "},{start:5,end:10,theme:"    "},{start:11,end:16,theme:" , ,  "}],:[{start:1,end:7,theme:"    "},{start:8,end:9,theme:"   "},{start:10,end:13,theme:"   "}],:[{start:1,end:2,theme:"   "},{start:3,end:4,theme:"   "},{start:5,end:6,theme:"   "}],:[{start:1,end:3,theme:"    "},{start:4,end:6,theme:"    "}],:[{start:1,end:2,theme:"    "},{start:3,end:4,theme:"   "}],:[{start:1,end:2,theme:"   "},{start:3,end:4,theme:"     "}],:[{start:1,end:3,theme:"    "},{start:4,end:5,theme:"    "}],:[{start:1,end:2,theme:"     "},{start:3,end:3,theme:"    "}],:[{start:1,end:3,theme:"   "},{start:4,end:6,theme:"   "}],:[{start:1,end:2,theme:"   "},{start:3,end:4,theme:"    "}],:[{start:1,end:3,theme:"   "}],:[{start:1,end:1,theme:"   "}],:[{start:1,end:10,theme:"   "},{start:11,end:13,theme:"   "}],:[{start:1,end:5,theme:"    "}],:[{start:1,end:5,theme:"     "}],:[{start:1,end:3,theme:"    "}],1:[{start:1,end:5,theme:"    "}],2:[{start:1,end:1,theme:"   "}],3:[{start:1,end:1,theme:"    "}],:[{start:1,end:1,theme:"    "}],:[{start:1,end:3,theme:"   "},{start:4,end:18,theme:"    "},{start:19,end:22,theme:"    "}]},UE={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"()",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",1:"",2:"",3:"",:"",:""},HE={:"   ",:"   ",:"   ",:"   ",:"   ",:"   ","()":"   ",:"   ",:"    ",:"      "};function VE({todayPortion:t,todayKey:e,checks:n,toggle:r,isApproved:i,isMobile:s}){if(!t)return null;const{sections:o}=_.useMemo(()=>{const u=y=>y?y.replace(//g,"").replace(/([-]{2,})/g,C=>Pp(C)):"",h=y=>{if(!y)return 0;const E=y.replace(/[~]/g,"-").split(",");let m=0;return E.forEach(p=>{const g=p.replace(/[^0-9-]/g," "),x=g.match(/(\d+)\s*-\s*(\d+)/);x?m+=parseInt(x[2])-parseInt(x[1])+1:g.match(/(\d+)/)&&(m+=1)}),m};let d=[];if(t.panorama&&t.panorama.parsedSections)d=t.panorama.parsedSections.map(y=>({subTitle:y.subTitle||"",bibleRef:y.bibleRef}));else{const y=t.items||[],C=[];for(const E of y){if(!E||!E.book||typeof E.chapter!="number")continue;const m=C[C.length-1];m&&m.book===E.book&&E.chapter===m.to+1?m.to=E.chapter:C.push({book:E.book,from:E.chapter,to:E.chapter})}d=C.map(E=>({subTitle:"",bibleRef:E.from===E.to?`${E.book} ${E.from}`:`${E.book} ${E.from}~${E.to}`}))}let f=[];d.forEach(y=>{if(y.bibleRef.includes(",")){const C=y.bibleRef.split(","),E=C[0].match(/^([-a-zA-Z]+)/),m=E?E[1]:"";C.forEach((p,g)=>{let x=p.trim();g>0&&m&&!x.match(/^[-a-zA-Z]+/)&&(x=`${m} ${x}`),f.push({subTitle:y.subTitle,bibleRef:x})})}else f.push(y)});let v=[];if(f.length>0){let y=f.map(p=>({...p,count:h(p.bibleRef),abbreviations:[u(p.bibleRef)]}));const C=p=>{const x=p.bibleRef.replace(//g,"").replace(/[~]/g,"-").match(/^([-\s\u00A0a-zA-Z]+)\s*(\d+)(?:\s*-\s*(\d+))?/);if(x){const w=x[1].trim(),k=parseInt(x[2]),S=x[3]?parseInt(x[3]):k,N=S-k+1;if(N>=2){const A=Math.floor(N/2),I=k+A-1,H=k===I?`${w} ${k}`:`${w} ${k}~${I}`,Q=I+1===S?`${w} ${S}`:`${w} ${I+1}~${S}`;return[{...p,bibleRef:H,count:I-k+1,abbreviations:[u(H)],subTitle:p.subTitle},{...p,bibleRef:Q,count:S-(I+1)+1,abbreviations:[u(Q)],subTitle:""}]}}return[p]};for(;y.length>4;){let p=-1,g=1/0;for(let x=0;x<y.length-1;x++){const w=y[x].count+y[x+1].count;w<g&&(g=w,p=x)}if(p!==-1){const x=y[p],w=y[p+1];y.splice(p,2,{...x,count:x.count+w.count,abbreviations:[...x.abbreviations,...w.abbreviations],subTitle:x.subTitle&&w.subTitle&&x.subTitle!==w.subTitle?`${x.subTitle} & ${w.subTitle}`:x.subTitle||w.subTitle})}else break}for(let p=0;p<5&&y.length<3;p++){let g=-1,x=-1;for(let w=0;w<y.length;w++)y[w].count>x&&(x=y[w].count,g=w);if(g!==-1&&y[g].count>=2){const w=C(y[g]);if(w.length>1)y.splice(g,1,...w);else break}else break}let E=0;const m=new Set;v=y.map(p=>{var w;E+=p.count;const g=p.abbreviations.reduce((k,S,N)=>{const A=S.replace(/\s+/g,"");if(N===0)return A;const I=p.abbreviations[N-1],H=I.includes("-"),Q=S.includes("-"),q=I.match(/^([^\d]+)\s*\d+/),re=S.match(/^([^\d]+)\s*\d+/);if(q&&re&&q[1]===re[1]&&!H&&!Q){const O=S.replace(re[1],"").trim();return`${k}, ${O.replace(/\s+/g,"")}`}else return q&&re&&q[1]===""&&re[1]===""?`${k}, ${A}`:`${k}
${A}`},"");let x=p.subTitle||"";if(!x)try{const S=(p.abbreviations[0]||"").match(/^([-]+)[\u00A0\s](\d+)/);if(S){const N=S[1],A=parseInt(S[2]),I=Object.keys(Lp).find(Q=>Pp(Q)===N)||N,H=WE[I];if(H){const Q=H.find(q=>A>=q.start&&A<=q.end);Q&&(x=Q.theme)}if(!x)if(p.count<=5)x=((w=Lp[I])==null?void 0:w[String(A)])||"";else{const Q=UE[I];x=HE[Q]||""}}}catch(k){console.error("Subtitle auto-gen failed:",k)}return x&&m.has(x)?x="":x&&m.add(x),{...p,bibleRef:g,displayCount:E,subTitle:x}})}return{sections:v}},[t]),l=u=>[-50,30,-55,35][u%4],c=50;return a.jsx("div",{style:{marginTop:18,width:"100%",position:"relative",padding:"10px 0",overflow:"hidden"},children:a.jsxs("div",{style:{position:"relative",width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[o.length===1&&a.jsx("div",{style:{width:"100%",height:40,position:"relative",marginBottom:5},children:a.jsxs("svg",{style:{position:"absolute",top:0,left:"50%",width:200,height:40,transform:"translateX(-50%)"},children:[a.jsx("path",{d:`M 100 0 Q 100 20, ${100+l(0)} 40`,fill:"none",stroke:"rgba(255,255,255,0.7)",strokeWidth:"9",strokeLinecap:"round"}),a.jsx("path",{d:`M 100 0 Q 100 20, ${100+l(0)} 40`,fill:"none",stroke:"rgba(3,71,50,0.2)",strokeWidth:"2.5",strokeDasharray:"6,6"})]})}),o.map((u,h)=>{const d=l(h),f=h===o.length-1;return a.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",position:"relative",marginBottom:f?o.length===1?50:0:c},children:[h===1&&a.jsx("img",{src:"/runner_v2.png",alt:"runner",style:{position:"absolute",right:"22%",top:5,width:28,height:48,zIndex:3}}),h===2&&a.jsx("img",{src:"/sign_v2.png",alt:"sign",style:{position:"absolute",left:"15%",top:-35,width:50,height:"auto",zIndex:3}}),h>=4&&(h%2===0?a.jsx("span",{style:{position:"absolute",right:"1.2%",top:-5,fontSize:36,opacity:1,zIndex:3},children:""}):a.jsx("span",{style:{position:"absolute",left:"1.2%",top:-5,fontSize:36,opacity:1,zIndex:3},children:""})),a.jsxs("div",{style:{transform:`translateX(${d}px)`,transition:"transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",zIndex:2},children:[a.jsx("div",{style:{minWidth:48,height:48,padding:"0 8px",borderRadius:24,background:n[e]?"#1B9C5A":"#034732",border:n[e]?"4px solid rgba(255,255,255,0.2)":"4px solid #F3F4F6",display:"flex",alignItems:"center",justifyContent:"center",fontSize:19,fontWeight:900,color:"#ffffff",boxShadow:"none"},children:u.displayCount}),a.jsxs("div",{style:{position:"absolute",...[1,3].includes(h)?{right:52}:{left:52},width:190,textAlign:[1,3].includes(h)?"right":"left",display:"flex",flexDirection:"column"},children:[u.subTitle&&a.jsx("div",{style:{fontSize:11,fontWeight:900,letterSpacing:"-0.05em",color:"#FFEB3B",opacity:1,textShadow:"0 1px 2px rgba(0,0,0,0.4)",marginBottom:2,lineHeight:1.2,wordBreak:"keep-all"},children:u.subTitle}),a.jsx("div",{style:{fontSize:19,fontWeight:900,color:"#ffffff",textShadow:"0 1px 2px rgba(0,0,0,0.3)",whiteSpace:"pre-wrap",wordBreak:"keep-all",lineHeight:1.2},children:u.bibleRef})]})]}),!f&&a.jsxs("svg",{style:{position:"absolute",top:40,left:"50%",width:260,height:c+8,transform:"translateX(-50%)",zIndex:1,pointerEvents:"none"},children:[a.jsx("path",{d:`M ${130+d} 0 Q ${130+(d+l(h+1))/2+(h%2===0?45:-45)} ${c/2}, ${130+l(h+1)} ${c}`,fill:"none",stroke:n[e]?"rgba(255,255,255,0.4)":"rgba(255,255,255,0.8)",strokeWidth:"10",strokeLinecap:"round"}),a.jsx("path",{d:`M ${130+d} 0 Q ${130+(d+l(h+1))/2+(h%2===0?45:-45)} ${c/2}, ${130+l(h+1)} ${c}`,fill:"none",stroke:n[e]?"rgba(255,255,255,0.75)":"rgba(3,71,50,0.3)",strokeWidth:"2.5",strokeDasharray:"6,8",strokeLinecap:"round"})]}),f&&o.length===1&&a.jsxs("svg",{style:{position:"absolute",top:40,left:"50%",width:200,height:60,transform:"translateX(-50%)",zIndex:1},children:[a.jsx("path",{d:`M ${100+l(0)} 0 Q ${100+l(0)} 30, 100 60`,fill:"none",stroke:"rgba(255,255,255,0.7)",strokeWidth:"9",strokeLinecap:"round"}),a.jsx("path",{d:`M ${100+l(0)} 0 Q ${100+l(0)} 30, 100 60`,fill:"none",stroke:"rgba(3,71,50,0.2)",strokeWidth:"2.5",strokeDasharray:"6,6"})]})]},h)})]})})}function Cn({crewName:t,user:e}){const n=`${qt(t)} `,[r,i]=_.useState({}),[s,o]=_.useState(new Date),[l,c]=_.useState([]),[u,h]=_.useState(!1),[d,f]=_.useState(""),[v,y]=_.useState(null),[C,E]=_.useState(""),[m,p]=_.useState(!1),[g,x]=_.useState(!1),[w,k]=_.useState(!1),[S,N]=_.useState(null),[A,I]=_.useState(!1),[H,Q]=_.useState([]),[q,re]=_.useState({}),[de,O]=_.useState({});_.useState(!1);const[$,j]=_.useState(!1),P=$E(),W=(P&&P.approval||{})[t]||"manual";_.useEffect(()=>{if(typeof window>"u")return;const R=window.matchMedia("(max-width: 768px)"),X=le=>j(le.matches);return j(R.matches),R.addEventListener("change",X),()=>R.removeEventListener("change",X)},[]);const G=xn(),be=O0();function $e(R){if(!R)return"";const X=new Date(R);X.getFullYear();const le=String(X.getMonth()+1).padStart(2,"0"),Et=String(X.getDate()).padStart(2,"0"),sn=String(X.getHours()).padStart(2,"0"),tr=String(X.getMinutes()).padStart(2,"0");return`${le}-${Et} ${sn}:${tr}`}let Ne=vE;t===""?Ne=K0:t===""?Ne=q0:t==="(A)"?Ne=_E:t==="(B)"?Ne=xE:t===""?Ne=270:t===""&&(Ne=124),_.useEffect(()=>{if(!(e!=null&&e.uid))return;const R=Qw(t,be,e.uid,X=>{x(X),k(!0)});return()=>{typeof R=="function"&&R()}},[e,t,be]),_.useEffect(()=>{if(!(e!=null&&e.uid)||!t||!w)return;if(!(W!=="manual"||g)){I(!1);return}let X=!0;return(async()=>{try{const le=await Sw(t);if(!X)return;if(!le||!le.enabled){I(!1);return}const Et=parseInt(le.version||"0",10)||0,sn=await ww(e.uid,t);if(!X)return;!!((le.title||"").trim()||(le.content||"").trim())&&Et>(sn||0)?(N({...le,version:Et}),I(!0)):I(!1)}catch(le){console.error("    ",le)}})(),()=>{X=!1}},[e==null?void 0:e.uid,t,w,g,W]);async function Je(){try{e!=null&&e.uid&&t&&(S!=null&&S.version)&&await Cw(e.uid,t,S.version)}catch(R){console.error("      ",R)}finally{I(!1)}}_.useEffect(()=>{e!=null&&e.uid&&w&&(g||e.crew===t&&Rw(e.uid).catch(R=>console.error("crew  ",R)))},[e,t,w,g]),_.useEffect(()=>{if(!(e!=null&&e.uid))return;if(!w||!g){i({});return}const R=P0(t,e.uid,i);return()=>{typeof R=="function"&&R()}},[e,t,w,g]),_.useEffect(()=>{const R=dh(le=>O(le||{})),X=kw(t,le=>{re({[t]:le})});return()=>{typeof R=="function"&&R(),typeof X=="function"&&X()}},[t]),_.useEffect(()=>{if(!t){Q([]);return}const R=q||{},X=de||{},le=R[t],Et=le&&le.users||{},sn=new Date,tr=sn.getFullYear(),Or=sn.getMonth()+1,nr=en(tr,Or);if(!nr||nr.length===0){Q([]);return}const Wi=sn.getDate(),Ca=nr.slice(0,Wi),Ea=`${tr}-${String(Or).padStart(2,"0")}-${String(Wi).padStart(2,"0")}`,ka=qn(t,nr),vo={};(ka||[]).forEach(gt=>{!gt||!gt.date||(vo[gt.date]=gt.chapters||0)});const Ui=[];Object.entries(Et).forEach(([gt,Br])=>{const _o=Br&&Br.checks||{};let Hi=0,Vi=0;if(Ca.forEach(b=>{const T=vo[b]||0;T&&(Vi+=T,_o[b]&&(Hi+=T))}),Vi===0)return;const Yi=X&&X[gt]?X[gt]:{},Gi=Yi.name||gt,Ta=Yi.medals||{},rr=Math.round(Hi/Vi*100),bn=gh({dates:nr,todayKey:Ea,userChecks:_o,userDailyActivity:Yi.dailyActivity||{}});Ui.push({uid:gt,name:Gi,chapters:Hi,progress:rr,stateKey:bn.key,stateLabel:bn.label,medals:Ta})}),Ui.sort((gt,Br)=>(Br.chapters||0)-(gt.chapters||0)),Q(Ui)},[t,q,de]),_.useEffect(()=>{const R=Mw(t,c);return()=>{typeof R=="function"&&R()}},[t]);const Ft=3*24*60*60*1e3,Fi=Date.now()-Ft,Nr=(l||[]).slice(0,20),Mi=(l||[]).filter(R=>(R.timestamp||0)>=Fi),Ar=u?Mi:Nr;if(!e||!e.uid)return a.jsxs("div",{style:{padding:20,background:"#F8F9FF",minHeight:"100vh"},children:[a.jsxs("h2",{style:{color:"#034732",fontSize:32,fontWeight:800,textAlign:"center"},children:[" ",n]}),a.jsx("p",{children:"    ."})]});if(W==="manual"&&!g)return a.jsxs("div",{style:{padding:20,background:"#F8F9FF",minHeight:"100vh"},children:[a.jsxs("h2",{style:{color:"#034732",fontSize:32,fontWeight:800,textAlign:"center"},children:[t," "]}),a.jsx("p",{style:{textAlign:"center",marginTop:20,fontSize:16},children:"     ."})]});if(!w)return a.jsxs("div",{style:{padding:20,background:"#F8F9FF",minHeight:"100vh"},children:[a.jsxs("h2",{style:{color:"#034732",fontSize:32,fontWeight:800,textAlign:"center"},children:[" ",n]}),a.jsx("p",{children:"   ..."})]});if(W==="manual"&&!g)return a.jsxs("div",{style:{padding:20,background:"#F8F9FF",minHeight:"100vh"},children:[a.jsxs("h2",{style:{color:"#034732",fontSize:32,fontWeight:800,textAlign:"center"},children:[t," "]}),a.jsx("p",{style:{textAlign:"center",marginTop:20,fontSize:16},children:"     ."})]});if(W==="closed")return a.jsxs("div",{style:{padding:20,background:"#F8F9FF",minHeight:"100vh"},children:[a.jsxs("h2",{style:{color:"#034732",fontSize:32,fontWeight:800,textAlign:"center"},children:[" ",n]}),a.jsx("p",{children:"     .   ."}),a.jsx("button",{onClick:()=>G("/home"),style:{marginTop:20,padding:"8px 16px",borderRadius:8,border:"none",background:"#1565C0",color:"#fff",fontWeight:"bold",cursor:"pointer"},children:" "})]});if(W==="manual"&&!g)return a.jsxs("div",{style:{padding:20,background:"#F8F9FF",minHeight:"100vh"},children:[a.jsxs("h2",{style:{color:"#034732",fontSize:32,fontWeight:800,textAlign:"center"},children:[t," "]}),a.jsx("p",{style:{textAlign:"center",marginTop:20,fontSize:16},children:"     ."})]});const Pr=s.getFullYear(),Oi=s.getMonth()+1,Bi=en(Pr,Oi),po=qn(t,Bi),Mt=`${Pr}-${String(Oi).padStart(2,"0")}-${String(s.getDate()).padStart(2,"0")}`,mo=String(Pr).slice(2),go=["","","","","","",""][s.getDay()],xa=`${mo} ${String(Oi).padStart(2,"0")} ${String(s.getDate())}(${go})`,Ze=po.find(R=>R.date===Mt),yo={};po.forEach(R=>{yo[R.date]=R.chapters||0});let Dr=0;Bi.forEach(R=>{r[R]&&(Dr+=yo[R]||0)});const ba=(Dr/10).toFixed(1),Li=Math.min(100,Math.round(Dr/Ne*100)||0);let Ct=Ze&&(Ze.startLabel||""),rn=Ze&&(Ze.endLabel||""),zi=0;if(Ze&&(zi=Ze.chapters||Ze.chapterCount||0),(!Ct||!rn)&&Ze&&Ze.label){const R=String(Ze.label).split("~");R.length===2?(Ct=R[0].trim(),rn=R[1].trim()):(Ct=Ze.label,rn="");const X=le=>le?le.replace(/\(\s*\d+\)\s*$/,"").trim():"";Ct=X(Ct),rn=X(rn)}function $i(R){g&&Tw(t,e.uid,R,!(r[R]??!1))}function er(R){const X=new Date(s);X.setDate(X.getDate()+R),o(X)}function Sa(){const R=d.trim();if(!R)return;const X={text:R,user:e.name||"",uid:e.uid,timestamp:Date.now()};Aw(t,X).then(()=>{f("")})}function Fr(R){!R||R.uid!==e.uid||(y(R.id),E(R.text||""))}async function wa(R){if(!R||R.uid!==e.uid)return;const X=(C||"").trim();if(!X){alert("  .");return}try{p(!0),await Pw(t,R.id,{text:X,editedAt:Date.now()}),y(null),E("")}catch(le){console.error(le),alert("   .")}finally{p(!1)}}async function Mr(R){if(!(!R||R.uid!==e.uid||!window.confirm("     . ?")))try{p(!0),await Dw(t,R.id)}catch(le){console.error(le),alert("   .")}finally{p(!1)}}return a.jsxs("div",{style:{minHeight:"100vh",padding:$?"20px 16px 32px":"24px 30px 40px",background:"#E5F3E6",display:"flex",flexDirection:"column",boxSizing:"border-box"},children:[A&&S&&a.jsx("div",{onClick:Je,style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.45)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:$?18:24},children:a.jsxs("div",{style:{width:"100%",maxWidth:520,background:"#FFFFFF",borderRadius:18,boxShadow:"0 18px 40px rgba(0,0,0,0.22)",padding:$?"18px 18px 16px":"22px 22px 18px",border:"1px solid rgba(0,0,0,0.06)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[a.jsx("div",{style:{fontSize:18,fontWeight:800,color:"#111827"},children:(S.title||`${t} `).toString()}),a.jsx("div",{style:{fontSize:12,color:"#6B7280"},children:" "})]}),a.jsx("div",{style:{marginTop:14,fontSize:15,lineHeight:1.7,color:"#111827",whiteSpace:"pre-wrap"},children:S.content})]})}),a.jsx("h2",{style:{color:"#034732",fontSize:32,fontWeight:800,textAlign:"center",marginBottom:t===""||t===""?10:0},children:n}),t===""&&a.jsx("div",{style:{color:"#4B5563",fontSize:15,fontWeight:500,textAlign:"center",marginBottom:10},children:"30  1"}),t===""&&a.jsx("div",{style:{color:"#4B5563",fontSize:15,fontWeight:500,textAlign:"center",marginBottom:10},children:"30  1"}),(t==="(A)"||t==="(B)")&&a.jsx("div",{style:{color:"#4B5563",fontSize:15,fontWeight:500,textAlign:"center",marginBottom:10},children:"30   "}),t===""&&a.jsx("div",{style:{color:"#4B5563",fontSize:15,fontWeight:500,textAlign:"center",marginBottom:10},children:"30  1"}),t===""&&a.jsx("div",{style:{color:"#4B5563",fontSize:14,fontWeight:500,textAlign:"center",lineHeight:1.6,maxWidth:600,margin:"0 auto"},children:"<   ,            >"}),t===""&&a.jsx("div",{style:{color:"#4B5563",fontSize:14,fontWeight:500,textAlign:"center",lineHeight:1.6,maxWidth:600,margin:"0 auto"},children:"<   ,          >"}),a.jsxs("div",{style:{marginTop:24,display:"flex",alignItems:"center",justifyContent:"center",gap:24},children:[a.jsxs("svg",{width:120,height:120,children:[a.jsx("circle",{stroke:"#E5E7EB",fill:"transparent",strokeWidth:14,r:50,cx:60,cy:60}),a.jsx("circle",{stroke:"#6366F1",fill:"transparent",strokeWidth:14,strokeLinecap:"round",r:50,cx:60,cy:60,strokeDasharray:2*Math.PI*50,strokeDashoffset:2*Math.PI*50-Li/100*(2*Math.PI*50),style:{transition:"stroke-dashoffset 0.4s ease"}})]}),a.jsxs("div",{style:{textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[a.jsx("p",{style:{margin:0,fontSize:15,color:"#4B5563"},children:"  "}),a.jsxs("div",{style:{marginTop:6,display:"flex",alignItems:"baseline",gap:12},children:[a.jsxs("span",{style:{fontSize:28,fontWeight:700},children:[Li,"%"]}),a.jsxs("span",{style:{fontSize:20,fontWeight:600},children:[ba,"km"]})]}),a.jsxs("div",{style:{marginTop:4,fontSize:16,color:"#4B5563"},children:["(",Dr," / ",Ne,")"]})]})]}),a.jsx("div",{style:{marginTop:28,width:"100%",display:"flex",justifyContent:"center",position:"relative"},children:a.jsxs("div",{onClick:()=>$i(Mt),style:{width:$?"96%":"86%",maxWidth:$?"none":540,background:r[Mt]?"linear-gradient(135deg, #2C3E50 0%, #000000 100%)":"linear-gradient(135deg, #1B9C5A 0%, #15803D 100%)",borderRadius:34,padding:$?"20px 8px 60px":"24px 30px 40px",color:"#ffffff",textAlign:"center",boxShadow:"0 12px 28px rgba(0,0,0,0.15)",cursor:g?"pointer":"not-allowed",opacity:g?1:.6,position:"relative",minHeight:$?330:280,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",margin:"0 auto",overflow:"hidden"},children:[a.jsx("button",{onClick:R=>{R.stopPropagation(),er(-1)},style:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:50,height:80,background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"0 12px 12px 0",cursor:"pointer",zIndex:10,display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx("div",{style:{width:20,height:20,borderLeft:"6px solid #fff",borderBottom:"6px solid #fff",transform:"rotate(45deg)",opacity:1}})}),a.jsx("button",{onClick:R=>{R.stopPropagation(),er(1)},style:{position:"absolute",right:0,top:"50%",transform:"translateY(-50%)",width:50,height:80,background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"12px 0 0 12px",cursor:"pointer",zIndex:10,display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx("div",{style:{width:20,height:20,borderRight:"6px solid #fff",borderBottom:"6px solid #fff",transform:"rotate(-45deg)",opacity:1}})}),a.jsx("div",{style:{position:"absolute",bottom:40,left:10,fontSize:24,opacity:.15},children:""}),a.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.85)",padding:"16px 24px",borderRadius:"24px",boxShadow:"0 8px 20px rgba(0,0,0,0.06)",marginBottom:"20px",textAlign:"center",border:"1px solid rgba(255, 255, 255, 0.5)",backdropFilter:"blur(4px)",width:$?"90%":"85%",maxWidth:500,boxSizing:"border-box",zIndex:5},children:[a.jsx("div",{style:{fontSize:22,fontWeight:800,color:r[Mt]?"#2C3E50":"#034732"},children:xa}),a.jsxs("div",{style:{marginTop:4,fontSize:$?17:19,fontWeight:700,color:r[Mt]?"#555":"#1B9C5A"},children:[" ( ",zi,")"]})]}),Ze&&a.jsx(VE,{todayPortion:Ze,todayKey:Mt,checks:r,toggle:$i,isApproved:g,isMobile:$}),a.jsx("div",{style:{position:"absolute",left:18,bottom:16,zIndex:5},children:a.jsx("div",{onClick:()=>$i(Mt),style:{width:60,height:60,borderRadius:"50%",border:"4px solid #F3F4F6",background:"#FFFFFF",boxShadow:"0 4px 10px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",cursor:"pointer",transition:"all 0.3s"},children:a.jsx("span",{style:{fontSize:11,fontWeight:700,color:"rgba(0,0,0,0.25)"},children:"()"})})}),r[Mt]&&a.jsx("div",{style:{position:"absolute",left:-52,bottom:-54,zIndex:10,pointerEvents:"none",width:200,height:200,display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx("img",{src:"/stamps/stamps_source_clean.png",alt:"stamp",style:{width:190,height:190,objectFit:"contain",transform:"rotate(-10deg)",filter:"drop-shadow(0 4px 12px rgba(0,0,0,0.3))",animation:"popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)"}})})]})}),a.jsx("div",{style:{marginTop:10,textAlign:"center",fontSize:15,fontWeight:500,color:"#555"},children:"   "}),a.jsxs("div",{style:{marginTop:14,fontSize:15,lineHeight:1.5,fontWeight:500,textAlign:"center",color:"#555"},children:["     .",a.jsx("br",{}),"    "]}),a.jsx("div",{style:{marginTop:12,background:"#FFFFFF",borderRadius:24,padding:$?"6px 8px 8px":"12px 20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:10,maxWidth:520,width:"88%",marginLeft:"auto",marginRight:"auto"},children:a.jsxs("div",{style:{marginTop:8,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:$?8:16},children:[a.jsxs("button",{onClick:()=>G(`/?crew=${encodeURIComponent(t)}&date=${Mt}`),style:{background:"#F7C948",borderRadius:28,padding:$?"20px 26px":"22px 32px",border:"none",color:"#000",fontSize:19,fontWeight:700,lineHeight:1.35,cursor:"pointer",boxShadow:"0 4px 10px rgba(0,0,0,0.15)",minWidth:$?130:170,textAlign:"center"},children:["",a.jsx("br",{}),""]}),a.jsx("img",{src:"/runner.png",alt:"runner",style:{width:$?80:125,height:"auto",objectFit:"contain"}})]})}),a.jsxs("div",{style:{marginTop:32},children:[a.jsx("p",{style:{margin:0,fontWeight:700,fontSize:15},children:" "}),a.jsx("textarea",{value:d,onChange:R=>f(R.target.value),rows:3,placeholder:"    ",style:{width:"100%",marginTop:10,padding:12,borderRadius:12,border:"1px solid #CBD5E1",fontSize:14,resize:"vertical"}}),a.jsx("button",{onClick:Sa,style:{marginTop:10,padding:"10px 18px",border:"none",borderRadius:10,background:"#1B9C5A",color:"#fff",fontSize:15,fontWeight:600,cursor:"pointer"},children:""})]}),a.jsxs("div",{style:{marginTop:24},children:[a.jsx("p",{style:{fontWeight:700,marginBottom:8},children:"  "}),a.jsxs("div",{style:{display:"flex",gap:8,marginBottom:10},children:[a.jsx("button",{onClick:()=>h(R=>!R),style:{padding:"8px 12px",borderRadius:10,border:"1px solid #1B9C5A",background:u?"#1B9C5A":"#fff",color:u?"#fff":"#1B9C5A",cursor:"pointer",fontWeight:700},children:u?"":" ( 3)"}),u&&a.jsx("div",{style:{fontSize:12,color:"#555",alignSelf:"center"},children:" 3    ."})]}),a.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,display:"flex",flexDirection:"column",gap:4},children:Ar.map(R=>{const X=R&&R.uid&&e&&R.uid===e.uid,le=v===R.id;return a.jsxs("li",{style:{padding:10,borderRadius:10,background:"#F1F5F9",fontSize:13,display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:10},children:[a.jsxs("div",{style:{flex:1,minWidth:0},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:6},children:[a.jsx("span",{style:{fontWeight:700},children:R.user}),R.timestamp&&a.jsxs("span",{style:{fontSize:12,color:"#6B7280"},children:[$e(R.timestamp),R.editedAt?" ()":""]})]}),le?a.jsxs("div",{style:{marginTop:6},children:[a.jsx("textarea",{value:C,onChange:Et=>E(Et.target.value),rows:3,style:{width:"100%",padding:10,borderRadius:10,border:"1px solid #CBD5E1",fontSize:13,resize:"vertical",boxSizing:"border-box",background:"#fff"},disabled:m}),a.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[a.jsx("button",{onClick:()=>wa(R),disabled:m,style:{padding:"8px 12px",borderRadius:10,border:"none",background:"#1B9C5A",color:"#fff",fontWeight:700,cursor:"pointer",opacity:m?.6:1},children:""}),a.jsx("button",{onClick:()=>{y(null),E("")},disabled:m,style:{padding:"8px 12px",borderRadius:10,border:"1px solid #CBD5E1",background:"#fff",color:"#111827",fontWeight:700,cursor:"pointer",opacity:m?.6:1},children:""})]})]}):a.jsx("div",{style:{marginTop:4,color:"#374151",wordBreak:"break-word"},children:R.text})]}),X&&!le&&a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6,flexShrink:0},children:[a.jsx("button",{onClick:()=>Fr(R),disabled:m,style:{padding:"6px 10px",borderRadius:10,border:"1px solid #CBD5E1",background:"#fff",fontWeight:700,cursor:"pointer",opacity:m?.6:1},children:""}),a.jsx("button",{onClick:()=>Mr(R),disabled:m,style:{padding:"6px 10px",borderRadius:10,border:"none",background:"#E63946",color:"#fff",fontWeight:800,cursor:"pointer",opacity:m?.6:1},children:""})]})]},R.id)})})]}),a.jsxs("div",{style:{marginTop:28},children:[a.jsx("p",{style:{fontWeight:700,marginBottom:8},children:"    "}),!H||H.length===0?a.jsx("div",{style:{padding:12,borderRadius:12,background:"#F8FAFF",border:"1px solid #E2E8F0",fontSize:13,color:"#64748B"},children:"    ."}):a.jsx("div",{style:{overflowX:"auto"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:12,background:"#F8FAFF",borderRadius:12},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{borderBottom:"1px solid #CBD5E1",padding:6},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #CBD5E1",padding:6,textAlign:"right"},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #CBD5E1",padding:6,textAlign:"right"},children:" "}),a.jsx("th",{style:{borderBottom:"1px solid #CBD5E1",padding:6,textAlign:"center"},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #CBD5E1",padding:6,textAlign:"center"},children:""})]})}),a.jsx("tbody",{children:H.map(R=>a.jsxs("tr",{children:[a.jsx("td",{style:{borderBottom:"1px solid #E2E8F0",padding:6},children:R.name}),a.jsxs("td",{style:{borderBottom:"1px solid #E2E8F0",padding:6,textAlign:"right"},children:[R.progress,"%"]}),a.jsxs("td",{style:{borderBottom:"1px solid #E2E8F0",padding:6,textAlign:"right"},children:[R.chapters,""]}),a.jsx("td",{style:{borderBottom:"1px solid #E2E8F0",padding:6,textAlign:"center"},children:a.jsx("span",{style:{display:"inline-block",padding:"4px 16px",borderRadius:8,background:R.stateKey==="success"?"#DCFCE7":R.stateKey==="running"?"#DBEAFE":R.stateKey==="fail"||R.stateKey==="shortage"?"#E5E7EB":"transparent",color:R.stateKey==="success"?"#166534":R.stateKey==="running"?"#1D4ED8":R.stateKey==="fail"||R.stateKey==="shortage"?"#111827":"#166534",fontWeight:600},children:R.stateLabel||" "})}),a.jsx("td",{style:{borderBottom:"1px solid #E2E8F0",padding:6,textAlign:"center"},children:a.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:4},children:[R.medals&&(R.medals.gold||0)>0&&a.jsxs("div",{className:"medal-wrapper",children:[a.jsx("span",{className:"medal-icon",children:""}),a.jsx("span",{className:"medal-count",children:R.medals.gold})]}),R.medals&&(R.medals.silver||0)>0&&a.jsxs("div",{className:"medal-wrapper",children:[a.jsx("span",{className:"medal-icon",children:""}),a.jsx("span",{className:"medal-count",children:R.medals.silver})]}),R.medals&&(R.medals.bronze||0)>0&&a.jsxs("div",{className:"medal-wrapper",children:[a.jsx("span",{className:"medal-icon",children:""}),a.jsx("span",{className:"medal-count",children:R.medals.bronze})]})]})})]},R.uid))})]})})]}),a.jsx("div",{style:{marginTop:20,textAlign:"center"},children:a.jsx("button",{onClick:()=>G("/home"),style:{padding:"10px 24px",borderRadius:999,border:"none",background:"#1565C0",color:"#fff",fontWeight:"bold",cursor:"pointer",fontSize:15,boxShadow:"0 6px 12px rgba(0,0,0,0.2)"},children:" "})})]})}const zp=We;function YE({user:t}){const[e,n]=_.useState({}),[r,i]=_.useState({}),[s,o]=_.useState({});if(_.useEffect(()=>{if(!t||!t.uid)return;const p=lC(t.uid,g=>i(g||{}));return()=>{typeof p=="function"&&p()}},[t]),_.useEffect(()=>{if(!t||!t.uid)return;const g=new Date().getFullYear(),x=$w(g,w=>{o(w||{})});return()=>{typeof x=="function"&&x()}},[t]),_.useEffect(()=>{if(!t||!t.uid)return;const p=[];return zp.forEach(g=>{const x=P0(g,t.uid,w=>{n(k=>({...k,[g]:w||{}}))});typeof x=="function"&&p.push(x)}),()=>{p.forEach(g=>{try{g()}catch{}})}},[t]),!t||!t.uid)return a.jsxs("div",{style:{padding:20,minHeight:"100vh",background:"#F8F9FF"},children:[a.jsx("h2",{children:"  "}),a.jsx("p",{children:"    ."})]});const l=new Date,c=l.getFullYear(),u=l.getMonth()+1,h=`${c}-${String(u).padStart(2,"0")}-${String(l.getDate()).padStart(2,"0")}`;let d=0,f=0,v=0;const y={};if(zp.forEach(p=>{const g=e[p]||{};Object.entries(g).forEach(([x,w])=>{if(!w)return;const[k,S]=x.split("-"),N=Number(k),A=Number(S);if(!N||!A)return;const I=`${p}_${k}-${S}`;if(!y[I]){const Q=en(N,A),q=qn(p,Q),re={};q.forEach(de=>{re[de.date]=de.chapters||0}),y[I]=re}const H=y[I][x]||0;x===h&&(d+=H),N===c&&A===u&&(f+=H),N===c&&(v+=H)})}),t&&t.uid&&s&&t.crew){const p=s[u];if(p){let g=0;const x=p.gold&&p.gold[t.uid],w=p.silver&&p.silver[t.uid],k=p.bronze&&p.bronze[t.uid];if(x||w||k){const S=`${t.crew}_${c}-${u}`;if(!y[S]){const A=en(c,u),I=qn(t.crew,A),H={};I.forEach(Q=>{H[Q.date]=Q.chapters||0}),y[S]=H}const N=y[S];g=Object.values(N).reduce((A,I)=>A+I,0)}if(g>0&&g>f){const S=g-f;f=g,v+=S}}}const C=(d/10).toFixed(1),E=(f/10).toFixed(1),m=(v/10).toFixed(1);return a.jsxs("div",{style:{padding:20,minHeight:"100vh",background:"#E5F3E6"},children:[a.jsx("h2",{style:{marginBottom:10},children:"  "}),a.jsx("p",{style:{marginBottom:20},children:"    ."}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12,maxWidth:400,marginBottom:30},children:[a.jsxs("div",{style:{background:"#fff",padding:16,borderRadius:10,boxShadow:"0 4px 6px rgba(0,0,0,0.08)"},children:[a.jsx("strong",{children:"  "}),a.jsxs("div",{style:{fontSize:20,marginTop:8},children:[d," (",C,"km)"]})]}),a.jsxs("div",{style:{background:"#fff",padding:16,borderRadius:10,boxShadow:"0 4px 6px rgba(0,0,0,0.08)"},children:[a.jsx("strong",{children:"   "}),a.jsxs("div",{style:{fontSize:20,marginTop:8},children:[f," (",E,"km)"]})]}),a.jsxs("div",{style:{background:"#fff",padding:16,borderRadius:10,boxShadow:"0 4px 6px rgba(0,0,0,0.08)"},children:[a.jsx("strong",{children:"   "}),a.jsxs("div",{style:{fontSize:20,marginTop:8},children:[v," (",m,"km)"]})]}),a.jsxs("div",{style:{background:"#fff",padding:16,borderRadius:10,boxShadow:"0 4px 6px rgba(0,0,0,0.08)",marginTop:12},children:[a.jsx("strong",{children:"  "}),a.jsxs("div",{style:{fontSize:16,marginTop:8,lineHeight:1.6},children:[a.jsxs("div",{children:[" : ",r.gold||0,""]}),a.jsxs("div",{children:[" : ",r.silver||0,""]}),a.jsxs("div",{children:[" : ",r.bronze||0,""]})]})]})]})]})}function GE(t){const[e,n]=_.useState(null),[r,i]=_.useState(!0);_.useEffect(()=>{if(!t){n(null),i(!1);return}const o=pC(t,l=>{n(l),i(!1)});return()=>{try{o&&o()}catch{}}},[t]);const s=_.useCallback(async o=>{t&&await fC(t,o)},[t]);return{bookmark:e,loading:r,saveBookmark:s}}function QE(){const{search:t}=mh();return Xp.useMemo(()=>new URLSearchParams(t),[t])}function KE({user:t}){const e=QE(),n=xn(),r=t&&t.uid?t.uid:null,{bookmark:i,loading:s,saveBookmark:o}=GE(r),[l,c]=_.useState(!1),u=e.get("crew")||"",h=e.get("date");_.useEffect(()=>{if(!r||!h||!/^\d{4}-\d{2}-\d{2}$/.test(h))return;const O=F(se,`users/${r}/dailyActivity/${h}`);jr(O,{biblePageVisited:!0,visitedAt:Date.now()}).catch($=>{console.error("[dailyActivity] failed to mark biblePageVisited",$)})},[r,h]);const[d,f]=_.useState(null),[v,y]=_.useState(null),[C,E]=_.useState(!0),[m,p]=_.useState(()=>{const O=localStorage.getItem("bibleFont");return O?parseInt(O):18}),[g,x]=_.useState(""),[w,k]=_.useState({book:null,chapter:null}),[S,N]=_.useState(!1);_.useEffect(()=>{localStorage.setItem("bibleFont",m)},[m]),_.useEffect(()=>{async function O(){try{if(!h){x("  ."),E(!1);return}const $=new Date(h+"T00:00:00");if(isNaN($.getTime())){x("   ."),E(!1);return}const j=$.getFullYear(),P=$.getMonth()+1,B=en(j,P),G=qn(u,B).find(Ne=>Ne.date===h);if(!G){x("      ."),E(!1);return}const be=await fetch("/bible_kor.json");if(!be.ok)throw new Error("   .");const $e=await be.json();y($e),f(G),E(!1)}catch($){console.error($),x("    ."),E(!1)}}O()},[u,h]);const A=()=>{const O=document.querySelectorAll("[id^='pos-']");if(!O||O.length===0)return null;let $=null,j=1/0;if(O.forEach(B=>{const W=B.getBoundingClientRect();if(W.bottom<=0)return;const G=Math.abs(W.top-80);G<j&&(j=G,$=B)}),!$)return null;const P=$.id.replace("pos-","").split("-");return{book:P[0],chapter:parseInt(P[1],10)}},I=async()=>{if(!r){alert(" .");return}if(!d){alert("   .    .");return}const O=A();if(!O||!O.book||!O.chapter){alert("       .");return}await o({bookId:O.book,chapter:O.chapter}),c(!0),setTimeout(()=>c(!1),1500)},H=()=>{if(!i||!i.bookId||!i.chapter)return;const O=document.getElementById(`pos-${i.bookId}-${i.chapter}`);O?O.scrollIntoView({behavior:"smooth",block:"start"}):alert("     .")},Q=O=>{if(!O)return"";const $=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp("("+$.join("|")+")\\d+:\\d+"),P=O.match(j);if(P){const B=O.indexOf(P[0]);if(B>10)return O.substring(0,B).trim()}return O};if(C)return a.jsxs("div",{style:{minHeight:"100vh",padding:20,background:"#E5FFF5"},children:[a.jsx("h2",{style:{marginTop:0},children:"  "}),a.jsx("p",{children:"  ..."})]});if(g||!d||!v)return a.jsxs("div",{style:{minHeight:"100vh",padding:20,background:"#E5FFF5"},children:[a.jsx("h2",{style:{marginTop:0},children:"  "}),a.jsx("p",{style:{color:"#b91c1c"},children:g||"   ."}),a.jsx("button",{onClick:()=>n(-1),style:{marginTop:16,padding:"8px 16px",borderRadius:999,border:"none",background:"#2563EB",color:"#0f172a",fontWeight:600,cursor:"pointer"},children:" "})]});const q=[];(d.items||[]).forEach(O=>{if(!(O!=null&&O.book)||!(O!=null&&O.chapter))return;const $=`${O.book}:${O.chapter}`;q.includes($)||q.push($)});const re=q.map(O=>{var W;const[$,j]=O.split(":"),P=parseInt(j,10),B=(W=v==null?void 0:v[$])==null?void 0:W[String(P)];return{book:$,chapter:P,verses:B||{}}}),de=d.panorama?d.panorama.parsedSections.map(O=>({...O,chapters:O.items.map($=>{var P;const j=(P=v==null?void 0:v[$.book])==null?void 0:P[String($.chapter)];return{book:$.book,chapter:$.chapter,verses:j||{}}})})):null;return a.jsx("div",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "SF Pro Text", "Apple SD Gothic Neo", system-ui',background:S?"#050509":"#f2f2f7",minHeight:"100vh"},children:a.jsxs("div",{style:{maxWidth:820,margin:"0 auto",minHeight:"100vh",padding:"12px 12px 24px",display:"flex",flexDirection:"column",gap:12},children:[a.jsxs("div",{style:{position:"sticky",top:0,zIndex:20,padding:"8px 4px 10px",marginBottom:4,display:"flex",alignItems:"center",justifyContent:"space-between",backdropFilter:"blur(18px)",WebkitBackdropFilter:"blur(18px)",background:S?"rgba(15,23,42,0.9)":"rgba(242,242,247,0.9)",borderBottom:S?"1px solid rgba(15,23,42,0.9)":"1px solid rgba(226,232,240,0.9)"},children:[a.jsx("button",{onClick:()=>n(-1),style:{width:54,padding:"6px 8px",borderRadius:14,border:"none",background:S?"rgba(15,23,42,0.8)":"#ffffff",boxShadow:S?"0 4px 10px rgba(0,0,0,0.45)":"0 4px 10px rgba(148,163,184,0.55)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:0,fontSize:18,cursor:"pointer",color:S?"#E5E7EB":"#111827"},children:""}),a.jsxs("button",{onClick:()=>N(O=>!O),"aria-label":S?"  ":" ",style:{padding:"6px 10px",borderRadius:999,border:"1px solid",borderColor:S?"rgba(255,255,255,0.18)":"rgba(15,23,42,0.12)",background:S?"rgba(255,255,255,0.08)":"rgba(15,23,42,0.06)",color:S?"#E5E7EB":"#111827",fontSize:13,fontWeight:700,display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[a.jsx("span",{style:{fontSize:16,lineHeight:1},children:S?"":""}),a.jsx("span",{style:{whiteSpace:"nowrap",lineHeight:1.2,letterSpacing:"0.01em"},children:S?" ":""})]})]}),a.jsxs("div",{style:{borderRadius:18,padding:14,color:S?"#E5E7EB":"#0f172a",background:S?"rgba(15,23,42,0.95)":"rgba(255,255,255,0.96)",boxShadow:S?"0 10px 25px rgba(0,0,0,0.7)":"0 8px 22px rgba(148,163,184,0.35)",display:"flex",flexDirection:"column",gap:10},children:[!s&&a.jsxs("div",{style:{padding:"9px 11px",borderRadius:12,color:S?"#E5E7EB":"#0f172a",background:S?"rgba(15,23,42,0.9)":"rgba(248,250,252,0.95)",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:13,gap:8},children:[a.jsx("span",{children:i?`  : ${i.bookId} ${i.chapter}`:"   ."}),i&&a.jsx("button",{onClick:H,style:{padding:"6px 10px",borderRadius:999,border:"none",background:"#4a6cf7",color:"#F9FAFB",fontSize:12,cursor:"pointer",whiteSpace:"nowrap"},children:" "})]}),a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:8},children:[a.jsxs("div",{style:{display:"flex",gap:8},children:[a.jsx("button",{onClick:()=>p(O=>Math.max(14,O-2)),style:{padding:"6px 10px",borderRadius:10,border:"none",background:S?"#020617":"#E5E7EB",color:S?"#E5E7EB":"#111827",fontWeight:600,cursor:"pointer"},children:"A-"}),a.jsx("button",{onClick:()=>p(O=>Math.min(26,O+2)),style:{padding:"6px 10px",borderRadius:10,border:"none",background:S?"#020617":"#E5E7EB",color:S?"#E5E7EB":"#111827",fontWeight:600,cursor:"pointer"},children:"A+"})]}),a.jsxs("div",{style:{fontSize:12,opacity:.8},children:[": ",h]})]}),d.panorama?a.jsxs("div",{style:{marginTop:8},children:[a.jsx("div",{style:{fontSize:26,fontWeight:800,color:"#1F8A70",letterSpacing:"-0.02em",marginBottom:8},children:d.panorama.mainTitle}),a.jsx("div",{style:{fontSize:16,fontWeight:600,opacity:.9,display:"flex",flexWrap:"wrap",gap:"8px 10px"},children:d.panorama.sections.map((O,$)=>a.jsxs("span",{style:{background:S?"rgba(31,138,112,0.25)":"#E5F3E6",color:S?"#86EFAC":"#1F8A70",padding:"4px 10px",borderRadius:10,border:S?"1px solid rgba(134,239,172,0.2)":"none"},children:[O.subTitle," (",O.bibleRef,")"]},$))})]}):a.jsxs("div",{style:{marginTop:12,fontSize:Math.max(22,m+4),letterSpacing:"0.01em",fontWeight:800},children:[u,"  ",d.label]})]})]}),a.jsx("div",{style:{flex:1,overflowY:"auto",background:S?"rgba(15,23,42,0.98)":"#ffffff",color:S?"#E5E7EB":"#0f172a",borderRadius:22,padding:18,boxShadow:S?"0 16px 40px rgba(0,0,0,0.8)":"0 16px 40px rgba(148,163,184,0.45)"},children:de?de.map((O,$)=>a.jsxs("div",{style:{marginBottom:40},children:[a.jsxs("div",{style:{padding:"8px 12px",background:S?"rgba(31,138,112,0.2)":"#E5F3E6",borderRadius:12,marginBottom:16,borderLeft:"4px solid #1F8A70"},children:[a.jsxs("div",{style:{fontSize:13,color:"#1F8A70",fontWeight:700,marginBottom:2},children:["SECTION ",$+1]}),a.jsxs("div",{style:{fontSize:18,fontWeight:800},children:[O.subTitle," (",O.bibleRef,")"]})]}),O.chapters.map(j=>a.jsxs("div",{id:`pos-${j.book}-${j.chapter}`,style:{marginBottom:22},children:[a.jsxs("h3",{style:{margin:"0 0 10px",fontSize:18,fontWeight:700},children:[j.book," ",j.chapter,""]}),Object.keys(j.verses).sort((P,B)=>parseInt(P,10)-parseInt(B,10)).map(P=>{const B=j.verses[P]||"",W=B.match(/^<([^>]+)>\s*(.*)$/),G=W?W[1]:null,be=W?W[2]:B;return a.jsxs("div",{style:{margin:"6px 0"},children:[G&&a.jsxs("div",{style:{color:"#1F8A70",fontWeight:700,fontSize:"1.05em",marginBottom:4},children:["[ ",G," ]"]}),a.jsxs("p",{style:{margin:"2px 0",fontSize:m,letterSpacing:"0.01em",lineHeight:1.65},children:[a.jsxs("strong",{children:[P,"."]})," ",Q(be)]})]},P)})]},j.book+j.chapter))]},$)):re.map(O=>{const $=Object.keys(O.verses).sort((j,P)=>parseInt(j,10)-parseInt(P,10));return a.jsxs("div",{id:`pos-${O.book}-${O.chapter}`,style:{marginBottom:22},onMouseEnter:()=>k({book:O.book,chapter:O.chapter}),children:[a.jsxs("h3",{style:{margin:"0 0 10px",fontSize:18,fontWeight:700},children:[O.book," ",O.chapter,""]}),$.map(j=>{const P=O.verses[j]||"",B=P.match(/^<([^>]+)>\s*(.*)$/),W=B?B[1]:null,G=B?B[2]:P;return a.jsxs("div",{style:{margin:"6px 0"},children:[W&&a.jsxs("div",{style:{color:"#1F8A70",fontWeight:700,fontSize:"1.05em",marginBottom:4},children:["[ ",W," ]"]}),a.jsxs("p",{style:{margin:"2px 0",fontSize:m,letterSpacing:"0.01em",lineHeight:1.65},children:[a.jsxs("strong",{children:[j,"."]})," ",Q(G)]})]},j)})]},O.book+O.chapter)})}),a.jsx("div",{style:{height:40}}),a.jsxs("button",{onClick:I,style:{position:"fixed",right:20,bottom:24,zIndex:9999,padding:"10px 16px",borderRadius:999,border:"none",background:"rgba(255,255,255,0.9)",color:"#0f172a",fontWeight:"bold",fontSize:14,boxShadow:"0 14px 30px rgba(15,23,42,0.35)",cursor:"pointer",display:"flex",alignItems:"center",gap:8},children:[a.jsx("span",{style:{fontSize:18},children:""}),a.jsx("span",{children:" "})]}),l&&a.jsx("div",{style:{position:"fixed",inset:0,zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.25)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:a.jsxs("div",{style:{width:"85%",maxWidth:340,padding:"16px 18px",borderRadius:28,background:"rgba(255,255,255,0.85)",color:"#0f172a",boxShadow:"0 20px 40px rgba(0,0,0,0.35)",textAlign:"center"},children:[a.jsx("div",{style:{width:48,height:48,margin:"0 auto 10px",borderRadius:24,background:"#34C759",display:"flex",alignItems:"center",justifyContent:"center",fontSize:24,color:"#fff"},children:""}),a.jsx("div",{style:{fontSize:16,fontWeight:700,marginBottom:4},children:" "}),a.jsx("div",{style:{fontSize:13,color:"#475569"},children:"      "})]})})]})})}function qE({user:t}){const e=xn(),[n,r]=_.useState({}),[i,s]=_.useState({});_.useEffect(()=>{const l=D0(u=>r(u||{})),c=dh(u=>s(u||{}));return()=>{typeof l=="function"&&l(),typeof c=="function"&&c()}},[]);const o=_.useMemo(()=>{const l=new Date,c=l.getFullYear(),u=l.getMonth()+1,h=en(c,u);if(!h||h.length===0)return{dates:[],todayKey:"",byCrew:{}};const d=l.getDate(),f=`${c}-${String(u).padStart(2,"0")}-${String(d).padStart(2,"0")}`,v=h.slice(0,d),y={};return We.forEach(C=>{const E=n&&n[C],m=E&&E.users||{},p=qn(C,h),g={};(p||[]).forEach(w=>{!w||!w.date||(g[w.date]=typeof w.chapters=="number"?w.chapters:0)});const x=[];Object.entries(m).forEach(([w,k])=>{const S=k&&k.checks||{};let N=0,A=0;if(v.forEach(de=>{const O=g[de]||0;O&&(A+=O,S[de]&&(N+=O))}),A===0)return;const I=i&&i[w]||{},H=I.name||w,Q=I.medals||{},q=Math.round(N/A*100),re=gh({dates:h,todayKey:f,userChecks:S,userDailyActivity:I.dailyActivity||{}});x.push({uid:w,name:H,chapters:N,progress:q,stateKey:re.key,stateLabel:re.label,medals:Q})}),x.sort((w,k)=>(k.chapters||0)-(w.chapters||0)),y[C]=x}),{dates:h,todayKey:f,byCrew:y}},[n,i]);return a.jsxs("div",{style:{padding:25,minHeight:"100vh",background:"#E5F3E6",color:"#034732"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[a.jsx("h2",{style:{margin:0,fontSize:26},children:"   "}),a.jsx("button",{onClick:()=>e("/home"),style:{padding:"10px 14px",borderRadius:12,border:"none",background:"#E8F6F0",color:"#1E7F74",fontWeight:900,cursor:"pointer"},children:"  "})]}),a.jsxs("div",{style:{fontSize:12,color:"#2F3A33",marginBottom:14},children:[" ",a.jsx("b",{children:"  /   .. /   /  !"}),"  ."]}),We.map(l=>{const c=o.byCrew&&o.byCrew[l]||[];return a.jsxs("div",{style:{marginBottom:16,padding:14,borderRadius:12,background:"#FFFFFF",boxShadow:"0 4px 10px rgba(0,0,0,0.06)"},children:[a.jsx("h3",{style:{margin:0,marginBottom:10},children:qt(l)}),c.length===0?a.jsx("div",{style:{fontSize:12,color:"#64748B"},children:"    ."}):a.jsx("div",{style:{overflowX:"auto"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:12,background:"#F8FAFF",borderRadius:12},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{style:{borderBottom:"1px solid #CBD5E1",padding:6,textAlign:"left"},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #CBD5E1",padding:6,textAlign:"right"},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #CBD5E1",padding:6,textAlign:"right"},children:" "}),a.jsx("th",{style:{borderBottom:"1px solid #CBD5E1",padding:6,textAlign:"center"},children:""}),a.jsx("th",{style:{borderBottom:"1px solid #CBD5E1",padding:6,textAlign:"center"},children:""})]})}),a.jsx("tbody",{children:c.map(u=>{var h,d,f;return a.jsxs("tr",{children:[a.jsx("td",{style:{borderBottom:"1px solid #E2E8F0",padding:6},children:u.name}),a.jsxs("td",{style:{borderBottom:"1px solid #E2E8F0",padding:6,textAlign:"right"},children:[u.progress,"%"]}),a.jsxs("td",{style:{borderBottom:"1px solid #E2E8F0",padding:6,textAlign:"right"},children:[u.chapters,""]}),a.jsx("td",{style:{borderBottom:"1px solid #E2E8F0",padding:6,textAlign:"center"},children:(()=>{const v=u.stateLabel||" ",y=u.stateKey||"",C=y==="success"||v.includes(""),E=y==="ready"||v.includes(""),m=y==="running"||v.includes("");if(y==="fail"||v.includes("!"),E)return a.jsx("span",{style:{color:"#166534",fontWeight:600},children:v});const p={display:"inline-block",borderRadius:8,padding:"4px 16px",fontWeight:600,backgroundColor:C?"#DCFCE7":m?"#DBEAFE":"#E5E7EB",color:C?"#166534":m?"#1D4ED8":"#111827"};return a.jsx("span",{style:p,children:v})})()}),a.jsx("td",{style:{borderBottom:"1px solid #E2E8F0",padding:6,textAlign:"center"},children:a.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:4},children:[(((h=u.medals)==null?void 0:h.gold)||0)>0&&a.jsxs("div",{children:[a.jsx("span",{children:""})," ",a.jsx("b",{children:u.medals.gold})]}),(((d=u.medals)==null?void 0:d.silver)||0)>0&&a.jsxs("div",{children:[a.jsx("span",{children:""})," ",a.jsx("b",{children:u.medals.silver})]}),(((f=u.medals)==null?void 0:f.bronze)||0)>0&&a.jsxs("div",{children:[a.jsx("span",{children:""})," ",a.jsx("b",{children:u.medals.bronze})]})]})})]},u.uid)})})]})})]},l)})]})}function XE(){const[t,e]=_.useState(null);_.useEffect(()=>{try{const r=localStorage.getItem("biblecrew_user");r&&e(JSON.parse(r))}catch(r){console.error(r)}},[]);async function n(r,i){const s=(r||"").trim();if(!s)return null;const o=await Kw(s,i||""),l={uid:o.uid,name:o.name||s,crew:o.crew||null,mustChangePassword:!!o.mustChangePassword};return e(l),localStorage.setItem("biblecrew_user",JSON.stringify(l)),l}return a.jsx(hE,{children:a.jsxs(cE,{children:[a.jsx(Pe,{path:"/admin-login",element:a.jsx(ME,{})}),a.jsx(Pe,{path:"/",element:a.jsx(Bp,{onLogin:n})}),a.jsx(Pe,{path:"/login",element:a.jsx(Bp,{onLogin:n})}),a.jsx(Pe,{path:"/home",element:a.jsx(fE,{user:t})}),a.jsx(Pe,{path:"/crew-members",element:a.jsx(qE,{user:t})}),a.jsx(Pe,{path:"/change-password",element:a.jsx(zE,{user:t})}),a.jsx(Pe,{path:"/",element:a.jsx(Cn,{crewName:"",user:t})}),a.jsx(Pe,{path:"/",element:a.jsx(Cn,{crewName:"",user:t})}),a.jsx(Pe,{path:"/A",element:a.jsx(Cn,{crewName:"(A)",user:t})}),a.jsx(Pe,{path:"/B",element:a.jsx(Cn,{crewName:"(B)",user:t})}),a.jsx(Pe,{path:"/",element:a.jsx(Cn,{crewName:"",user:t})}),a.jsx(Pe,{path:"/",element:a.jsx(Cn,{crewName:"",user:t})}),a.jsx(Pe,{path:"/",element:a.jsx(Cn,{crewName:"",user:t})}),a.jsx(Pe,{path:"/",element:a.jsx(Cn,{crewName:"",user:t})}),a.jsx(Pe,{path:"/",element:a.jsx(pE,{})}),a.jsx(Pe,{path:"/records",element:a.jsx(YE,{user:t})}),a.jsx(Pe,{path:"/",element:a.jsx(KE,{user:t})}),a.jsx(Pe,{path:"/admin",element:a.jsx(DE,{})}),a.jsx(Pe,{path:"/admin/class-notice",element:a.jsx(FE,{})})]})})}const JE=document.getElementById("root"),ZE=e1(JE);ZE.render(a.jsx(XE,{}));
